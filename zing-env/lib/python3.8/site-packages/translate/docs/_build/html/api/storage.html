
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>storage &#8212; Translate Toolkit 2.5.0 documentation</title>
    <link rel="stylesheet" href="../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-sphinx.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/language_data.js"></script>
    <script type="text/javascript" src="../_static/bootstrap.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-sphinx.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="tools" href="tools.html" />
    <link rel="prev" title="services" href="services.html" /> 
  </head><body>
  <div id="navbar" class="navbar navbar-fixed-top">
    <div class="navbar-inner">
      <div class="container-fluid">
        <a class="brand" href="../index.html">Translate Toolkit</a>
        <span class="navbar-text pull-left"><b>2.5.0</b></span>
          <ul class="nav">
            <li class="divider-vertical"></li>
            
              <li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown">Site <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"><ul>
<li class="toctree-l1"><a class="reference internal" href="../features.html">Features</a></li>
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../commands/index.html">Converters</a></li>
<li class="toctree-l1"><a class="reference internal" href="../commands/index.html#tools">Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../commands/index.html#scripts">Scripts</a></li>
<li class="toctree-l1"><a class="reference internal" href="../guides/index.html">Use Cases</a></li>
<li class="toctree-l1"><a class="reference internal" href="../formats/index.html">Supported formats</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../developers/styleguide.html">Translate Styleguide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../developers/styleguide.html#documentation">Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../developers/building.html">Building</a></li>
<li class="toctree-l1"><a class="reference internal" href="../developers/testing.html">Testing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../developers/testing.html#command-line-functional-testing">Command Line Functional Testing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../developers/contributing.html">Contributing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../developers/developers.html">Translate Toolkit Developers Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../developers/releasing.html">Making a Translate Toolkit Release</a></li>
<li class="toctree-l1"><a class="reference internal" href="../developers/deprecation.html">Deprecation of Features</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../releases/index.html">Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../history.html">History of the Translate Toolkit</a></li>
<li class="toctree-l1"><a class="reference internal" href="../license.html">License</a></li>
</ul>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="index.html">API</a></li>
</ul>
</ul>
</li>
              
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown">Page <b class="caret"></b></a>
  <ul class="dropdown-menu localtoc"><ul>
<li><a class="reference internal" href="#">storage</a><ul>
<li><a class="reference internal" href="#module-translate.storage.base">base</a></li>
<li><a class="reference internal" href="#module-translate.storage.benchmark">benchmark</a></li>
<li><a class="reference internal" href="#module-translate.storage.bundleprojstore">bundleprojstore</a></li>
<li><a class="reference internal" href="#module-translate.storage.catkeys">catkeys</a></li>
<li><a class="reference internal" href="#module-translate.storage.cpo">cpo</a></li>
<li><a class="reference internal" href="#module-translate.storage.csvl10n">csvl10n</a></li>
<li><a class="reference internal" href="#module-translate.storage.directory">directory</a></li>
<li><a class="reference internal" href="#module-translate.storage.dtd">dtd</a></li>
<li><a class="reference internal" href="#module-translate.storage._factory_classes">_factory_classes</a></li>
<li><a class="reference internal" href="#module-translate.storage.factory">factory</a></li>
<li><a class="reference internal" href="#module-translate.storage.fpo">fpo</a></li>
<li><a class="reference internal" href="#module-translate.storage.html">html</a></li>
<li><a class="reference internal" href="#module-translate.storage.ical">ical</a></li>
<li><a class="reference internal" href="#module-translate.storage.ini">ini</a></li>
<li><a class="reference internal" href="#module-translate.storage.jsonl10n">jsonl10n</a></li>
<li><a class="reference internal" href="#module-translate.storage.lisa">lisa</a></li>
<li><a class="reference internal" href="#module-translate.storage.mo">mo</a></li>
<li><a class="reference internal" href="#module-translate.storage.mozilla_lang">mozilla_lang</a></li>
<li><a class="reference internal" href="#module-translate.storage.odf_io">odf_io</a></li>
<li><a class="reference internal" href="#module-translate.storage.odf_shared">odf_shared</a></li>
<li><a class="reference internal" href="#module-translate.storage.omegat">omegat</a></li>
<li><a class="reference internal" href="#module-translate.storage.oo">oo</a></li>
<li><a class="reference internal" href="#module-translate.storage.placeables">placeables</a><ul>
<li><a class="reference internal" href="#id2">base</a></li>
<li><a class="reference internal" href="#module-translate.storage.placeables.general">general</a></li>
<li><a class="reference internal" href="#module-translate.storage.placeables.interfaces">interfaces</a></li>
<li><a class="reference internal" href="#id3">lisa</a></li>
<li><a class="reference internal" href="#module-translate.storage.placeables.parse">parse</a></li>
<li><a class="reference internal" href="#module-translate.storage.placeables.strelem">strelem</a></li>
<li><a class="reference internal" href="#module-translate.storage.placeables.terminology">terminology</a></li>
<li><a class="reference internal" href="#id4">xliff</a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-translate.storage.php">php</a></li>
<li><a class="reference internal" href="#module-translate.storage.pocommon">pocommon</a></li>
<li><a class="reference internal" href="#module-translate.storage.poheader">poheader</a></li>
<li><a class="reference internal" href="#module-translate.storage.poparser">poparser</a></li>
<li><a class="reference internal" href="#module-translate.storage.po">po</a></li>
<li><a class="reference internal" href="#module-translate.storage.poxliff">poxliff</a></li>
<li><a class="reference internal" href="#module-translate.storage.project">project</a></li>
<li><a class="reference internal" href="#module-translate.storage.projstore">projstore</a></li>
<li><a class="reference internal" href="#module-translate.storage.properties">properties</a></li>
<li><a class="reference internal" href="#module-translate.storage.pypo">pypo</a></li>
<li><a class="reference internal" href="#module-translate.storage.qm">qm</a></li>
<li><a class="reference internal" href="#module-translate.storage.qph">qph</a></li>
<li><a class="reference internal" href="#module-translate.storage.rc">rc</a></li>
<li><a class="reference internal" href="#module-translate.storage.statistics">statistics</a></li>
<li><a class="reference internal" href="#module-translate.storage.statsdb">statsdb</a></li>
<li><a class="reference internal" href="#module-translate.storage.subtitles">subtitles</a></li>
<li><a class="reference internal" href="#module-translate.storage.symbian">symbian</a></li>
<li><a class="reference internal" href="#module-translate.storage.tbx">tbx</a></li>
<li><a class="reference internal" href="#module-translate.storage.tiki">tiki</a></li>
<li><a class="reference internal" href="#module-translate.storage.tmdb">tmdb</a></li>
<li><a class="reference internal" href="#module-translate.storage.tmx">tmx</a></li>
<li><a class="reference internal" href="#module-translate.storage.trados">trados</a></li>
<li><a class="reference internal" href="#module-translate.storage.ts2">ts2</a></li>
<li><a class="reference internal" href="#module-translate.storage.ts">ts</a></li>
<li><a class="reference internal" href="#module-translate.storage.txt">txt</a></li>
<li><a class="reference internal" href="#module-translate.storage.utx">utx</a></li>
<li><a class="reference internal" href="#module-translate.storage.versioncontrol">versioncontrol</a><ul>
<li><a class="reference internal" href="#module-translate.storage.versioncontrol.bzr">bzr</a></li>
<li><a class="reference internal" href="#module-translate.storage.versioncontrol.cvs">cvs</a></li>
<li><a class="reference internal" href="#module-translate.storage.versioncontrol.darcs">darcs</a></li>
<li><a class="reference internal" href="#module-translate.storage.versioncontrol.git">git</a></li>
<li><a class="reference internal" href="#module-translate.storage.versioncontrol.hg">hg</a></li>
<li><a class="reference internal" href="#module-translate.storage.versioncontrol.svn">svn</a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-translate.storage.wordfast">wordfast</a></li>
<li><a class="reference internal" href="#module-translate.storage.workflow">workflow</a></li>
<li><a class="reference internal" href="#id13">xliff</a></li>
<li><a class="reference internal" href="#module-translate.storage.xml_extract">xml_extract</a><ul>
<li><a class="reference internal" href="#module-translate.storage.xml_extract.extract">extract</a></li>
<li><a class="reference internal" href="#module-translate.storage.xml_extract.generate">generate</a></li>
<li><a class="reference internal" href="#module-translate.storage.xml_extract.misc">misc</a></li>
<li><a class="reference internal" href="#module-translate.storage.xml_extract.unit_tree">unit_tree</a></li>
<li><a class="reference internal" href="#module-translate.storage.xml_extract.xpath_breadcrumb">xpath_breadcrumb</a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-translate.storage.xml_name">xml_name</a></li>
<li><a class="reference internal" href="#module-translate.storage.zip">zip</a></li>
</ul>
</li>
</ul>
</ul>
</li>
            
            
              
  <li><a href="services.html"
         title="previous chapter">&laquo; services</a></li>
  <li><a href="tools.html"
         title="next chapter">tools &raquo;</a></li>
            
          </ul>
          <ul class="nav pull-right">
            
              
            
          
            
<form class="navbar-search pull-right" action="../search.html" method="get">
  <input type="text" name="q" placeholder="Search" />
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
          </ul>
        </div>
      </div>
    </div>
  </div>

<div class="container content">
   
  <div class="section" id="module-translate.storage">
<span id="storage"></span><h1>storage<a class="headerlink" href="#module-translate.storage" title="Permalink to this headline">¶</a></h1>
<p>Classes that represent various storage formats for localization.</p>
<div class="section" id="module-translate.storage.base">
<span id="base"></span><h2>base<a class="headerlink" href="#module-translate.storage.base" title="Permalink to this headline">¶</a></h2>
<p>Base classes for storage interfaces.</p>
<dl class="exception">
<dt id="translate.storage.base.ParseError">
<em class="property">exception </em><code class="descclassname">translate.storage.base.</code><code class="descname">ParseError</code><span class="sig-paren">(</span><em>inner_exc</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.base.ParseError" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="class">
<dt id="translate.storage.base.TranslationStore">
<em class="property">class </em><code class="descclassname">translate.storage.base.</code><code class="descname">TranslationStore</code><span class="sig-paren">(</span><em>unitclass=None</em>, <em>encoding=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.base.TranslationStore" title="Permalink to this definition">¶</a></dt>
<dd><p>Base class for stores for multiple translation units of type UnitClass.</p>
<dl class="attribute">
<dt id="translate.storage.base.TranslationStore.Extensions">
<code class="descname">Extensions</code><em class="property"> = None</em><a class="headerlink" href="#translate.storage.base.TranslationStore.Extensions" title="Permalink to this definition">¶</a></dt>
<dd><p>A list of file extentions associated with this store type</p>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.base.TranslationStore.Mimetypes">
<code class="descname">Mimetypes</code><em class="property"> = None</em><a class="headerlink" href="#translate.storage.base.TranslationStore.Mimetypes" title="Permalink to this definition">¶</a></dt>
<dd><p>A list of MIME types associated with this store type</p>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.base.TranslationStore.Name">
<code class="descname">Name</code><em class="property"> = 'Base translation store'</em><a class="headerlink" href="#translate.storage.base.TranslationStore.Name" title="Permalink to this definition">¶</a></dt>
<dd><p>The human usable name of this store type</p>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.base.TranslationStore.UnitClass">
<code class="descname">UnitClass</code><a class="headerlink" href="#translate.storage.base.TranslationStore.UnitClass" title="Permalink to this definition">¶</a></dt>
<dd><p>The class of units that will be instantiated and used by this class</p>
<p>alias of <a class="reference internal" href="#translate.storage.base.TranslationUnit" title="translate.storage.base.TranslationUnit"><code class="xref py py-class docutils literal notranslate"><span class="pre">TranslationUnit</span></code></a></p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.base.TranslationStore.add_unit_to_index">
<code class="descname">add_unit_to_index</code><span class="sig-paren">(</span><em>unit</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.base.TranslationStore.add_unit_to_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a unit to source and location idexes</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.base.TranslationStore.addsourceunit">
<code class="descname">addsourceunit</code><span class="sig-paren">(</span><em>source</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.base.TranslationStore.addsourceunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Add and returns a new unit with the given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference internal" href="#translate.storage.base.TranslationUnit" title="translate.storage.base.TranslationUnit"><code class="xref py py-class docutils literal notranslate"><span class="pre">TranslationUnit</span></code></a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.base.TranslationStore.addunit">
<code class="descname">addunit</code><span class="sig-paren">(</span><em>unit</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.base.TranslationStore.addunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Append the given unit to the object’s list of units.</p>
<p>This method should always be used rather than trying to modify the
list manually.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>unit</strong> (<a class="reference internal" href="#translate.storage.base.TranslationUnit" title="translate.storage.base.TranslationUnit"><code class="xref py py-class docutils literal notranslate"><span class="pre">TranslationUnit</span></code></a>) – The unit that will be added.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.base.TranslationStore.detect_encoding">
<code class="descname">detect_encoding</code><span class="sig-paren">(</span><em>text</em>, <em>default_encodings=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.base.TranslationStore.detect_encoding" title="Permalink to this definition">¶</a></dt>
<dd><p>Try to detect a file encoding from <cite>text</cite>, using either the chardet lib
or by trying to decode the file.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.base.TranslationStore.fallback_detection">
<code class="descname">fallback_detection</code><span class="sig-paren">(</span><em>text</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.base.TranslationStore.fallback_detection" title="Permalink to this definition">¶</a></dt>
<dd><p>Simple detection based on BOM in case chardet is not available.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.base.TranslationStore.findid">
<code class="descname">findid</code><span class="sig-paren">(</span><em>id</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.base.TranslationStore.findid" title="Permalink to this definition">¶</a></dt>
<dd><p>find unit with matching id by checking id_index</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.base.TranslationStore.findunit">
<code class="descname">findunit</code><span class="sig-paren">(</span><em>source</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.base.TranslationStore.findunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the unit with the given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference internal" href="#translate.storage.base.TranslationUnit" title="translate.storage.base.TranslationUnit"><code class="xref py py-class docutils literal notranslate"><span class="pre">TranslationUnit</span></code></a> or None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.base.TranslationStore.findunits">
<code class="descname">findunits</code><span class="sig-paren">(</span><em>source</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.base.TranslationStore.findunits" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the units with the given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference internal" href="#translate.storage.base.TranslationUnit" title="translate.storage.base.TranslationUnit"><code class="xref py py-class docutils literal notranslate"><span class="pre">TranslationUnit</span></code></a> or None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.base.TranslationStore.getids">
<code class="descname">getids</code><span class="sig-paren">(</span><em>filename=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.base.TranslationStore.getids" title="Permalink to this definition">¶</a></dt>
<dd><p>return a list of unit ids</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.base.TranslationStore.getprojectstyle">
<code class="descname">getprojectstyle</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.base.TranslationStore.getprojectstyle" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the project type for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.base.TranslationStore.getsourcelanguage">
<code class="descname">getsourcelanguage</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.base.TranslationStore.getsourcelanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the source language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.base.TranslationStore.gettargetlanguage">
<code class="descname">gettargetlanguage</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.base.TranslationStore.gettargetlanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the target language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.base.TranslationStore.getunits">
<code class="descname">getunits</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.base.TranslationStore.getunits" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of all units in this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.base.TranslationStore.isempty">
<code class="descname">isempty</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.base.TranslationStore.isempty" title="Permalink to this definition">¶</a></dt>
<dd><p>Return True if the object doesn’t contain any translation units.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.base.TranslationStore.makeindex">
<code class="descname">makeindex</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.base.TranslationStore.makeindex" title="Permalink to this definition">¶</a></dt>
<dd><p>Indexes the items in this store. At least .sourceindex should be
useful.</p>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.base.TranslationStore.merge_on">
<code class="descname">merge_on</code><a class="headerlink" href="#translate.storage.base.TranslationStore.merge_on" title="Permalink to this definition">¶</a></dt>
<dd><p>The matching criterion to use when merging on.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The default matching criterion for all the subclasses.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">string</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.base.TranslationStore.parse">
<code class="descname">parse</code><span class="sig-paren">(</span><em>data</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.base.TranslationStore.parse" title="Permalink to this definition">¶</a></dt>
<dd><p>parser to process the given source string</p>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.base.TranslationStore.parsefile">
<em class="property">classmethod </em><code class="descname">parsefile</code><span class="sig-paren">(</span><em>storefile</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.base.TranslationStore.parsefile" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads the given file (or opens the given filename) and parses back
to an object.</p>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.base.TranslationStore.parsestring">
<em class="property">classmethod </em><code class="descname">parsestring</code><span class="sig-paren">(</span><em>storestring</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.base.TranslationStore.parsestring" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert the string representation back to an object.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.base.TranslationStore.remove_unit_from_index">
<code class="descname">remove_unit_from_index</code><span class="sig-paren">(</span><em>unit</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.base.TranslationStore.remove_unit_from_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove a unit from source and locaton indexes</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.base.TranslationStore.require_index">
<code class="descname">require_index</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.base.TranslationStore.require_index" title="Permalink to this definition">¶</a></dt>
<dd><p>make sure source index exists</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.base.TranslationStore.save">
<code class="descname">save</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.base.TranslationStore.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Save to the file that data was originally read from, if available.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.base.TranslationStore.savefile">
<code class="descname">savefile</code><span class="sig-paren">(</span><em>storefile</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.base.TranslationStore.savefile" title="Permalink to this definition">¶</a></dt>
<dd><p>Write the string representation to the given file (or filename).</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.base.TranslationStore.serialize">
<code class="descname">serialize</code><span class="sig-paren">(</span><em>out</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.base.TranslationStore.serialize" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts to a bytes representation that can be parsed back using
<a class="reference internal" href="#translate.storage.base.TranslationStore.parsestring" title="translate.storage.base.TranslationStore.parsestring"><code class="xref py py-meth docutils literal notranslate"><span class="pre">parsestring()</span></code></a>.
<cite>out</cite> should be an open file-like objects to write to.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.base.TranslationStore.setprojectstyle">
<code class="descname">setprojectstyle</code><span class="sig-paren">(</span><em>project_style</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.base.TranslationStore.setprojectstyle" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the project type for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.base.TranslationStore.setsourcelanguage">
<code class="descname">setsourcelanguage</code><span class="sig-paren">(</span><em>sourcelanguage</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.base.TranslationStore.setsourcelanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the source language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.base.TranslationStore.settargetlanguage">
<code class="descname">settargetlanguage</code><span class="sig-paren">(</span><em>targetlanguage</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.base.TranslationStore.settargetlanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the target language for this store.</p>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.base.TranslationStore.suggestions_in_format">
<code class="descname">suggestions_in_format</code><em class="property"> = False</em><a class="headerlink" href="#translate.storage.base.TranslationStore.suggestions_in_format" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates if format can store suggestions and alternative translation
for a unit</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.base.TranslationStore.translate">
<code class="descname">translate</code><span class="sig-paren">(</span><em>source</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.base.TranslationStore.translate" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the translated string for a given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">String or <a class="reference external" href="https://docs.python.org/2.7/library/constants.html#None" title="(in Python v2.7)">None</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.base.TranslationStore.unit_iter">
<code class="descname">unit_iter</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.base.TranslationStore.unit_iter" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterator over all the units in this store.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="translate.storage.base.TranslationUnit">
<em class="property">class </em><code class="descclassname">translate.storage.base.</code><code class="descname">TranslationUnit</code><span class="sig-paren">(</span><em>source=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.base.TranslationUnit" title="Permalink to this definition">¶</a></dt>
<dd><p>Base class for translation units.</p>
<p>Our concept of a <em>translation unit</em> is influenced heavily by <a class="reference external" href="http://docs.oasis-open.org/xliff/xliff-core/xliff-core.html">XLIFF</a>.</p>
<p>As such most of the method- and variable names borrows from XLIFF
terminology.</p>
<p>A translation unit consists of the following:</p>
<ul class="simple">
<li>A <em>source</em> string. This is the original translatable text.</li>
<li>A <em>target</em> string. This is the translation of the <em>source</em>.</li>
<li>Zero or more <em>notes</em> on the unit. Notes would typically be some comments
from a translator on the unit, or some comments originating from the
source code.</li>
<li>Zero or more <em>locations</em>. Locations indicate where in the original source
code this unit came from.</li>
<li>Zero or more <em>errors</em>. Some tools (eg.
<a class="reference internal" href="filters.html#module-translate.filters.pofilter" title="translate.filters.pofilter"><code class="xref py py-mod docutils literal notranslate"><span class="pre">pofilter</span></code></a>) can run checks on translations and
produce error messages.</li>
</ul>
<dl class="method">
<dt id="translate.storage.base.TranslationUnit.adderror">
<code class="descname">adderror</code><span class="sig-paren">(</span><em>errorname</em>, <em>errortext</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.base.TranslationUnit.adderror" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds an error message to this unit.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>errorname</strong> (<em>string</em>) – A single word to id the error.</li>
<li><strong>errortext</strong> (<em>string</em>) – The text describing the error.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.base.TranslationUnit.addlocation">
<code class="descname">addlocation</code><span class="sig-paren">(</span><em>location</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.base.TranslationUnit.addlocation" title="Permalink to this definition">¶</a></dt>
<dd><p>Add one location to the list of locations.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Shouldn’t be implemented if the format doesn’t support it.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.base.TranslationUnit.addlocations">
<code class="descname">addlocations</code><span class="sig-paren">(</span><em>location</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.base.TranslationUnit.addlocations" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a location or a list of locations.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Most classes shouldn’t need to implement this, but should rather
implement <a class="reference internal" href="#translate.storage.base.TranslationUnit.addlocation" title="translate.storage.base.TranslationUnit.addlocation"><code class="xref py py-meth docutils literal notranslate"><span class="pre">TranslationUnit.addlocation()</span></code></a>.</p>
</div>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">This method might be removed in future.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.base.TranslationUnit.addnote">
<code class="descname">addnote</code><span class="sig-paren">(</span><em>text</em>, <em>origin=None</em>, <em>position='append'</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.base.TranslationUnit.addnote" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds a note (comment).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>text</strong> (<em>string</em>) – Usually just a sentence or two.</li>
<li><strong>origin</strong> (<em>string</em>) – Specifies who/where the comment comes from.
Origin can be one of the following text strings:
- ‘translator’
- ‘developer’, ‘programmer’, ‘source code’ (synonyms)</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.base.TranslationUnit.buildfromunit">
<em class="property">classmethod </em><code class="descname">buildfromunit</code><span class="sig-paren">(</span><em>unit</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.base.TranslationUnit.buildfromunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Build a native unit from a foreign unit, preserving as much
information as possible.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.base.TranslationUnit.getcontext">
<code class="descname">getcontext</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.base.TranslationUnit.getcontext" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the message context.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.base.TranslationUnit.geterrors">
<code class="descname">geterrors</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.base.TranslationUnit.geterrors" title="Permalink to this definition">¶</a></dt>
<dd><p>Get all error messages.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">Dictionary</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.base.TranslationUnit.getid">
<code class="descname">getid</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.base.TranslationUnit.getid" title="Permalink to this definition">¶</a></dt>
<dd><p>A unique identifier for this unit.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">string</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">an identifier for this unit that is unique in the store</td>
</tr>
</tbody>
</table>
<p>Derived classes should override this in a way that guarantees a unique
identifier for each unit in the store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.base.TranslationUnit.getlocations">
<code class="descname">getlocations</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.base.TranslationUnit.getlocations" title="Permalink to this definition">¶</a></dt>
<dd><p>A list of source code locations.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">List</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Shouldn’t be implemented if the format doesn’t support it.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.base.TranslationUnit.getnotes">
<code class="descname">getnotes</code><span class="sig-paren">(</span><em>origin=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.base.TranslationUnit.getnotes" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns all notes about this unit.</p>
<p>It will probably be freeform text or something reasonable that can be
synthesised by the format.
It should not include location comments (see
<a class="reference internal" href="#translate.storage.base.TranslationUnit.getlocations" title="translate.storage.base.TranslationUnit.getlocations"><code class="xref py py-meth docutils literal notranslate"><span class="pre">getlocations()</span></code></a>).</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.base.TranslationUnit.gettargetlen">
<code class="descname">gettargetlen</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.base.TranslationUnit.gettargetlen" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the length of the target string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">Integer</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Plural forms might be combined.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.base.TranslationUnit.getunits">
<code class="descname">getunits</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.base.TranslationUnit.getunits" title="Permalink to this definition">¶</a></dt>
<dd><p>This unit in a list.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.base.TranslationUnit.hasplural">
<code class="descname">hasplural</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.base.TranslationUnit.hasplural" title="Permalink to this definition">¶</a></dt>
<dd><p>Tells whether or not this specific unit has plural strings.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.base.TranslationUnit.infer_state">
<code class="descname">infer_state</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.base.TranslationUnit.infer_state" title="Permalink to this definition">¶</a></dt>
<dd><p>Empty method that should be overridden in sub-classes to infer the
current state(_n) of the unit from its current state.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.base.TranslationUnit.isblank">
<code class="descname">isblank</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.base.TranslationUnit.isblank" title="Permalink to this definition">¶</a></dt>
<dd><p>Used to see if this unit has no source or target string.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This is probably used more to find translatable units,
and we might want to move in that direction rather and
get rid of this.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.base.TranslationUnit.isfuzzy">
<code class="descname">isfuzzy</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.base.TranslationUnit.isfuzzy" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit is fuzzy.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.base.TranslationUnit.isheader">
<code class="descname">isheader</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.base.TranslationUnit.isheader" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit is a header.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.base.TranslationUnit.isobsolete">
<code class="descname">isobsolete</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.base.TranslationUnit.isobsolete" title="Permalink to this definition">¶</a></dt>
<dd><p>indicate whether a unit is obsolete</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.base.TranslationUnit.isreview">
<code class="descname">isreview</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.base.TranslationUnit.isreview" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit needs review.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.base.TranslationUnit.istranslatable">
<code class="descname">istranslatable</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.base.TranslationUnit.istranslatable" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit can be translated.</p>
<p>This should be used to distinguish real units for translation from
header, obsolete, binary or other blank units.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.base.TranslationUnit.istranslated">
<code class="descname">istranslated</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.base.TranslationUnit.istranslated" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit is translated.</p>
<p>This should be used rather than deducing it from .target,
to ensure that other classes can implement more functionality
(as XLIFF does).</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.base.TranslationUnit.makeobsolete">
<code class="descname">makeobsolete</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.base.TranslationUnit.makeobsolete" title="Permalink to this definition">¶</a></dt>
<dd><p>Make a unit obsolete</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.base.TranslationUnit.markfuzzy">
<code class="descname">markfuzzy</code><span class="sig-paren">(</span><em>value=True</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.base.TranslationUnit.markfuzzy" title="Permalink to this definition">¶</a></dt>
<dd><p>Marks the unit as fuzzy or not.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.base.TranslationUnit.markreviewneeded">
<code class="descname">markreviewneeded</code><span class="sig-paren">(</span><em>needsreview=True</em>, <em>explanation=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.base.TranslationUnit.markreviewneeded" title="Permalink to this definition">¶</a></dt>
<dd><p>Marks the unit to indicate whether it needs review.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>needsreview</strong> – Defaults to True.</li>
<li><strong>explanation</strong> – Adds an optional explanation as a note.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.base.TranslationUnit.merge">
<code class="descname">merge</code><span class="sig-paren">(</span><em>otherunit</em>, <em>overwrite=False</em>, <em>comments=True</em>, <em>authoritative=False</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.base.TranslationUnit.merge" title="Permalink to this definition">¶</a></dt>
<dd><p>Do basic format agnostic merging.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.base.TranslationUnit.multistring_to_rich">
<code class="descname">multistring_to_rich</code><span class="sig-paren">(</span><em>mulstring</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.base.TranslationUnit.multistring_to_rich" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a multistring to a list of “rich” string trees:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">target</span> <span class="o">=</span> <span class="n">multistring</span><span class="p">([</span><span class="sa">u</span><span class="s1">&#39;foo&#39;</span><span class="p">,</span> <span class="sa">u</span><span class="s1">&#39;bar&#39;</span><span class="p">,</span> <span class="sa">u</span><span class="s1">&#39;baz&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">TranslationUnit</span><span class="o">.</span><span class="n">multistring_to_rich</span><span class="p">(</span><span class="n">target</span><span class="p">)</span>
<span class="go">[&lt;StringElem([&lt;StringElem([u&#39;foo&#39;])&gt;])&gt;,</span>
<span class="go"> &lt;StringElem([&lt;StringElem([u&#39;bar&#39;])&gt;])&gt;,</span>
<span class="go"> &lt;StringElem([&lt;StringElem([u&#39;baz&#39;])&gt;])&gt;]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.base.TranslationUnit.removenotes">
<code class="descname">removenotes</code><span class="sig-paren">(</span><em>origin=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.base.TranslationUnit.removenotes" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove all the translator’s notes.</p>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.base.TranslationUnit.rich_parsers">
<code class="descname">rich_parsers</code><em class="property"> = []</em><a class="headerlink" href="#translate.storage.base.TranslationUnit.rich_parsers" title="Permalink to this definition">¶</a></dt>
<dd><p>A list of functions to use for parsing a string into a rich string
tree.</p>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.base.TranslationUnit.rich_source">
<code class="descname">rich_source</code><a class="headerlink" href="#translate.storage.base.TranslationUnit.rich_source" title="Permalink to this definition">¶</a></dt>
<dd><div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="#translate.storage.base.TranslationUnit.rich_to_multistring" title="translate.storage.base.TranslationUnit.rich_to_multistring"><code class="xref py py-meth docutils literal notranslate"><span class="pre">rich_to_multistring()</span></code></a>, <a class="reference internal" href="#translate.storage.base.TranslationUnit.multistring_to_rich" title="translate.storage.base.TranslationUnit.multistring_to_rich"><code class="xref py py-meth docutils literal notranslate"><span class="pre">multistring_to_rich()</span></code></a></p>
</div>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.base.TranslationUnit.rich_target">
<code class="descname">rich_target</code><a class="headerlink" href="#translate.storage.base.TranslationUnit.rich_target" title="Permalink to this definition">¶</a></dt>
<dd><div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="#translate.storage.base.TranslationUnit.rich_to_multistring" title="translate.storage.base.TranslationUnit.rich_to_multistring"><code class="xref py py-meth docutils literal notranslate"><span class="pre">rich_to_multistring()</span></code></a>, <a class="reference internal" href="#translate.storage.base.TranslationUnit.multistring_to_rich" title="translate.storage.base.TranslationUnit.multistring_to_rich"><code class="xref py py-meth docutils literal notranslate"><span class="pre">multistring_to_rich()</span></code></a></p>
</div>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.base.TranslationUnit.rich_to_multistring">
<em class="property">classmethod </em><code class="descname">rich_to_multistring</code><span class="sig-paren">(</span><em>elem_list</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.base.TranslationUnit.rich_to_multistring" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a “rich” string tree to a <code class="docutils literal notranslate"><span class="pre">multistring</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">translate.storage.placeables.interfaces</span> <span class="kn">import</span> <span class="n">X</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rich</span> <span class="o">=</span> <span class="p">[</span><span class="n">StringElem</span><span class="p">([</span><span class="s1">&#39;foo&#39;</span><span class="p">,</span> <span class="n">X</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="s1">&#39;xxx&#39;</span><span class="p">,</span> <span class="n">sub</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39; &#39;</span><span class="p">]),</span> <span class="s1">&#39;bar&#39;</span><span class="p">])]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">TranslationUnit</span><span class="o">.</span><span class="n">rich_to_multistring</span><span class="p">(</span><span class="n">rich</span><span class="p">)</span>
<span class="go">multistring(u&#39;foo bar&#39;)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.base.TranslationUnit.setcontext">
<code class="descname">setcontext</code><span class="sig-paren">(</span><em>context</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.base.TranslationUnit.setcontext" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the message context</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.base.TranslationUnit.setid">
<code class="descname">setid</code><span class="sig-paren">(</span><em>value</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.base.TranslationUnit.setid" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the unique identified for this unit.</p>
<p>only implemented if format allows ids independant from other unit
properties like source or context</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.base.TranslationUnit.unit_iter">
<code class="descname">unit_iter</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.base.TranslationUnit.unit_iter" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterator that only returns this unit.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-translate.storage.benchmark">
<span id="benchmark"></span><h2>benchmark<a class="headerlink" href="#module-translate.storage.benchmark" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="translate.storage.benchmark.TranslateBenchmarker">
<em class="property">class </em><code class="descclassname">translate.storage.benchmark.</code><code class="descname">TranslateBenchmarker</code><span class="sig-paren">(</span><em>test_dir</em>, <em>storeclass</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.benchmark.TranslateBenchmarker" title="Permalink to this definition">¶</a></dt>
<dd><p>class to aid in benchmarking Translate Toolkit stores</p>
<dl class="method">
<dt id="translate.storage.benchmark.TranslateBenchmarker.clear_test_dir">
<code class="descname">clear_test_dir</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.benchmark.TranslateBenchmarker.clear_test_dir" title="Permalink to this definition">¶</a></dt>
<dd><p>removes the given directory</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.benchmark.TranslateBenchmarker.create_sample_files">
<code class="descname">create_sample_files</code><span class="sig-paren">(</span><em>num_dirs</em>, <em>files_per_dir</em>, <em>strings_per_file</em>, <em>source_words_per_string</em>, <em>target_words_per_string</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.benchmark.TranslateBenchmarker.create_sample_files" title="Permalink to this definition">¶</a></dt>
<dd><p>creates sample files for benchmarking</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.benchmark.TranslateBenchmarker.parse_files">
<code class="descname">parse_files</code><span class="sig-paren">(</span><em>file_dir=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.benchmark.TranslateBenchmarker.parse_files" title="Permalink to this definition">¶</a></dt>
<dd><p>parses all the files in the test directory into memory</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.benchmark.TranslateBenchmarker.parse_placeables">
<code class="descname">parse_placeables</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.benchmark.TranslateBenchmarker.parse_placeables" title="Permalink to this definition">¶</a></dt>
<dd><p>parses placeables</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-translate.storage.bundleprojstore">
<span id="bundleprojstore"></span><h2>bundleprojstore<a class="headerlink" href="#module-translate.storage.bundleprojstore" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="translate.storage.bundleprojstore.BundleProjectStore">
<em class="property">class </em><code class="descclassname">translate.storage.bundleprojstore.</code><code class="descname">BundleProjectStore</code><span class="sig-paren">(</span><em>fname</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.bundleprojstore.BundleProjectStore" title="Permalink to this definition">¶</a></dt>
<dd><p>Represents a translate project bundle (zip archive).</p>
<dl class="method">
<dt id="translate.storage.bundleprojstore.BundleProjectStore.append_file">
<code class="descname">append_file</code><span class="sig-paren">(</span><em>afile</em>, <em>fname</em>, <em>ftype='trans'</em>, <em>delete_orig=False</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.bundleprojstore.BundleProjectStore.append_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Append the given file to the project with the given filename, marked
to be of type <code class="docutils literal notranslate"><span class="pre">ftype</span></code> (‘src’, ‘trans’, ‘tgt’).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>delete_orig</strong> – If <code class="docutils literal notranslate"><span class="pre">True</span></code>, as set by
<code class="xref py py-meth docutils literal notranslate"><span class="pre">convert_forward()</span></code>,
<code class="docutils literal notranslate"><span class="pre">afile</span></code> is deleted after appending, if
possible.</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">For this implementation, the appended file will be deleted
from disk if <code class="docutils literal notranslate"><span class="pre">delete_orig</span></code> is <code class="docutils literal notranslate"><span class="pre">True</span></code>.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.bundleprojstore.BundleProjectStore.cleanup">
<code class="descname">cleanup</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.bundleprojstore.BundleProjectStore.cleanup" title="Permalink to this definition">¶</a></dt>
<dd><p>Clean up our mess: remove temporary files.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.bundleprojstore.BundleProjectStore.get_file">
<code class="descname">get_file</code><span class="sig-paren">(</span><em>fname</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.bundleprojstore.BundleProjectStore.get_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieve a project file (source, translation or target file) from
the project archive.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.bundleprojstore.BundleProjectStore.get_filename_type">
<code class="descname">get_filename_type</code><span class="sig-paren">(</span><em>fname</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.bundleprojstore.BundleProjectStore.get_filename_type" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the type of file (‘src’, ‘trans’, ‘tgt’) with the given name.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.bundleprojstore.BundleProjectStore.get_proj_filename">
<code class="descname">get_proj_filename</code><span class="sig-paren">(</span><em>realfname</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.bundleprojstore.BundleProjectStore.get_proj_filename" title="Permalink to this definition">¶</a></dt>
<dd><p>Try and find a project file name for the given real file name.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.bundleprojstore.BundleProjectStore.load">
<code class="descname">load</code><span class="sig-paren">(</span><em>zipname</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.bundleprojstore.BundleProjectStore.load" title="Permalink to this definition">¶</a></dt>
<dd><p>Load the bundle project from the zip file of the given name.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.bundleprojstore.BundleProjectStore.remove_file">
<code class="descname">remove_file</code><span class="sig-paren">(</span><em>fname</em>, <em>ftype=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.bundleprojstore.BundleProjectStore.remove_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove the file with the given project name from the project.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.bundleprojstore.BundleProjectStore.save">
<code class="descname">save</code><span class="sig-paren">(</span><em>filename=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.bundleprojstore.BundleProjectStore.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Save all project files to the bundle zip file.</p>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.bundleprojstore.BundleProjectStore.sourcefiles">
<code class="descname">sourcefiles</code><a class="headerlink" href="#translate.storage.bundleprojstore.BundleProjectStore.sourcefiles" title="Permalink to this definition">¶</a></dt>
<dd><p>Read-only access to <code class="docutils literal notranslate"><span class="pre">self._sourcefiles</span></code>.</p>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.bundleprojstore.BundleProjectStore.targetfiles">
<code class="descname">targetfiles</code><a class="headerlink" href="#translate.storage.bundleprojstore.BundleProjectStore.targetfiles" title="Permalink to this definition">¶</a></dt>
<dd><p>Read-only access to <code class="docutils literal notranslate"><span class="pre">self._targetfiles</span></code>.</p>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.bundleprojstore.BundleProjectStore.transfiles">
<code class="descname">transfiles</code><a class="headerlink" href="#translate.storage.bundleprojstore.BundleProjectStore.transfiles" title="Permalink to this definition">¶</a></dt>
<dd><p>Read-only access to <code class="docutils literal notranslate"><span class="pre">self._transfiles</span></code>.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.bundleprojstore.BundleProjectStore.update_file">
<code class="descname">update_file</code><span class="sig-paren">(</span><em>pfname</em>, <em>infile</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.bundleprojstore.BundleProjectStore.update_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Updates the file with the given project file name with the contents
of <code class="docutils literal notranslate"><span class="pre">infile</span></code>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">the results from <code class="xref py py-meth docutils literal notranslate"><span class="pre">BundleProjStore.append_file()</span></code>.</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="exception">
<dt id="translate.storage.bundleprojstore.InvalidBundleError">
<em class="property">exception </em><code class="descclassname">translate.storage.bundleprojstore.</code><code class="descname">InvalidBundleError</code><a class="headerlink" href="#translate.storage.bundleprojstore.InvalidBundleError" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-translate.storage.catkeys">
<span id="catkeys"></span><h2>catkeys<a class="headerlink" href="#module-translate.storage.catkeys" title="Permalink to this headline">¶</a></h2>
<p>Manage the Haiku catkeys translation format</p>
<p>The Haiku catkeys format is the translation format used for localisation of
the <a class="reference external" href="http://www.haiku-os.org/">Haiku</a> operating system.</p>
<p>It is a bilingual base class derived format with <a class="reference internal" href="#translate.storage.catkeys.CatkeysFile" title="translate.storage.catkeys.CatkeysFile"><code class="xref py py-class docutils literal notranslate"><span class="pre">CatkeysFile</span></code></a> and
<a class="reference internal" href="#translate.storage.catkeys.CatkeysUnit" title="translate.storage.catkeys.CatkeysUnit"><code class="xref py py-class docutils literal notranslate"><span class="pre">CatkeysUnit</span></code></a> providing file and unit level access.  The file format is
described here:
<a class="reference external" href="http://www.haiku-os.org/blog/pulkomandy/2009-09-24_haiku_locale_kit_translator_handbook">http://www.haiku-os.org/blog/pulkomandy/2009-09-24_haiku_locale_kit_translator_handbook</a></p>
<dl class="docutils">
<dt>Implementation</dt>
<dd><p class="first">The implementation covers the full requirements of a catkeys file. The
files are simple Tab Separated Value (TSV) files that can be read
by Microsoft Excel and other spreadsheet programs. They use the .txt
extension which does make it more difficult to automatically identify
such files.</p>
<p class="last">The dialect of the TSV files is specified by <a class="reference internal" href="#translate.storage.catkeys.CatkeysDialect" title="translate.storage.catkeys.CatkeysDialect"><code class="xref py py-class docutils literal notranslate"><span class="pre">CatkeysDialect</span></code></a>.</p>
</dd>
<dt>Encoding</dt>
<dd>The files are UTF-8 encoded.</dd>
<dt>Header</dt>
<dd><a class="reference internal" href="#translate.storage.catkeys.CatkeysHeader" title="translate.storage.catkeys.CatkeysHeader"><code class="xref py py-class docutils literal notranslate"><span class="pre">CatkeysHeader</span></code></a> provides header management support.</dd>
<dt>Escaping</dt>
<dd><p class="first">catkeys seem to escape things like in C++ (strings are just extracted from
the source code unchanged, it seems.</p>
<p class="last">Functions allow for <code class="xref py py-func docutils literal notranslate"><span class="pre">_escape()</span></code> and <code class="xref py py-func docutils literal notranslate"><span class="pre">_unescape()</span></code>.</p>
</dd>
</dl>
<dl class="class">
<dt id="translate.storage.catkeys.CatkeysDialect">
<em class="property">class </em><code class="descclassname">translate.storage.catkeys.</code><code class="descname">CatkeysDialect</code><a class="headerlink" href="#translate.storage.catkeys.CatkeysDialect" title="Permalink to this definition">¶</a></dt>
<dd><p>Describe the properties of a catkeys generated TAB-delimited file.</p>
<dl class="classmethod">
<dt id="translate.storage.catkeys.CatkeysDialect.combine">
<em class="property">classmethod </em><code class="descname">combine</code><span class="sig-paren">(</span><em>dialect</em>, <em>fmtparams</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.catkeys.CatkeysDialect.combine" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a new dialect with defaults and added parameters.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="translate.storage.catkeys.CatkeysFile">
<em class="property">class </em><code class="descclassname">translate.storage.catkeys.</code><code class="descname">CatkeysFile</code><span class="sig-paren">(</span><em>inputfile=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.catkeys.CatkeysFile" title="Permalink to this definition">¶</a></dt>
<dd><p>A catkeys translation memory file</p>
<dl class="attribute">
<dt id="translate.storage.catkeys.CatkeysFile.UnitClass">
<code class="descname">UnitClass</code><a class="headerlink" href="#translate.storage.catkeys.CatkeysFile.UnitClass" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <a class="reference internal" href="#translate.storage.catkeys.CatkeysUnit" title="translate.storage.catkeys.CatkeysUnit"><code class="xref py py-class docutils literal notranslate"><span class="pre">CatkeysUnit</span></code></a></p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.catkeys.CatkeysFile.add_unit_to_index">
<code class="descname">add_unit_to_index</code><span class="sig-paren">(</span><em>unit</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.catkeys.CatkeysFile.add_unit_to_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a unit to source and location idexes</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.catkeys.CatkeysFile.addsourceunit">
<code class="descname">addsourceunit</code><span class="sig-paren">(</span><em>source</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.catkeys.CatkeysFile.addsourceunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Add and returns a new unit with the given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><code class="xref py py-class docutils literal notranslate"><span class="pre">TranslationUnit</span></code></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.catkeys.CatkeysFile.addunit">
<code class="descname">addunit</code><span class="sig-paren">(</span><em>unit</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.catkeys.CatkeysFile.addunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Append the given unit to the object’s list of units.</p>
<p>This method should always be used rather than trying to modify the
list manually.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>unit</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">TranslationUnit</span></code>) – The unit that will be added.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.catkeys.CatkeysFile.detect_encoding">
<code class="descname">detect_encoding</code><span class="sig-paren">(</span><em>text</em>, <em>default_encodings=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.catkeys.CatkeysFile.detect_encoding" title="Permalink to this definition">¶</a></dt>
<dd><p>Try to detect a file encoding from <cite>text</cite>, using either the chardet lib
or by trying to decode the file.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.catkeys.CatkeysFile.fallback_detection">
<code class="descname">fallback_detection</code><span class="sig-paren">(</span><em>text</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.catkeys.CatkeysFile.fallback_detection" title="Permalink to this definition">¶</a></dt>
<dd><p>Simple detection based on BOM in case chardet is not available.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.catkeys.CatkeysFile.findid">
<code class="descname">findid</code><span class="sig-paren">(</span><em>id</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.catkeys.CatkeysFile.findid" title="Permalink to this definition">¶</a></dt>
<dd><p>find unit with matching id by checking id_index</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.catkeys.CatkeysFile.findunit">
<code class="descname">findunit</code><span class="sig-paren">(</span><em>source</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.catkeys.CatkeysFile.findunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the unit with the given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><code class="xref py py-class docutils literal notranslate"><span class="pre">TranslationUnit</span></code> or None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.catkeys.CatkeysFile.findunits">
<code class="descname">findunits</code><span class="sig-paren">(</span><em>source</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.catkeys.CatkeysFile.findunits" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the units with the given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><code class="xref py py-class docutils literal notranslate"><span class="pre">TranslationUnit</span></code> or None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.catkeys.CatkeysFile.getids">
<code class="descname">getids</code><span class="sig-paren">(</span><em>filename=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.catkeys.CatkeysFile.getids" title="Permalink to this definition">¶</a></dt>
<dd><p>return a list of unit ids</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.catkeys.CatkeysFile.getprojectstyle">
<code class="descname">getprojectstyle</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.catkeys.CatkeysFile.getprojectstyle" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the project type for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.catkeys.CatkeysFile.getsourcelanguage">
<code class="descname">getsourcelanguage</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.catkeys.CatkeysFile.getsourcelanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the source language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.catkeys.CatkeysFile.gettargetlanguage">
<code class="descname">gettargetlanguage</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.catkeys.CatkeysFile.gettargetlanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the target language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.catkeys.CatkeysFile.getunits">
<code class="descname">getunits</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.catkeys.CatkeysFile.getunits" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of all units in this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.catkeys.CatkeysFile.isempty">
<code class="descname">isempty</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.catkeys.CatkeysFile.isempty" title="Permalink to this definition">¶</a></dt>
<dd><p>Return True if the object doesn’t contain any translation units.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.catkeys.CatkeysFile.makeindex">
<code class="descname">makeindex</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.catkeys.CatkeysFile.makeindex" title="Permalink to this definition">¶</a></dt>
<dd><p>Indexes the items in this store. At least .sourceindex should be
useful.</p>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.catkeys.CatkeysFile.merge_on">
<code class="descname">merge_on</code><a class="headerlink" href="#translate.storage.catkeys.CatkeysFile.merge_on" title="Permalink to this definition">¶</a></dt>
<dd><p>The matching criterion to use when merging on.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The default matching criterion for all the subclasses.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">string</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.catkeys.CatkeysFile.parse">
<code class="descname">parse</code><span class="sig-paren">(</span><em>input</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.catkeys.CatkeysFile.parse" title="Permalink to this definition">¶</a></dt>
<dd><p>parse the given file or file source string</p>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.catkeys.CatkeysFile.parsefile">
<em class="property">classmethod </em><code class="descname">parsefile</code><span class="sig-paren">(</span><em>storefile</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.catkeys.CatkeysFile.parsefile" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads the given file (or opens the given filename) and parses back
to an object.</p>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.catkeys.CatkeysFile.parsestring">
<em class="property">classmethod </em><code class="descname">parsestring</code><span class="sig-paren">(</span><em>storestring</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.catkeys.CatkeysFile.parsestring" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert the string representation back to an object.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.catkeys.CatkeysFile.remove_unit_from_index">
<code class="descname">remove_unit_from_index</code><span class="sig-paren">(</span><em>unit</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.catkeys.CatkeysFile.remove_unit_from_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove a unit from source and locaton indexes</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.catkeys.CatkeysFile.require_index">
<code class="descname">require_index</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.catkeys.CatkeysFile.require_index" title="Permalink to this definition">¶</a></dt>
<dd><p>make sure source index exists</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.catkeys.CatkeysFile.save">
<code class="descname">save</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.catkeys.CatkeysFile.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Save to the file that data was originally read from, if available.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.catkeys.CatkeysFile.savefile">
<code class="descname">savefile</code><span class="sig-paren">(</span><em>storefile</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.catkeys.CatkeysFile.savefile" title="Permalink to this definition">¶</a></dt>
<dd><p>Write the string representation to the given file (or filename).</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.catkeys.CatkeysFile.serialize">
<code class="descname">serialize</code><span class="sig-paren">(</span><em>out</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.catkeys.CatkeysFile.serialize" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts to a bytes representation that can be parsed back using
<a class="reference internal" href="#translate.storage.base.TranslationStore.parsestring" title="translate.storage.base.TranslationStore.parsestring"><code class="xref py py-meth docutils literal notranslate"><span class="pre">parsestring()</span></code></a>.
<cite>out</cite> should be an open file-like objects to write to.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.catkeys.CatkeysFile.setprojectstyle">
<code class="descname">setprojectstyle</code><span class="sig-paren">(</span><em>project_style</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.catkeys.CatkeysFile.setprojectstyle" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the project type for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.catkeys.CatkeysFile.setsourcelanguage">
<code class="descname">setsourcelanguage</code><span class="sig-paren">(</span><em>sourcelanguage</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.catkeys.CatkeysFile.setsourcelanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the source language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.catkeys.CatkeysFile.settargetlanguage">
<code class="descname">settargetlanguage</code><span class="sig-paren">(</span><em>newlang</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.catkeys.CatkeysFile.settargetlanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the target language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.catkeys.CatkeysFile.translate">
<code class="descname">translate</code><span class="sig-paren">(</span><em>source</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.catkeys.CatkeysFile.translate" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the translated string for a given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">String or <a class="reference external" href="https://docs.python.org/2.7/library/constants.html#None" title="(in Python v2.7)">None</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.catkeys.CatkeysFile.unit_iter">
<code class="descname">unit_iter</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.catkeys.CatkeysFile.unit_iter" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterator over all the units in this store.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="translate.storage.catkeys.CatkeysHeader">
<em class="property">class </em><code class="descclassname">translate.storage.catkeys.</code><code class="descname">CatkeysHeader</code><span class="sig-paren">(</span><em>header=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.catkeys.CatkeysHeader" title="Permalink to this definition">¶</a></dt>
<dd><p>A catkeys translation memory header</p>
<dl class="method">
<dt id="translate.storage.catkeys.CatkeysHeader.settargetlanguage">
<code class="descname">settargetlanguage</code><span class="sig-paren">(</span><em>newlang</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.catkeys.CatkeysHeader.settargetlanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Set a human readable target language</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="translate.storage.catkeys.CatkeysUnit">
<em class="property">class </em><code class="descclassname">translate.storage.catkeys.</code><code class="descname">CatkeysUnit</code><span class="sig-paren">(</span><em>source=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.catkeys.CatkeysUnit" title="Permalink to this definition">¶</a></dt>
<dd><p>A catkeys translation memory unit</p>
<dl class="method">
<dt id="translate.storage.catkeys.CatkeysUnit.adderror">
<code class="descname">adderror</code><span class="sig-paren">(</span><em>errorname</em>, <em>errortext</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.catkeys.CatkeysUnit.adderror" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds an error message to this unit.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>errorname</strong> (<em>string</em>) – A single word to id the error.</li>
<li><strong>errortext</strong> (<em>string</em>) – The text describing the error.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.catkeys.CatkeysUnit.addlocation">
<code class="descname">addlocation</code><span class="sig-paren">(</span><em>location</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.catkeys.CatkeysUnit.addlocation" title="Permalink to this definition">¶</a></dt>
<dd><p>Add one location to the list of locations.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Shouldn’t be implemented if the format doesn’t support it.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.catkeys.CatkeysUnit.addlocations">
<code class="descname">addlocations</code><span class="sig-paren">(</span><em>location</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.catkeys.CatkeysUnit.addlocations" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a location or a list of locations.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Most classes shouldn’t need to implement this, but should rather
implement <code class="xref py py-meth docutils literal notranslate"><span class="pre">TranslationUnit.addlocation()</span></code>.</p>
</div>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">This method might be removed in future.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.catkeys.CatkeysUnit.addnote">
<code class="descname">addnote</code><span class="sig-paren">(</span><em>text</em>, <em>origin=None</em>, <em>position='append'</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.catkeys.CatkeysUnit.addnote" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds a note (comment).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>text</strong> (<em>string</em>) – Usually just a sentence or two.</li>
<li><strong>origin</strong> (<em>string</em>) – Specifies who/where the comment comes from.
Origin can be one of the following text strings:
- ‘translator’
- ‘developer’, ‘programmer’, ‘source code’ (synonyms)</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.catkeys.CatkeysUnit.buildfromunit">
<em class="property">classmethod </em><code class="descname">buildfromunit</code><span class="sig-paren">(</span><em>unit</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.catkeys.CatkeysUnit.buildfromunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Build a native unit from a foreign unit, preserving as much
information as possible.</p>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.catkeys.CatkeysUnit.dict">
<code class="descname">dict</code><a class="headerlink" href="#translate.storage.catkeys.CatkeysUnit.dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the dictionary of values for a catkeys line</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.catkeys.CatkeysUnit.getcontext">
<code class="descname">getcontext</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.catkeys.CatkeysUnit.getcontext" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the message context.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.catkeys.CatkeysUnit.getdict">
<code class="descname">getdict</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.catkeys.CatkeysUnit.getdict" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the dictionary of values for a catkeys line</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.catkeys.CatkeysUnit.geterrors">
<code class="descname">geterrors</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.catkeys.CatkeysUnit.geterrors" title="Permalink to this definition">¶</a></dt>
<dd><p>Get all error messages.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">Dictionary</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.catkeys.CatkeysUnit.getid">
<code class="descname">getid</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.catkeys.CatkeysUnit.getid" title="Permalink to this definition">¶</a></dt>
<dd><p>A unique identifier for this unit.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">string</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">an identifier for this unit that is unique in the store</td>
</tr>
</tbody>
</table>
<p>Derived classes should override this in a way that guarantees a unique
identifier for each unit in the store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.catkeys.CatkeysUnit.getlocations">
<code class="descname">getlocations</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.catkeys.CatkeysUnit.getlocations" title="Permalink to this definition">¶</a></dt>
<dd><p>A list of source code locations.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">List</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Shouldn’t be implemented if the format doesn’t support it.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.catkeys.CatkeysUnit.getnotes">
<code class="descname">getnotes</code><span class="sig-paren">(</span><em>origin=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.catkeys.CatkeysUnit.getnotes" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns all notes about this unit.</p>
<p>It will probably be freeform text or something reasonable that can be
synthesised by the format.
It should not include location comments (see
<a class="reference internal" href="#translate.storage.base.TranslationUnit.getlocations" title="translate.storage.base.TranslationUnit.getlocations"><code class="xref py py-meth docutils literal notranslate"><span class="pre">getlocations()</span></code></a>).</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.catkeys.CatkeysUnit.gettargetlen">
<code class="descname">gettargetlen</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.catkeys.CatkeysUnit.gettargetlen" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the length of the target string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">Integer</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Plural forms might be combined.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.catkeys.CatkeysUnit.getunits">
<code class="descname">getunits</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.catkeys.CatkeysUnit.getunits" title="Permalink to this definition">¶</a></dt>
<dd><p>This unit in a list.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.catkeys.CatkeysUnit.hasplural">
<code class="descname">hasplural</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.catkeys.CatkeysUnit.hasplural" title="Permalink to this definition">¶</a></dt>
<dd><p>Tells whether or not this specific unit has plural strings.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.catkeys.CatkeysUnit.infer_state">
<code class="descname">infer_state</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.catkeys.CatkeysUnit.infer_state" title="Permalink to this definition">¶</a></dt>
<dd><p>Empty method that should be overridden in sub-classes to infer the
current state(_n) of the unit from its current state.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.catkeys.CatkeysUnit.isblank">
<code class="descname">isblank</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.catkeys.CatkeysUnit.isblank" title="Permalink to this definition">¶</a></dt>
<dd><p>Used to see if this unit has no source or target string.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This is probably used more to find translatable units,
and we might want to move in that direction rather and
get rid of this.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.catkeys.CatkeysUnit.isfuzzy">
<code class="descname">isfuzzy</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.catkeys.CatkeysUnit.isfuzzy" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit is fuzzy.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.catkeys.CatkeysUnit.isheader">
<code class="descname">isheader</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.catkeys.CatkeysUnit.isheader" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit is a header.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.catkeys.CatkeysUnit.isobsolete">
<code class="descname">isobsolete</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.catkeys.CatkeysUnit.isobsolete" title="Permalink to this definition">¶</a></dt>
<dd><p>indicate whether a unit is obsolete</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.catkeys.CatkeysUnit.isreview">
<code class="descname">isreview</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.catkeys.CatkeysUnit.isreview" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit needs review.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.catkeys.CatkeysUnit.istranslatable">
<code class="descname">istranslatable</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.catkeys.CatkeysUnit.istranslatable" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit can be translated.</p>
<p>This should be used to distinguish real units for translation from
header, obsolete, binary or other blank units.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.catkeys.CatkeysUnit.istranslated">
<code class="descname">istranslated</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.catkeys.CatkeysUnit.istranslated" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit is translated.</p>
<p>This should be used rather than deducing it from .target,
to ensure that other classes can implement more functionality
(as XLIFF does).</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.catkeys.CatkeysUnit.makeobsolete">
<code class="descname">makeobsolete</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.catkeys.CatkeysUnit.makeobsolete" title="Permalink to this definition">¶</a></dt>
<dd><p>Make a unit obsolete</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.catkeys.CatkeysUnit.markfuzzy">
<code class="descname">markfuzzy</code><span class="sig-paren">(</span><em>present=True</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.catkeys.CatkeysUnit.markfuzzy" title="Permalink to this definition">¶</a></dt>
<dd><p>Marks the unit as fuzzy or not.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.catkeys.CatkeysUnit.markreviewneeded">
<code class="descname">markreviewneeded</code><span class="sig-paren">(</span><em>needsreview=True</em>, <em>explanation=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.catkeys.CatkeysUnit.markreviewneeded" title="Permalink to this definition">¶</a></dt>
<dd><p>Marks the unit to indicate whether it needs review.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>needsreview</strong> – Defaults to True.</li>
<li><strong>explanation</strong> – Adds an optional explanation as a note.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.catkeys.CatkeysUnit.merge">
<code class="descname">merge</code><span class="sig-paren">(</span><em>otherunit</em>, <em>overwrite=False</em>, <em>comments=True</em>, <em>authoritative=False</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.catkeys.CatkeysUnit.merge" title="Permalink to this definition">¶</a></dt>
<dd><p>Do basic format agnostic merging.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.catkeys.CatkeysUnit.multistring_to_rich">
<code class="descname">multistring_to_rich</code><span class="sig-paren">(</span><em>mulstring</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.catkeys.CatkeysUnit.multistring_to_rich" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a multistring to a list of “rich” string trees:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">target</span> <span class="o">=</span> <span class="n">multistring</span><span class="p">([</span><span class="sa">u</span><span class="s1">&#39;foo&#39;</span><span class="p">,</span> <span class="sa">u</span><span class="s1">&#39;bar&#39;</span><span class="p">,</span> <span class="sa">u</span><span class="s1">&#39;baz&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">TranslationUnit</span><span class="o">.</span><span class="n">multistring_to_rich</span><span class="p">(</span><span class="n">target</span><span class="p">)</span>
<span class="go">[&lt;StringElem([&lt;StringElem([u&#39;foo&#39;])&gt;])&gt;,</span>
<span class="go"> &lt;StringElem([&lt;StringElem([u&#39;bar&#39;])&gt;])&gt;,</span>
<span class="go"> &lt;StringElem([&lt;StringElem([u&#39;baz&#39;])&gt;])&gt;]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.catkeys.CatkeysUnit.removenotes">
<code class="descname">removenotes</code><span class="sig-paren">(</span><em>origin=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.catkeys.CatkeysUnit.removenotes" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove all the translator’s notes.</p>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.catkeys.CatkeysUnit.rich_source">
<code class="descname">rich_source</code><a class="headerlink" href="#translate.storage.catkeys.CatkeysUnit.rich_source" title="Permalink to this definition">¶</a></dt>
<dd><div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="#translate.storage.catkeys.CatkeysUnit.rich_to_multistring" title="translate.storage.catkeys.CatkeysUnit.rich_to_multistring"><code class="xref py py-meth docutils literal notranslate"><span class="pre">rich_to_multistring()</span></code></a>, <a class="reference internal" href="#translate.storage.catkeys.CatkeysUnit.multistring_to_rich" title="translate.storage.catkeys.CatkeysUnit.multistring_to_rich"><code class="xref py py-meth docutils literal notranslate"><span class="pre">multistring_to_rich()</span></code></a></p>
</div>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.catkeys.CatkeysUnit.rich_target">
<code class="descname">rich_target</code><a class="headerlink" href="#translate.storage.catkeys.CatkeysUnit.rich_target" title="Permalink to this definition">¶</a></dt>
<dd><div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="#translate.storage.catkeys.CatkeysUnit.rich_to_multistring" title="translate.storage.catkeys.CatkeysUnit.rich_to_multistring"><code class="xref py py-meth docutils literal notranslate"><span class="pre">rich_to_multistring()</span></code></a>, <a class="reference internal" href="#translate.storage.catkeys.CatkeysUnit.multistring_to_rich" title="translate.storage.catkeys.CatkeysUnit.multistring_to_rich"><code class="xref py py-meth docutils literal notranslate"><span class="pre">multistring_to_rich()</span></code></a></p>
</div>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.catkeys.CatkeysUnit.rich_to_multistring">
<em class="property">classmethod </em><code class="descname">rich_to_multistring</code><span class="sig-paren">(</span><em>elem_list</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.catkeys.CatkeysUnit.rich_to_multistring" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a “rich” string tree to a <code class="docutils literal notranslate"><span class="pre">multistring</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">translate.storage.placeables.interfaces</span> <span class="kn">import</span> <span class="n">X</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rich</span> <span class="o">=</span> <span class="p">[</span><span class="n">StringElem</span><span class="p">([</span><span class="s1">&#39;foo&#39;</span><span class="p">,</span> <span class="n">X</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="s1">&#39;xxx&#39;</span><span class="p">,</span> <span class="n">sub</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39; &#39;</span><span class="p">]),</span> <span class="s1">&#39;bar&#39;</span><span class="p">])]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">TranslationUnit</span><span class="o">.</span><span class="n">rich_to_multistring</span><span class="p">(</span><span class="n">rich</span><span class="p">)</span>
<span class="go">multistring(u&#39;foo bar&#39;)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.catkeys.CatkeysUnit.setcontext">
<code class="descname">setcontext</code><span class="sig-paren">(</span><em>context</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.catkeys.CatkeysUnit.setcontext" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the message context</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.catkeys.CatkeysUnit.setdict">
<code class="descname">setdict</code><span class="sig-paren">(</span><em>newdict</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.catkeys.CatkeysUnit.setdict" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the dictionary of values for a catkeys line</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>newdict</strong> (<em>Dict</em>) – a new dictionary with catkeys line elements</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.catkeys.CatkeysUnit.setid">
<code class="descname">setid</code><span class="sig-paren">(</span><em>value</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.catkeys.CatkeysUnit.setid" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the unique identified for this unit.</p>
<p>only implemented if format allows ids independant from other unit
properties like source or context</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.catkeys.CatkeysUnit.unit_iter">
<code class="descname">unit_iter</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.catkeys.CatkeysUnit.unit_iter" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterator that only returns this unit.</p>
</dd></dl>

</dd></dl>

<dl class="data">
<dt id="translate.storage.catkeys.FIELDNAMES">
<code class="descclassname">translate.storage.catkeys.</code><code class="descname">FIELDNAMES</code><em class="property"> = [u'source', u'context', u'comment', u'target']</em><a class="headerlink" href="#translate.storage.catkeys.FIELDNAMES" title="Permalink to this definition">¶</a></dt>
<dd><p>Field names for a catkeys TU</p>
</dd></dl>

<dl class="data">
<dt id="translate.storage.catkeys.FIELDNAMES_HEADER">
<code class="descclassname">translate.storage.catkeys.</code><code class="descname">FIELDNAMES_HEADER</code><em class="property"> = [u'version', u'language', u'mimetype', u'checksum']</em><a class="headerlink" href="#translate.storage.catkeys.FIELDNAMES_HEADER" title="Permalink to this definition">¶</a></dt>
<dd><p>Field names for the catkeys header</p>
</dd></dl>

<dl class="data">
<dt id="translate.storage.catkeys.FIELDNAMES_HEADER_DEFAULTS">
<code class="descclassname">translate.storage.catkeys.</code><code class="descname">FIELDNAMES_HEADER_DEFAULTS</code><em class="property"> = {u'checksum': u'', u'language': u'', u'mimetype': u'', u'version': u'1'}</em><a class="headerlink" href="#translate.storage.catkeys.FIELDNAMES_HEADER_DEFAULTS" title="Permalink to this definition">¶</a></dt>
<dd><p>Default or minimum header entries for a catkeys file</p>
</dd></dl>

</div>
<div class="section" id="module-translate.storage.cpo">
<span id="cpo"></span><h2>cpo<a class="headerlink" href="#module-translate.storage.cpo" title="Permalink to this headline">¶</a></h2>
<p>Classes that hold units of .po files (pounit) or entire files (pofile).</p>
<p>Gettext-style .po (or .pot) files are used in translations for KDE, GNOME and
many other projects.</p>
<p>This uses libgettextpo from the gettext package. Any version before 0.17 will
at least cause some subtle bugs or may not work at all. Developers might want
to have a look at gettext-tools/libgettextpo/gettext-po.h from the gettext
package for the public API of the library.</p>
<dl class="function">
<dt id="translate.storage.cpo.get_libgettextpo_version">
<code class="descclassname">translate.storage.cpo.</code><code class="descname">get_libgettextpo_version</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.cpo.get_libgettextpo_version" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the libgettextpo version</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">three-value tuple</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">libgettextpo version in the following format::
(major version, minor version, subminor version)</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="data">
<dt id="translate.storage.cpo.lsep">
<code class="descclassname">translate.storage.cpo.</code><code class="descname">lsep</code><em class="property"> = ' '</em><a class="headerlink" href="#translate.storage.cpo.lsep" title="Permalink to this definition">¶</a></dt>
<dd><p>Separator for #: entries</p>
</dd></dl>

<dl class="class">
<dt id="translate.storage.cpo.po_error_handler">
<em class="property">class </em><code class="descclassname">translate.storage.cpo.</code><code class="descname">po_error_handler</code><a class="headerlink" href="#translate.storage.cpo.po_error_handler" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="class">
<dt id="translate.storage.cpo.po_file">
<em class="property">class </em><code class="descclassname">translate.storage.cpo.</code><code class="descname">po_file</code><a class="headerlink" href="#translate.storage.cpo.po_file" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="translate.storage.cpo.po_file_t">
<code class="descclassname">translate.storage.cpo.</code><code class="descname">po_file_t</code><a class="headerlink" href="#translate.storage.cpo.po_file_t" title="Permalink to this definition">¶</a></dt>
<dd><p>A po_file_t represents a PO file.</p>
<p>alias of <code class="xref py py-class docutils literal notranslate"><span class="pre">translate.storage.cpo.LP_po_file</span></code></p>
</dd></dl>

<dl class="class">
<dt id="translate.storage.cpo.po_filepos">
<em class="property">class </em><code class="descclassname">translate.storage.cpo.</code><code class="descname">po_filepos</code><a class="headerlink" href="#translate.storage.cpo.po_filepos" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="translate.storage.cpo.po_filepos_t">
<code class="descclassname">translate.storage.cpo.</code><code class="descname">po_filepos_t</code><a class="headerlink" href="#translate.storage.cpo.po_filepos_t" title="Permalink to this definition">¶</a></dt>
<dd><p>A po_filepos_t represents the position in a PO file.</p>
<p>alias of <code class="xref py py-class docutils literal notranslate"><span class="pre">translate.storage.cpo.LP_po_filepos</span></code></p>
</dd></dl>

<dl class="class">
<dt id="translate.storage.cpo.po_iterator">
<em class="property">class </em><code class="descclassname">translate.storage.cpo.</code><code class="descname">po_iterator</code><a class="headerlink" href="#translate.storage.cpo.po_iterator" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="translate.storage.cpo.po_iterator_t">
<code class="descclassname">translate.storage.cpo.</code><code class="descname">po_iterator_t</code><a class="headerlink" href="#translate.storage.cpo.po_iterator_t" title="Permalink to this definition">¶</a></dt>
<dd><p>A po_iterator_t represents an iterator through a PO file.</p>
<p>alias of <code class="xref py py-class docutils literal notranslate"><span class="pre">translate.storage.cpo.LP_po_iterator</span></code></p>
</dd></dl>

<dl class="class">
<dt id="translate.storage.cpo.po_message">
<em class="property">class </em><code class="descclassname">translate.storage.cpo.</code><code class="descname">po_message</code><a class="headerlink" href="#translate.storage.cpo.po_message" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="translate.storage.cpo.po_message_t">
<code class="descclassname">translate.storage.cpo.</code><code class="descname">po_message_t</code><a class="headerlink" href="#translate.storage.cpo.po_message_t" title="Permalink to this definition">¶</a></dt>
<dd><p>A po_message_t represents a message in a PO file.</p>
<p>alias of <code class="xref py py-class docutils literal notranslate"><span class="pre">translate.storage.cpo.LP_po_message</span></code></p>
</dd></dl>

<dl class="class">
<dt id="translate.storage.cpo.po_xerror_handler">
<em class="property">class </em><code class="descclassname">translate.storage.cpo.</code><code class="descname">po_xerror_handler</code><a class="headerlink" href="#translate.storage.cpo.po_xerror_handler" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="class">
<dt id="translate.storage.cpo.pofile">
<em class="property">class </em><code class="descclassname">translate.storage.cpo.</code><code class="descname">pofile</code><span class="sig-paren">(</span><em>inputfile=None</em>, <em>noheader=False</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.cpo.pofile" title="Permalink to this definition">¶</a></dt>
<dd><dl class="attribute">
<dt id="translate.storage.cpo.pofile.UnitClass">
<code class="descname">UnitClass</code><a class="headerlink" href="#translate.storage.cpo.pofile.UnitClass" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <a class="reference internal" href="#translate.storage.cpo.pounit" title="translate.storage.cpo.pounit"><code class="xref py py-class docutils literal notranslate"><span class="pre">pounit</span></code></a></p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.cpo.pofile.add_unit_to_index">
<code class="descname">add_unit_to_index</code><span class="sig-paren">(</span><em>unit</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.cpo.pofile.add_unit_to_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a unit to source and location idexes</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.cpo.pofile.addsourceunit">
<code class="descname">addsourceunit</code><span class="sig-paren">(</span><em>source</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.cpo.pofile.addsourceunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Add and returns a new unit with the given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><code class="xref py py-class docutils literal notranslate"><span class="pre">TranslationUnit</span></code></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.cpo.pofile.addunit">
<code class="descname">addunit</code><span class="sig-paren">(</span><em>unit</em>, <em>new=True</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.cpo.pofile.addunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Append the given unit to the object’s list of units.</p>
<p>This method should always be used rather than trying to modify the
list manually.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>unit</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">TranslationUnit</span></code>) – The unit that will be added.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.cpo.pofile.detect_encoding">
<code class="descname">detect_encoding</code><span class="sig-paren">(</span><em>text</em>, <em>default_encodings=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.cpo.pofile.detect_encoding" title="Permalink to this definition">¶</a></dt>
<dd><p>Try to detect a file encoding from <cite>text</cite>, using either the chardet lib
or by trying to decode the file.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.cpo.pofile.fallback_detection">
<code class="descname">fallback_detection</code><span class="sig-paren">(</span><em>text</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.cpo.pofile.fallback_detection" title="Permalink to this definition">¶</a></dt>
<dd><p>Simple detection based on BOM in case chardet is not available.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.cpo.pofile.findid">
<code class="descname">findid</code><span class="sig-paren">(</span><em>id</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.cpo.pofile.findid" title="Permalink to this definition">¶</a></dt>
<dd><p>find unit with matching id by checking id_index</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.cpo.pofile.findunit">
<code class="descname">findunit</code><span class="sig-paren">(</span><em>source</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.cpo.pofile.findunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the unit with the given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><code class="xref py py-class docutils literal notranslate"><span class="pre">TranslationUnit</span></code> or None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.cpo.pofile.findunits">
<code class="descname">findunits</code><span class="sig-paren">(</span><em>source</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.cpo.pofile.findunits" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the units with the given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><code class="xref py py-class docutils literal notranslate"><span class="pre">TranslationUnit</span></code> or None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.cpo.pofile.getheaderplural">
<code class="descname">getheaderplural</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.cpo.pofile.getheaderplural" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the nplural and plural values from the header.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.cpo.pofile.getids">
<code class="descname">getids</code><span class="sig-paren">(</span><em>filename=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.cpo.pofile.getids" title="Permalink to this definition">¶</a></dt>
<dd><p>return a list of unit ids</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.cpo.pofile.getprojectstyle">
<code class="descname">getprojectstyle</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.cpo.pofile.getprojectstyle" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the project based on information in the header.</p>
<dl class="docutils">
<dt>The project is determined in the following sequence:</dt>
<dd><ol class="first last arabic simple">
<li>Use the ‘X-Project-Style’ entry in the header.</li>
<li>Use ‘Report-Msgid-Bug-To’ entry</li>
<li>Use the ‘X-Accelerator’ entry</li>
<li>Use the Project ID</li>
<li>Analyse the file itself (not yet implemented)</li>
</ol>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="translate.storage.cpo.pofile.getsourcelanguage">
<code class="descname">getsourcelanguage</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.cpo.pofile.getsourcelanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the source language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.cpo.pofile.gettargetlanguage">
<code class="descname">gettargetlanguage</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.cpo.pofile.gettargetlanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the target language based on information in the header.</p>
<dl class="docutils">
<dt>The target language is determined in the following sequence:</dt>
<dd><ol class="first last arabic simple">
<li>Use the ‘Language’ entry in the header.</li>
<li>Poedit’s custom headers.</li>
<li>Analysing the ‘Language-Team’ entry.</li>
</ol>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="translate.storage.cpo.pofile.getunits">
<code class="descname">getunits</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.cpo.pofile.getunits" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of all units in this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.cpo.pofile.header">
<code class="descname">header</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.cpo.pofile.header" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the header element, or None. Only the first element is
allowed to be a header. Note that this could still return an empty
header element, if present.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.cpo.pofile.init_headers">
<code class="descname">init_headers</code><span class="sig-paren">(</span><em>charset='UTF-8'</em>, <em>encoding='8bit'</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.cpo.pofile.init_headers" title="Permalink to this definition">¶</a></dt>
<dd><p>sets default values for po headers</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.cpo.pofile.isempty">
<code class="descname">isempty</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.cpo.pofile.isempty" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns True if the object doesn’t contain any translation units.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.cpo.pofile.makeheader">
<code class="descname">makeheader</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.cpo.pofile.makeheader" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a header for the given filename.</p>
<p>Check .makeheaderdict() for information on parameters.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.cpo.pofile.makeheaderdict">
<code class="descname">makeheaderdict</code><span class="sig-paren">(</span><em>charset='CHARSET'</em>, <em>encoding='ENCODING'</em>, <em>project_id_version=None</em>, <em>pot_creation_date=None</em>, <em>po_revision_date=None</em>, <em>last_translator=None</em>, <em>language_team=None</em>, <em>mime_version=None</em>, <em>plural_forms=None</em>, <em>report_msgid_bugs_to=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.cpo.pofile.makeheaderdict" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a header dictionary with useful defaults.</p>
<p>pot_creation_date can be None (current date) or a value (datetime or string)
po_revision_date can be None (form), False (=pot_creation_date), True (=now),
or a value (datetime or string)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">Dictionary with the header items</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">dict of strings</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.cpo.pofile.makeindex">
<code class="descname">makeindex</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.cpo.pofile.makeindex" title="Permalink to this definition">¶</a></dt>
<dd><p>Indexes the items in this store. At least .sourceindex should be
useful.</p>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.cpo.pofile.merge_on">
<code class="descname">merge_on</code><a class="headerlink" href="#translate.storage.cpo.pofile.merge_on" title="Permalink to this definition">¶</a></dt>
<dd><p>The matching criterion to use when merging on.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.cpo.pofile.mergeheaders">
<code class="descname">mergeheaders</code><span class="sig-paren">(</span><em>otherstore</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.cpo.pofile.mergeheaders" title="Permalink to this definition">¶</a></dt>
<dd><p>Merges another header with this header.</p>
<p>This header is assumed to be the template.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.cpo.pofile.parse">
<code class="descname">parse</code><span class="sig-paren">(</span><em>input</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.cpo.pofile.parse" title="Permalink to this definition">¶</a></dt>
<dd><p>parser to process the given source string</p>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.cpo.pofile.parsefile">
<em class="property">classmethod </em><code class="descname">parsefile</code><span class="sig-paren">(</span><em>storefile</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.cpo.pofile.parsefile" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads the given file (or opens the given filename) and parses back
to an object.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.cpo.pofile.parseheader">
<code class="descname">parseheader</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.cpo.pofile.parseheader" title="Permalink to this definition">¶</a></dt>
<dd><p>Parses the PO header and returns the interpreted values as a
dictionary.</p>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.cpo.pofile.parsestring">
<em class="property">classmethod </em><code class="descname">parsestring</code><span class="sig-paren">(</span><em>storestring</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.cpo.pofile.parsestring" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert the string representation back to an object.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.cpo.pofile.remove_unit_from_index">
<code class="descname">remove_unit_from_index</code><span class="sig-paren">(</span><em>unit</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.cpo.pofile.remove_unit_from_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove a unit from source and locaton indexes</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.cpo.pofile.removeduplicates">
<code class="descname">removeduplicates</code><span class="sig-paren">(</span><em>duplicatestyle='merge'</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.cpo.pofile.removeduplicates" title="Permalink to this definition">¶</a></dt>
<dd><p>make sure each msgid is unique ; merge comments etc from duplicates into original</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.cpo.pofile.require_index">
<code class="descname">require_index</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.cpo.pofile.require_index" title="Permalink to this definition">¶</a></dt>
<dd><p>make sure source index exists</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.cpo.pofile.save">
<code class="descname">save</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.cpo.pofile.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Save to the file that data was originally read from, if available.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.cpo.pofile.savefile">
<code class="descname">savefile</code><span class="sig-paren">(</span><em>storefile</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.cpo.pofile.savefile" title="Permalink to this definition">¶</a></dt>
<dd><p>Write the string representation to the given file (or filename).</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.cpo.pofile.serialize">
<code class="descname">serialize</code><span class="sig-paren">(</span><em>out</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.cpo.pofile.serialize" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts to a bytes representation that can be parsed back using
<a class="reference internal" href="#translate.storage.base.TranslationStore.parsestring" title="translate.storage.base.TranslationStore.parsestring"><code class="xref py py-meth docutils literal notranslate"><span class="pre">parsestring()</span></code></a>.
<cite>out</cite> should be an open file-like objects to write to.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.cpo.pofile.setprojectstyle">
<code class="descname">setprojectstyle</code><span class="sig-paren">(</span><em>project_style</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.cpo.pofile.setprojectstyle" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the project in the header.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>project_style</strong> (<a class="reference external" href="https://docs.python.org/2.7/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) – the new project</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.cpo.pofile.setsourcelanguage">
<code class="descname">setsourcelanguage</code><span class="sig-paren">(</span><em>sourcelanguage</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.cpo.pofile.setsourcelanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the source language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.cpo.pofile.settargetlanguage">
<code class="descname">settargetlanguage</code><span class="sig-paren">(</span><em>lang</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.cpo.pofile.settargetlanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the target language in the header.</p>
<p>This removes any custom Poedit headers if they exist.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>lang</strong> (<a class="reference external" href="https://docs.python.org/2.7/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) – the new target language code</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.cpo.pofile.translate">
<code class="descname">translate</code><span class="sig-paren">(</span><em>source</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.cpo.pofile.translate" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the translated string for a given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">String or <a class="reference external" href="https://docs.python.org/2.7/library/constants.html#None" title="(in Python v2.7)">None</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.cpo.pofile.unit_iter">
<code class="descname">unit_iter</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.cpo.pofile.unit_iter" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterator over all the units in this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.cpo.pofile.updatecontributor">
<code class="descname">updatecontributor</code><span class="sig-paren">(</span><em>name</em>, <em>email=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.cpo.pofile.updatecontributor" title="Permalink to this definition">¶</a></dt>
<dd><p>Add contribution comments if necessary.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.cpo.pofile.updateheader">
<code class="descname">updateheader</code><span class="sig-paren">(</span><em>add=False</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.cpo.pofile.updateheader" title="Permalink to this definition">¶</a></dt>
<dd><p>Updates the fields in the PO style header.</p>
<p>This will create a header if add == True.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.cpo.pofile.updateheaderplural">
<code class="descname">updateheaderplural</code><span class="sig-paren">(</span><em>nplurals</em>, <em>plural</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.cpo.pofile.updateheaderplural" title="Permalink to this definition">¶</a></dt>
<dd><p>Update the Plural-Form PO header.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="translate.storage.cpo.pounit">
<em class="property">class </em><code class="descclassname">translate.storage.cpo.</code><code class="descname">pounit</code><span class="sig-paren">(</span><em>source=None</em>, <em>encoding='utf-8'</em>, <em>gpo_message=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.cpo.pounit" title="Permalink to this definition">¶</a></dt>
<dd><dl class="attribute">
<dt id="translate.storage.cpo.pounit.CPO_ENC">
<code class="descname">CPO_ENC</code><em class="property"> = 'utf-8'</em><a class="headerlink" href="#translate.storage.cpo.pounit.CPO_ENC" title="Permalink to this definition">¶</a></dt>
<dd><p>fixed encoding that is always used for cPO structure (self._gpo_message)</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.cpo.pounit.adderror">
<code class="descname">adderror</code><span class="sig-paren">(</span><em>errorname</em>, <em>errortext</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.cpo.pounit.adderror" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds an error message to this unit.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.cpo.pounit.addlocation">
<code class="descname">addlocation</code><span class="sig-paren">(</span><em>location</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.cpo.pounit.addlocation" title="Permalink to this definition">¶</a></dt>
<dd><p>Add one location to the list of locations.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Shouldn’t be implemented if the format doesn’t support it.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.cpo.pounit.addlocations">
<code class="descname">addlocations</code><span class="sig-paren">(</span><em>location</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.cpo.pounit.addlocations" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a location or a list of locations.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Most classes shouldn’t need to implement this, but should rather
implement <code class="xref py py-meth docutils literal notranslate"><span class="pre">TranslationUnit.addlocation()</span></code>.</p>
</div>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">This method might be removed in future.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.cpo.pounit.addnote">
<code class="descname">addnote</code><span class="sig-paren">(</span><em>text</em>, <em>origin=None</em>, <em>position='append'</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.cpo.pounit.addnote" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds a note (comment).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>text</strong> (<em>string</em>) – Usually just a sentence or two.</li>
<li><strong>origin</strong> (<em>string</em>) – Specifies who/where the comment comes from.
Origin can be one of the following text strings:
- ‘translator’
- ‘developer’, ‘programmer’, ‘source code’ (synonyms)</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.cpo.pounit.buildfromunit">
<em class="property">classmethod </em><code class="descname">buildfromunit</code><span class="sig-paren">(</span><em>unit</em>, <em>encoding=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.cpo.pounit.buildfromunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Build a native unit from a foreign unit, preserving as much
information as possible.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.cpo.pounit.getcontext">
<code class="descname">getcontext</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.cpo.pounit.getcontext" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the message context.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.cpo.pounit.geterrors">
<code class="descname">geterrors</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.cpo.pounit.geterrors" title="Permalink to this definition">¶</a></dt>
<dd><p>Get all error messages.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.cpo.pounit.getid">
<code class="descname">getid</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.cpo.pounit.getid" title="Permalink to this definition">¶</a></dt>
<dd><p>The unique identifier for this unit according to the conventions in
.mo files.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.cpo.pounit.getlocations">
<code class="descname">getlocations</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.cpo.pounit.getlocations" title="Permalink to this definition">¶</a></dt>
<dd><p>A list of source code locations.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">List</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Shouldn’t be implemented if the format doesn’t support it.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.cpo.pounit.getnotes">
<code class="descname">getnotes</code><span class="sig-paren">(</span><em>origin=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.cpo.pounit.getnotes" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns all notes about this unit.</p>
<p>It will probably be freeform text or something reasonable that can be
synthesised by the format.
It should not include location comments (see
<a class="reference internal" href="#translate.storage.base.TranslationUnit.getlocations" title="translate.storage.base.TranslationUnit.getlocations"><code class="xref py py-meth docutils literal notranslate"><span class="pre">getlocations()</span></code></a>).</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.cpo.pounit.gettargetlen">
<code class="descname">gettargetlen</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.cpo.pounit.gettargetlen" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the length of the target string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">Integer</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Plural forms might be combined.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.cpo.pounit.getunits">
<code class="descname">getunits</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.cpo.pounit.getunits" title="Permalink to this definition">¶</a></dt>
<dd><p>This unit in a list.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.cpo.pounit.hasplural">
<code class="descname">hasplural</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.cpo.pounit.hasplural" title="Permalink to this definition">¶</a></dt>
<dd><p>Tells whether or not this specific unit has plural strings.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.cpo.pounit.infer_state">
<code class="descname">infer_state</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.cpo.pounit.infer_state" title="Permalink to this definition">¶</a></dt>
<dd><p>Empty method that should be overridden in sub-classes to infer the
current state(_n) of the unit from its current state.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.cpo.pounit.isblank">
<code class="descname">isblank</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.cpo.pounit.isblank" title="Permalink to this definition">¶</a></dt>
<dd><p>Used to see if this unit has no source or target string.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This is probably used more to find translatable units,
and we might want to move in that direction rather and
get rid of this.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.cpo.pounit.isfuzzy">
<code class="descname">isfuzzy</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.cpo.pounit.isfuzzy" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit is fuzzy.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.cpo.pounit.isheader">
<code class="descname">isheader</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.cpo.pounit.isheader" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit is a header.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.cpo.pounit.isobsolete">
<code class="descname">isobsolete</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.cpo.pounit.isobsolete" title="Permalink to this definition">¶</a></dt>
<dd><p>indicate whether a unit is obsolete</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.cpo.pounit.isreview">
<code class="descname">isreview</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.cpo.pounit.isreview" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit needs review.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.cpo.pounit.istranslatable">
<code class="descname">istranslatable</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.cpo.pounit.istranslatable" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit can be translated.</p>
<p>This should be used to distinguish real units for translation from
header, obsolete, binary or other blank units.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.cpo.pounit.istranslated">
<code class="descname">istranslated</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.cpo.pounit.istranslated" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit is translated.</p>
<p>This should be used rather than deducing it from .target,
to ensure that other classes can implement more functionality
(as XLIFF does).</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.cpo.pounit.makeobsolete">
<code class="descname">makeobsolete</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.cpo.pounit.makeobsolete" title="Permalink to this definition">¶</a></dt>
<dd><p>Make a unit obsolete</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.cpo.pounit.markfuzzy">
<code class="descname">markfuzzy</code><span class="sig-paren">(</span><em>present=True</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.cpo.pounit.markfuzzy" title="Permalink to this definition">¶</a></dt>
<dd><p>Marks the unit as fuzzy or not.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.cpo.pounit.markreviewneeded">
<code class="descname">markreviewneeded</code><span class="sig-paren">(</span><em>needsreview=True</em>, <em>explanation=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.cpo.pounit.markreviewneeded" title="Permalink to this definition">¶</a></dt>
<dd><p>Marks the unit to indicate whether it needs review. Adds an optional explanation as a note.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.cpo.pounit.merge">
<code class="descname">merge</code><span class="sig-paren">(</span><em>otherpo</em>, <em>overwrite=False</em>, <em>comments=True</em>, <em>authoritative=False</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.cpo.pounit.merge" title="Permalink to this definition">¶</a></dt>
<dd><p>Merges the otherpo (with the same msgid) into this one.</p>
<p>Overwrite non-blank self.msgstr only if overwrite is True
merge comments only if comments is True</p>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.cpo.pounit.msgidcomment">
<code class="descname">msgidcomment</code><a class="headerlink" href="#translate.storage.cpo.pounit.msgidcomment" title="Permalink to this definition">¶</a></dt>
<dd><p>Extract KDE style msgid comments from the unit.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">String</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">Returns the extracted msgidcomments found in this unit’s msgid.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.cpo.pounit.multistring_to_rich">
<code class="descname">multistring_to_rich</code><span class="sig-paren">(</span><em>mulstring</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.cpo.pounit.multistring_to_rich" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a multistring to a list of “rich” string trees:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">target</span> <span class="o">=</span> <span class="n">multistring</span><span class="p">([</span><span class="sa">u</span><span class="s1">&#39;foo&#39;</span><span class="p">,</span> <span class="sa">u</span><span class="s1">&#39;bar&#39;</span><span class="p">,</span> <span class="sa">u</span><span class="s1">&#39;baz&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">TranslationUnit</span><span class="o">.</span><span class="n">multistring_to_rich</span><span class="p">(</span><span class="n">target</span><span class="p">)</span>
<span class="go">[&lt;StringElem([&lt;StringElem([u&#39;foo&#39;])&gt;])&gt;,</span>
<span class="go"> &lt;StringElem([&lt;StringElem([u&#39;bar&#39;])&gt;])&gt;,</span>
<span class="go"> &lt;StringElem([&lt;StringElem([u&#39;baz&#39;])&gt;])&gt;]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.cpo.pounit.removenotes">
<code class="descname">removenotes</code><span class="sig-paren">(</span><em>origin=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.cpo.pounit.removenotes" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove all the translator’s notes.</p>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.cpo.pounit.rich_source">
<code class="descname">rich_source</code><a class="headerlink" href="#translate.storage.cpo.pounit.rich_source" title="Permalink to this definition">¶</a></dt>
<dd><div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="#translate.storage.cpo.pounit.rich_to_multistring" title="translate.storage.cpo.pounit.rich_to_multistring"><code class="xref py py-meth docutils literal notranslate"><span class="pre">rich_to_multistring()</span></code></a>, <a class="reference internal" href="#translate.storage.cpo.pounit.multistring_to_rich" title="translate.storage.cpo.pounit.multistring_to_rich"><code class="xref py py-meth docutils literal notranslate"><span class="pre">multistring_to_rich()</span></code></a></p>
</div>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.cpo.pounit.rich_target">
<code class="descname">rich_target</code><a class="headerlink" href="#translate.storage.cpo.pounit.rich_target" title="Permalink to this definition">¶</a></dt>
<dd><div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="#translate.storage.cpo.pounit.rich_to_multistring" title="translate.storage.cpo.pounit.rich_to_multistring"><code class="xref py py-meth docutils literal notranslate"><span class="pre">rich_to_multistring()</span></code></a>, <a class="reference internal" href="#translate.storage.cpo.pounit.multistring_to_rich" title="translate.storage.cpo.pounit.multistring_to_rich"><code class="xref py py-meth docutils literal notranslate"><span class="pre">multistring_to_rich()</span></code></a></p>
</div>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.cpo.pounit.rich_to_multistring">
<em class="property">classmethod </em><code class="descname">rich_to_multistring</code><span class="sig-paren">(</span><em>elem_list</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.cpo.pounit.rich_to_multistring" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a “rich” string tree to a <code class="docutils literal notranslate"><span class="pre">multistring</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">translate.storage.placeables.interfaces</span> <span class="kn">import</span> <span class="n">X</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rich</span> <span class="o">=</span> <span class="p">[</span><span class="n">StringElem</span><span class="p">([</span><span class="s1">&#39;foo&#39;</span><span class="p">,</span> <span class="n">X</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="s1">&#39;xxx&#39;</span><span class="p">,</span> <span class="n">sub</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39; &#39;</span><span class="p">]),</span> <span class="s1">&#39;bar&#39;</span><span class="p">])]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">TranslationUnit</span><span class="o">.</span><span class="n">rich_to_multistring</span><span class="p">(</span><span class="n">rich</span><span class="p">)</span>
<span class="go">multistring(u&#39;foo bar&#39;)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.cpo.pounit.setcontext">
<code class="descname">setcontext</code><span class="sig-paren">(</span><em>context</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.cpo.pounit.setcontext" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the message context</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.cpo.pounit.setid">
<code class="descname">setid</code><span class="sig-paren">(</span><em>value</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.cpo.pounit.setid" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the unique identified for this unit.</p>
<p>only implemented if format allows ids independant from other unit
properties like source or context</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.cpo.pounit.unit_iter">
<code class="descname">unit_iter</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.cpo.pounit.unit_iter" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterator that only returns this unit.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-translate.storage.csvl10n">
<span id="csvl10n"></span><h2>csvl10n<a class="headerlink" href="#module-translate.storage.csvl10n" title="Permalink to this headline">¶</a></h2>
<p>classes that hold units of comma-separated values (.csv) files (csvunit)
or entire files (csvfile) for use with localisation</p>
<dl class="class">
<dt id="translate.storage.csvl10n.csvfile">
<em class="property">class </em><code class="descclassname">translate.storage.csvl10n.</code><code class="descname">csvfile</code><span class="sig-paren">(</span><em>inputfile=None</em>, <em>fieldnames=None</em>, <em>encoding=u'auto'</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.csvl10n.csvfile" title="Permalink to this definition">¶</a></dt>
<dd><p>This class represents a .csv file with various lines.  The default
format contains three columns: location, source, target</p>
<dl class="attribute">
<dt id="translate.storage.csvl10n.csvfile.UnitClass">
<code class="descname">UnitClass</code><a class="headerlink" href="#translate.storage.csvl10n.csvfile.UnitClass" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <a class="reference internal" href="#translate.storage.csvl10n.csvunit" title="translate.storage.csvl10n.csvunit"><code class="xref py py-class docutils literal notranslate"><span class="pre">csvunit</span></code></a></p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.csvl10n.csvfile.add_unit_to_index">
<code class="descname">add_unit_to_index</code><span class="sig-paren">(</span><em>unit</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.csvl10n.csvfile.add_unit_to_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a unit to source and location idexes</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.csvl10n.csvfile.addsourceunit">
<code class="descname">addsourceunit</code><span class="sig-paren">(</span><em>source</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.csvl10n.csvfile.addsourceunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Add and returns a new unit with the given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><code class="xref py py-class docutils literal notranslate"><span class="pre">TranslationUnit</span></code></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.csvl10n.csvfile.addunit">
<code class="descname">addunit</code><span class="sig-paren">(</span><em>unit</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.csvl10n.csvfile.addunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Append the given unit to the object’s list of units.</p>
<p>This method should always be used rather than trying to modify the
list manually.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>unit</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">TranslationUnit</span></code>) – The unit that will be added.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.csvl10n.csvfile.detect_encoding">
<code class="descname">detect_encoding</code><span class="sig-paren">(</span><em>text</em>, <em>default_encodings=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.csvl10n.csvfile.detect_encoding" title="Permalink to this definition">¶</a></dt>
<dd><p>Try to detect a file encoding from <cite>text</cite>, using either the chardet lib
or by trying to decode the file.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.csvl10n.csvfile.fallback_detection">
<code class="descname">fallback_detection</code><span class="sig-paren">(</span><em>text</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.csvl10n.csvfile.fallback_detection" title="Permalink to this definition">¶</a></dt>
<dd><p>Simple detection based on BOM in case chardet is not available.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.csvl10n.csvfile.findid">
<code class="descname">findid</code><span class="sig-paren">(</span><em>id</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.csvl10n.csvfile.findid" title="Permalink to this definition">¶</a></dt>
<dd><p>find unit with matching id by checking id_index</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.csvl10n.csvfile.findunit">
<code class="descname">findunit</code><span class="sig-paren">(</span><em>source</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.csvl10n.csvfile.findunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the unit with the given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><code class="xref py py-class docutils literal notranslate"><span class="pre">TranslationUnit</span></code> or None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.csvl10n.csvfile.findunits">
<code class="descname">findunits</code><span class="sig-paren">(</span><em>source</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.csvl10n.csvfile.findunits" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the units with the given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><code class="xref py py-class docutils literal notranslate"><span class="pre">TranslationUnit</span></code> or None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.csvl10n.csvfile.getids">
<code class="descname">getids</code><span class="sig-paren">(</span><em>filename=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.csvl10n.csvfile.getids" title="Permalink to this definition">¶</a></dt>
<dd><p>return a list of unit ids</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.csvl10n.csvfile.getprojectstyle">
<code class="descname">getprojectstyle</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.csvl10n.csvfile.getprojectstyle" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the project type for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.csvl10n.csvfile.getsourcelanguage">
<code class="descname">getsourcelanguage</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.csvl10n.csvfile.getsourcelanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the source language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.csvl10n.csvfile.gettargetlanguage">
<code class="descname">gettargetlanguage</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.csvl10n.csvfile.gettargetlanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the target language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.csvl10n.csvfile.getunits">
<code class="descname">getunits</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.csvl10n.csvfile.getunits" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of all units in this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.csvl10n.csvfile.isempty">
<code class="descname">isempty</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.csvl10n.csvfile.isempty" title="Permalink to this definition">¶</a></dt>
<dd><p>Return True if the object doesn’t contain any translation units.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.csvl10n.csvfile.makeindex">
<code class="descname">makeindex</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.csvl10n.csvfile.makeindex" title="Permalink to this definition">¶</a></dt>
<dd><p>Indexes the items in this store. At least .sourceindex should be
useful.</p>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.csvl10n.csvfile.merge_on">
<code class="descname">merge_on</code><a class="headerlink" href="#translate.storage.csvl10n.csvfile.merge_on" title="Permalink to this definition">¶</a></dt>
<dd><p>The matching criterion to use when merging on.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The default matching criterion for all the subclasses.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">string</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.csvl10n.csvfile.parse">
<code class="descname">parse</code><span class="sig-paren">(</span><em>csvsrc</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.csvl10n.csvfile.parse" title="Permalink to this definition">¶</a></dt>
<dd><p>parser to process the given source string</p>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.csvl10n.csvfile.parsefile">
<em class="property">classmethod </em><code class="descname">parsefile</code><span class="sig-paren">(</span><em>storefile</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.csvl10n.csvfile.parsefile" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads the given file (or opens the given filename) and parses back
to an object.</p>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.csvl10n.csvfile.parsestring">
<em class="property">classmethod </em><code class="descname">parsestring</code><span class="sig-paren">(</span><em>storestring</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.csvl10n.csvfile.parsestring" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert the string representation back to an object.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.csvl10n.csvfile.remove_unit_from_index">
<code class="descname">remove_unit_from_index</code><span class="sig-paren">(</span><em>unit</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.csvl10n.csvfile.remove_unit_from_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove a unit from source and locaton indexes</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.csvl10n.csvfile.require_index">
<code class="descname">require_index</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.csvl10n.csvfile.require_index" title="Permalink to this definition">¶</a></dt>
<dd><p>make sure source index exists</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.csvl10n.csvfile.save">
<code class="descname">save</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.csvl10n.csvfile.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Save to the file that data was originally read from, if available.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.csvl10n.csvfile.savefile">
<code class="descname">savefile</code><span class="sig-paren">(</span><em>storefile</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.csvl10n.csvfile.savefile" title="Permalink to this definition">¶</a></dt>
<dd><p>Write the string representation to the given file (or filename).</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.csvl10n.csvfile.serialize">
<code class="descname">serialize</code><span class="sig-paren">(</span><em>out</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.csvl10n.csvfile.serialize" title="Permalink to this definition">¶</a></dt>
<dd><p>Write to file</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.csvl10n.csvfile.setprojectstyle">
<code class="descname">setprojectstyle</code><span class="sig-paren">(</span><em>project_style</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.csvl10n.csvfile.setprojectstyle" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the project type for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.csvl10n.csvfile.setsourcelanguage">
<code class="descname">setsourcelanguage</code><span class="sig-paren">(</span><em>sourcelanguage</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.csvl10n.csvfile.setsourcelanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the source language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.csvl10n.csvfile.settargetlanguage">
<code class="descname">settargetlanguage</code><span class="sig-paren">(</span><em>targetlanguage</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.csvl10n.csvfile.settargetlanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the target language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.csvl10n.csvfile.translate">
<code class="descname">translate</code><span class="sig-paren">(</span><em>source</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.csvl10n.csvfile.translate" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the translated string for a given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">String or <a class="reference external" href="https://docs.python.org/2.7/library/constants.html#None" title="(in Python v2.7)">None</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.csvl10n.csvfile.unit_iter">
<code class="descname">unit_iter</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.csvl10n.csvfile.unit_iter" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterator over all the units in this store.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="translate.storage.csvl10n.csvunit">
<em class="property">class </em><code class="descclassname">translate.storage.csvl10n.</code><code class="descname">csvunit</code><span class="sig-paren">(</span><em>source=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.csvl10n.csvunit" title="Permalink to this definition">¶</a></dt>
<dd><dl class="method">
<dt id="translate.storage.csvl10n.csvunit.add_spreadsheet_escapes">
<code class="descname">add_spreadsheet_escapes</code><span class="sig-paren">(</span><em>source</em>, <em>target</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.csvl10n.csvunit.add_spreadsheet_escapes" title="Permalink to this definition">¶</a></dt>
<dd><p>add common spreadsheet escapes to two strings</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.csvl10n.csvunit.adderror">
<code class="descname">adderror</code><span class="sig-paren">(</span><em>errorname</em>, <em>errortext</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.csvl10n.csvunit.adderror" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds an error message to this unit.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>errorname</strong> (<em>string</em>) – A single word to id the error.</li>
<li><strong>errortext</strong> (<em>string</em>) – The text describing the error.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.csvl10n.csvunit.addlocation">
<code class="descname">addlocation</code><span class="sig-paren">(</span><em>location</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.csvl10n.csvunit.addlocation" title="Permalink to this definition">¶</a></dt>
<dd><p>Add one location to the list of locations.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Shouldn’t be implemented if the format doesn’t support it.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.csvl10n.csvunit.addlocations">
<code class="descname">addlocations</code><span class="sig-paren">(</span><em>location</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.csvl10n.csvunit.addlocations" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a location or a list of locations.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Most classes shouldn’t need to implement this, but should rather
implement <code class="xref py py-meth docutils literal notranslate"><span class="pre">TranslationUnit.addlocation()</span></code>.</p>
</div>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">This method might be removed in future.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.csvl10n.csvunit.addnote">
<code class="descname">addnote</code><span class="sig-paren">(</span><em>text</em>, <em>origin=None</em>, <em>position=u'append'</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.csvl10n.csvunit.addnote" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds a note (comment).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>text</strong> (<em>string</em>) – Usually just a sentence or two.</li>
<li><strong>origin</strong> (<em>string</em>) – Specifies who/where the comment comes from.
Origin can be one of the following text strings:
- ‘translator’
- ‘developer’, ‘programmer’, ‘source code’ (synonyms)</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.csvl10n.csvunit.buildfromunit">
<em class="property">classmethod </em><code class="descname">buildfromunit</code><span class="sig-paren">(</span><em>unit</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.csvl10n.csvunit.buildfromunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Build a native unit from a foreign unit, preserving as much
information as possible.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.csvl10n.csvunit.getcontext">
<code class="descname">getcontext</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.csvl10n.csvunit.getcontext" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the message context.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.csvl10n.csvunit.geterrors">
<code class="descname">geterrors</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.csvl10n.csvunit.geterrors" title="Permalink to this definition">¶</a></dt>
<dd><p>Get all error messages.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">Dictionary</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.csvl10n.csvunit.getid">
<code class="descname">getid</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.csvl10n.csvunit.getid" title="Permalink to this definition">¶</a></dt>
<dd><p>A unique identifier for this unit.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">string</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">an identifier for this unit that is unique in the store</td>
</tr>
</tbody>
</table>
<p>Derived classes should override this in a way that guarantees a unique
identifier for each unit in the store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.csvl10n.csvunit.getlocations">
<code class="descname">getlocations</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.csvl10n.csvunit.getlocations" title="Permalink to this definition">¶</a></dt>
<dd><p>A list of source code locations.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">List</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Shouldn’t be implemented if the format doesn’t support it.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.csvl10n.csvunit.getnotes">
<code class="descname">getnotes</code><span class="sig-paren">(</span><em>origin=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.csvl10n.csvunit.getnotes" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns all notes about this unit.</p>
<p>It will probably be freeform text or something reasonable that can be
synthesised by the format.
It should not include location comments (see
<a class="reference internal" href="#translate.storage.base.TranslationUnit.getlocations" title="translate.storage.base.TranslationUnit.getlocations"><code class="xref py py-meth docutils literal notranslate"><span class="pre">getlocations()</span></code></a>).</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.csvl10n.csvunit.gettargetlen">
<code class="descname">gettargetlen</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.csvl10n.csvunit.gettargetlen" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the length of the target string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">Integer</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Plural forms might be combined.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.csvl10n.csvunit.getunits">
<code class="descname">getunits</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.csvl10n.csvunit.getunits" title="Permalink to this definition">¶</a></dt>
<dd><p>This unit in a list.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.csvl10n.csvunit.hasplural">
<code class="descname">hasplural</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.csvl10n.csvunit.hasplural" title="Permalink to this definition">¶</a></dt>
<dd><p>Tells whether or not this specific unit has plural strings.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.csvl10n.csvunit.infer_state">
<code class="descname">infer_state</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.csvl10n.csvunit.infer_state" title="Permalink to this definition">¶</a></dt>
<dd><p>Empty method that should be overridden in sub-classes to infer the
current state(_n) of the unit from its current state.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.csvl10n.csvunit.isblank">
<code class="descname">isblank</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.csvl10n.csvunit.isblank" title="Permalink to this definition">¶</a></dt>
<dd><p>Used to see if this unit has no source or target string.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This is probably used more to find translatable units,
and we might want to move in that direction rather and
get rid of this.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.csvl10n.csvunit.isfuzzy">
<code class="descname">isfuzzy</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.csvl10n.csvunit.isfuzzy" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit is fuzzy.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.csvl10n.csvunit.isheader">
<code class="descname">isheader</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.csvl10n.csvunit.isheader" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit is a header.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.csvl10n.csvunit.isobsolete">
<code class="descname">isobsolete</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.csvl10n.csvunit.isobsolete" title="Permalink to this definition">¶</a></dt>
<dd><p>indicate whether a unit is obsolete</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.csvl10n.csvunit.isreview">
<code class="descname">isreview</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.csvl10n.csvunit.isreview" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit needs review.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.csvl10n.csvunit.istranslatable">
<code class="descname">istranslatable</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.csvl10n.csvunit.istranslatable" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit can be translated.</p>
<p>This should be used to distinguish real units for translation from
header, obsolete, binary or other blank units.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.csvl10n.csvunit.istranslated">
<code class="descname">istranslated</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.csvl10n.csvunit.istranslated" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit is translated.</p>
<p>This should be used rather than deducing it from .target,
to ensure that other classes can implement more functionality
(as XLIFF does).</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.csvl10n.csvunit.makeobsolete">
<code class="descname">makeobsolete</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.csvl10n.csvunit.makeobsolete" title="Permalink to this definition">¶</a></dt>
<dd><p>Make a unit obsolete</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.csvl10n.csvunit.markfuzzy">
<code class="descname">markfuzzy</code><span class="sig-paren">(</span><em>value=True</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.csvl10n.csvunit.markfuzzy" title="Permalink to this definition">¶</a></dt>
<dd><p>Marks the unit as fuzzy or not.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.csvl10n.csvunit.markreviewneeded">
<code class="descname">markreviewneeded</code><span class="sig-paren">(</span><em>needsreview=True</em>, <em>explanation=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.csvl10n.csvunit.markreviewneeded" title="Permalink to this definition">¶</a></dt>
<dd><p>Marks the unit to indicate whether it needs review.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>needsreview</strong> – Defaults to True.</li>
<li><strong>explanation</strong> – Adds an optional explanation as a note.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.csvl10n.csvunit.match_header">
<code class="descname">match_header</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.csvl10n.csvunit.match_header" title="Permalink to this definition">¶</a></dt>
<dd><p>see if unit might be a header</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.csvl10n.csvunit.merge">
<code class="descname">merge</code><span class="sig-paren">(</span><em>otherunit</em>, <em>overwrite=False</em>, <em>comments=True</em>, <em>authoritative=False</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.csvl10n.csvunit.merge" title="Permalink to this definition">¶</a></dt>
<dd><p>Do basic format agnostic merging.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.csvl10n.csvunit.multistring_to_rich">
<code class="descname">multistring_to_rich</code><span class="sig-paren">(</span><em>mulstring</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.csvl10n.csvunit.multistring_to_rich" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a multistring to a list of “rich” string trees:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">target</span> <span class="o">=</span> <span class="n">multistring</span><span class="p">([</span><span class="sa">u</span><span class="s1">&#39;foo&#39;</span><span class="p">,</span> <span class="sa">u</span><span class="s1">&#39;bar&#39;</span><span class="p">,</span> <span class="sa">u</span><span class="s1">&#39;baz&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">TranslationUnit</span><span class="o">.</span><span class="n">multistring_to_rich</span><span class="p">(</span><span class="n">target</span><span class="p">)</span>
<span class="go">[&lt;StringElem([&lt;StringElem([u&#39;foo&#39;])&gt;])&gt;,</span>
<span class="go"> &lt;StringElem([&lt;StringElem([u&#39;bar&#39;])&gt;])&gt;,</span>
<span class="go"> &lt;StringElem([&lt;StringElem([u&#39;baz&#39;])&gt;])&gt;]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.csvl10n.csvunit.remove_spreadsheet_escapes">
<code class="descname">remove_spreadsheet_escapes</code><span class="sig-paren">(</span><em>source</em>, <em>target</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.csvl10n.csvunit.remove_spreadsheet_escapes" title="Permalink to this definition">¶</a></dt>
<dd><p>remove common spreadsheet escapes from two strings</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.csvl10n.csvunit.removenotes">
<code class="descname">removenotes</code><span class="sig-paren">(</span><em>origin=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.csvl10n.csvunit.removenotes" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove all the translator’s notes.</p>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.csvl10n.csvunit.rich_source">
<code class="descname">rich_source</code><a class="headerlink" href="#translate.storage.csvl10n.csvunit.rich_source" title="Permalink to this definition">¶</a></dt>
<dd><div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="#translate.storage.csvl10n.csvunit.rich_to_multistring" title="translate.storage.csvl10n.csvunit.rich_to_multistring"><code class="xref py py-meth docutils literal notranslate"><span class="pre">rich_to_multistring()</span></code></a>, <a class="reference internal" href="#translate.storage.csvl10n.csvunit.multistring_to_rich" title="translate.storage.csvl10n.csvunit.multistring_to_rich"><code class="xref py py-meth docutils literal notranslate"><span class="pre">multistring_to_rich()</span></code></a></p>
</div>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.csvl10n.csvunit.rich_target">
<code class="descname">rich_target</code><a class="headerlink" href="#translate.storage.csvl10n.csvunit.rich_target" title="Permalink to this definition">¶</a></dt>
<dd><div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="#translate.storage.csvl10n.csvunit.rich_to_multistring" title="translate.storage.csvl10n.csvunit.rich_to_multistring"><code class="xref py py-meth docutils literal notranslate"><span class="pre">rich_to_multistring()</span></code></a>, <a class="reference internal" href="#translate.storage.csvl10n.csvunit.multistring_to_rich" title="translate.storage.csvl10n.csvunit.multistring_to_rich"><code class="xref py py-meth docutils literal notranslate"><span class="pre">multistring_to_rich()</span></code></a></p>
</div>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.csvl10n.csvunit.rich_to_multistring">
<em class="property">classmethod </em><code class="descname">rich_to_multistring</code><span class="sig-paren">(</span><em>elem_list</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.csvl10n.csvunit.rich_to_multistring" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a “rich” string tree to a <code class="docutils literal notranslate"><span class="pre">multistring</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">translate.storage.placeables.interfaces</span> <span class="kn">import</span> <span class="n">X</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rich</span> <span class="o">=</span> <span class="p">[</span><span class="n">StringElem</span><span class="p">([</span><span class="s1">&#39;foo&#39;</span><span class="p">,</span> <span class="n">X</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="s1">&#39;xxx&#39;</span><span class="p">,</span> <span class="n">sub</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39; &#39;</span><span class="p">]),</span> <span class="s1">&#39;bar&#39;</span><span class="p">])]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">TranslationUnit</span><span class="o">.</span><span class="n">rich_to_multistring</span><span class="p">(</span><span class="n">rich</span><span class="p">)</span>
<span class="go">multistring(u&#39;foo bar&#39;)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.csvl10n.csvunit.setcontext">
<code class="descname">setcontext</code><span class="sig-paren">(</span><em>value</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.csvl10n.csvunit.setcontext" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the message context</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.csvl10n.csvunit.setid">
<code class="descname">setid</code><span class="sig-paren">(</span><em>value</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.csvl10n.csvunit.setid" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the unique identified for this unit.</p>
<p>only implemented if format allows ids independant from other unit
properties like source or context</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.csvl10n.csvunit.unit_iter">
<code class="descname">unit_iter</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.csvl10n.csvunit.unit_iter" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterator that only returns this unit.</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="translate.storage.csvl10n.detect_header">
<code class="descclassname">translate.storage.csvl10n.</code><code class="descname">detect_header</code><span class="sig-paren">(</span><em>inputfile</em>, <em>dialect</em>, <em>fieldnames</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.csvl10n.detect_header" title="Permalink to this definition">¶</a></dt>
<dd><p>Test if file has a header or not, also returns number of columns in first row</p>
</dd></dl>

<dl class="function">
<dt id="translate.storage.csvl10n.valid_fieldnames">
<code class="descclassname">translate.storage.csvl10n.</code><code class="descname">valid_fieldnames</code><span class="sig-paren">(</span><em>fieldnames</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.csvl10n.valid_fieldnames" title="Permalink to this definition">¶</a></dt>
<dd><p>Check if fieldnames are valid, that is at least one field is identified
as the source.</p>
</dd></dl>

</div>
<div class="section" id="module-translate.storage.directory">
<span id="directory"></span><h2>directory<a class="headerlink" href="#module-translate.storage.directory" title="Permalink to this headline">¶</a></h2>
<p>This module provides functionality to work with directories.</p>
<dl class="class">
<dt id="translate.storage.directory.Directory">
<em class="property">class </em><code class="descclassname">translate.storage.directory.</code><code class="descname">Directory</code><span class="sig-paren">(</span><em>dir=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.directory.Directory" title="Permalink to this definition">¶</a></dt>
<dd><p>This class represents a directory.</p>
<dl class="method">
<dt id="translate.storage.directory.Directory.file_iter">
<code class="descname">file_iter</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.directory.Directory.file_iter" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterator over (dir, filename) for all files in this directory.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.directory.Directory.getfiles">
<code class="descname">getfiles</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.directory.Directory.getfiles" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a list of (dir, filename) tuples for all the file names in
this directory.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.directory.Directory.getunits">
<code class="descname">getunits</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.directory.Directory.getunits" title="Permalink to this definition">¶</a></dt>
<dd><p>List of all the units in all the files in this directory.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.directory.Directory.scanfiles">
<code class="descname">scanfiles</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.directory.Directory.scanfiles" title="Permalink to this definition">¶</a></dt>
<dd><p>Populate the internal file data.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.directory.Directory.unit_iter">
<code class="descname">unit_iter</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.directory.Directory.unit_iter" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterator over all the units in all the files in this directory.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-translate.storage.dtd">
<span id="dtd"></span><h2>dtd<a class="headerlink" href="#module-translate.storage.dtd" title="Permalink to this headline">¶</a></h2>
<p>Classes that hold units of .dtd files (<a class="reference internal" href="#translate.storage.dtd.dtdunit" title="translate.storage.dtd.dtdunit"><code class="xref py py-class docutils literal notranslate"><span class="pre">dtdunit</span></code></a>) or entire files
(<a class="reference internal" href="#translate.storage.dtd.dtdfile" title="translate.storage.dtd.dtdfile"><code class="xref py py-class docutils literal notranslate"><span class="pre">dtdfile</span></code></a>).</p>
<p>These are specific .dtd files for localisation used by mozilla.</p>
<dl class="docutils">
<dt>Specifications</dt>
<dd><p class="first">The following information is provided by Mozilla:</p>
<p><a class="reference external" href="http://www.w3.org/TR/REC-xml/#sec-entexpand">Specification</a></p>
<p>There is a grammar for entity definitions, which isn’t really precise,
as the spec says.  There’s no formal specification for DTD files, it’s
just “whatever makes this work” basically. The whole piece is clearly not
the strongest point of the xml spec</p>
<p class="last">XML elements are allowed in entity values. A number of things that are
allowed will just break the resulting document, Mozilla forbids these
in their DTD parser.</p>
</dd>
<dt>Dialects</dt>
<dd><p class="first">There are two dialects:</p>
<ul class="simple">
<li>Regular DTD</li>
<li>Android DTD</li>
</ul>
<p class="last">Both dialects are similar, but the Android DTD uses some particular escapes
that regular DTDs don’t have.</p>
</dd>
<dt>Escaping in regular DTD</dt>
<dd><p class="first">In DTD usually there are characters escaped in the entities. In order to
ease the translation some of those escaped characters are unescaped when
reading from, or converting, the DTD, and that are escaped again when
saving, or converting to a DTD.</p>
<p>In regular DTD the following characters are usually or sometimes escaped:</p>
<ul class="simple">
<li>The % character is escaped using &amp;#037; or &amp;#37; or &amp;#x25;</li>
<li>The ” character is escaped using &amp;quot;</li>
<li>The ‘ character is escaped using &amp;apos; (partial roundtrip)</li>
<li>The &amp; character is escaped using &amp;amp;</li>
<li>The &lt; character is escaped using &amp;lt; (not yet implemented)</li>
<li>The &gt; character is escaped using &amp;gt; (not yet implemented)</li>
</ul>
<p>Besides the previous ones there are a lot of escapes for a huge number of
characters. This escapes usually have the form of &amp;#NUMBER; where NUMBER
represents the numerical code for the character.</p>
<p>There are a few particularities in DTD escaping. Some of the escapes are
not yet implemented since they are not really necessary, or because its
implementation is too hard.</p>
<p>A special case is the ‘ escaping using &amp;apos; which doesn’t provide a full
roundtrip conversion in order to support some special Mozilla DTD files.</p>
<p class="last">Also the ” character is never escaped in the case that the previous
character is = (the sequence =” is present on the string) in order to avoid
escaping the ” character indicating an attribute assignment, for example in
a href attribute for an a tag in HTML (anchor tag).</p>
</dd>
<dt>Escaping in Android DTD</dt>
<dd><p class="first">It has the sames escapes as in regular DTD, plus this ones:</p>
<ul class="last simple">
<li>The ‘ character is escaped using &amp;apos; or ‘ or u0027</li>
<li>The ” character is escaped using &amp;quot;</li>
</ul>
</dd>
</dl>
<dl class="data">
<dt id="translate.storage.dtd.accesskeysuffixes">
<code class="descclassname">translate.storage.dtd.</code><code class="descname">accesskeysuffixes</code><em class="property"> = ('.accesskey', '.accessKey', '.akey')</em><a class="headerlink" href="#translate.storage.dtd.accesskeysuffixes" title="Permalink to this definition">¶</a></dt>
<dd><p>Accesskey Suffixes: entries with this suffix may be combined with labels
ending in <code class="xref py py-attr docutils literal notranslate"><span class="pre">labelsuffixes</span></code> into accelerator notation</p>
</dd></dl>

<dl class="class">
<dt id="translate.storage.dtd.dtdfile">
<em class="property">class </em><code class="descclassname">translate.storage.dtd.</code><code class="descname">dtdfile</code><span class="sig-paren">(</span><em>inputfile=None</em>, <em>android=False</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.dtd.dtdfile" title="Permalink to this definition">¶</a></dt>
<dd><p>A .dtd file made up of dtdunits.</p>
<dl class="attribute">
<dt id="translate.storage.dtd.dtdfile.UnitClass">
<code class="descname">UnitClass</code><a class="headerlink" href="#translate.storage.dtd.dtdfile.UnitClass" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <a class="reference internal" href="#translate.storage.dtd.dtdunit" title="translate.storage.dtd.dtdunit"><code class="xref py py-class docutils literal notranslate"><span class="pre">dtdunit</span></code></a></p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.dtd.dtdfile.add_unit_to_index">
<code class="descname">add_unit_to_index</code><span class="sig-paren">(</span><em>unit</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.dtd.dtdfile.add_unit_to_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a unit to source and location idexes</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.dtd.dtdfile.addsourceunit">
<code class="descname">addsourceunit</code><span class="sig-paren">(</span><em>source</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.dtd.dtdfile.addsourceunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Add and returns a new unit with the given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><code class="xref py py-class docutils literal notranslate"><span class="pre">TranslationUnit</span></code></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.dtd.dtdfile.addunit">
<code class="descname">addunit</code><span class="sig-paren">(</span><em>unit</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.dtd.dtdfile.addunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Append the given unit to the object’s list of units.</p>
<p>This method should always be used rather than trying to modify the
list manually.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>unit</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">TranslationUnit</span></code>) – The unit that will be added.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.dtd.dtdfile.detect_encoding">
<code class="descname">detect_encoding</code><span class="sig-paren">(</span><em>text</em>, <em>default_encodings=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.dtd.dtdfile.detect_encoding" title="Permalink to this definition">¶</a></dt>
<dd><p>Try to detect a file encoding from <cite>text</cite>, using either the chardet lib
or by trying to decode the file.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.dtd.dtdfile.fallback_detection">
<code class="descname">fallback_detection</code><span class="sig-paren">(</span><em>text</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.dtd.dtdfile.fallback_detection" title="Permalink to this definition">¶</a></dt>
<dd><p>Simple detection based on BOM in case chardet is not available.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.dtd.dtdfile.findid">
<code class="descname">findid</code><span class="sig-paren">(</span><em>id</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.dtd.dtdfile.findid" title="Permalink to this definition">¶</a></dt>
<dd><p>find unit with matching id by checking id_index</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.dtd.dtdfile.findunit">
<code class="descname">findunit</code><span class="sig-paren">(</span><em>source</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.dtd.dtdfile.findunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the unit with the given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><code class="xref py py-class docutils literal notranslate"><span class="pre">TranslationUnit</span></code> or None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.dtd.dtdfile.findunits">
<code class="descname">findunits</code><span class="sig-paren">(</span><em>source</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.dtd.dtdfile.findunits" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the units with the given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><code class="xref py py-class docutils literal notranslate"><span class="pre">TranslationUnit</span></code> or None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.dtd.dtdfile.getids">
<code class="descname">getids</code><span class="sig-paren">(</span><em>filename=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.dtd.dtdfile.getids" title="Permalink to this definition">¶</a></dt>
<dd><p>return a list of unit ids</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.dtd.dtdfile.getprojectstyle">
<code class="descname">getprojectstyle</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.dtd.dtdfile.getprojectstyle" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the project type for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.dtd.dtdfile.getsourcelanguage">
<code class="descname">getsourcelanguage</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.dtd.dtdfile.getsourcelanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the source language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.dtd.dtdfile.gettargetlanguage">
<code class="descname">gettargetlanguage</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.dtd.dtdfile.gettargetlanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the target language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.dtd.dtdfile.getunits">
<code class="descname">getunits</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.dtd.dtdfile.getunits" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of all units in this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.dtd.dtdfile.isempty">
<code class="descname">isempty</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.dtd.dtdfile.isempty" title="Permalink to this definition">¶</a></dt>
<dd><p>Return True if the object doesn’t contain any translation units.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.dtd.dtdfile.makeindex">
<code class="descname">makeindex</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.dtd.dtdfile.makeindex" title="Permalink to this definition">¶</a></dt>
<dd><p>makes self.id_index dictionary keyed on entities</p>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.dtd.dtdfile.merge_on">
<code class="descname">merge_on</code><a class="headerlink" href="#translate.storage.dtd.dtdfile.merge_on" title="Permalink to this definition">¶</a></dt>
<dd><p>The matching criterion to use when merging on.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The default matching criterion for all the subclasses.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">string</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.dtd.dtdfile.parse">
<code class="descname">parse</code><span class="sig-paren">(</span><em>dtdsrc</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.dtd.dtdfile.parse" title="Permalink to this definition">¶</a></dt>
<dd><p>read the source code of a dtd file in and include them as dtdunits in self.units</p>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.dtd.dtdfile.parsefile">
<em class="property">classmethod </em><code class="descname">parsefile</code><span class="sig-paren">(</span><em>storefile</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.dtd.dtdfile.parsefile" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads the given file (or opens the given filename) and parses back
to an object.</p>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.dtd.dtdfile.parsestring">
<em class="property">classmethod </em><code class="descname">parsestring</code><span class="sig-paren">(</span><em>storestring</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.dtd.dtdfile.parsestring" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert the string representation back to an object.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.dtd.dtdfile.remove_unit_from_index">
<code class="descname">remove_unit_from_index</code><span class="sig-paren">(</span><em>unit</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.dtd.dtdfile.remove_unit_from_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove a unit from source and locaton indexes</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.dtd.dtdfile.require_index">
<code class="descname">require_index</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.dtd.dtdfile.require_index" title="Permalink to this definition">¶</a></dt>
<dd><p>make sure source index exists</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.dtd.dtdfile.save">
<code class="descname">save</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.dtd.dtdfile.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Save to the file that data was originally read from, if available.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.dtd.dtdfile.savefile">
<code class="descname">savefile</code><span class="sig-paren">(</span><em>storefile</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.dtd.dtdfile.savefile" title="Permalink to this definition">¶</a></dt>
<dd><p>Write the string representation to the given file (or filename).</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.dtd.dtdfile.serialize">
<code class="descname">serialize</code><span class="sig-paren">(</span><em>out</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.dtd.dtdfile.serialize" title="Permalink to this definition">¶</a></dt>
<dd><p>Write content to file</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.dtd.dtdfile.setprojectstyle">
<code class="descname">setprojectstyle</code><span class="sig-paren">(</span><em>project_style</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.dtd.dtdfile.setprojectstyle" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the project type for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.dtd.dtdfile.setsourcelanguage">
<code class="descname">setsourcelanguage</code><span class="sig-paren">(</span><em>sourcelanguage</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.dtd.dtdfile.setsourcelanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the source language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.dtd.dtdfile.settargetlanguage">
<code class="descname">settargetlanguage</code><span class="sig-paren">(</span><em>targetlanguage</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.dtd.dtdfile.settargetlanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the target language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.dtd.dtdfile.translate">
<code class="descname">translate</code><span class="sig-paren">(</span><em>source</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.dtd.dtdfile.translate" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the translated string for a given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">String or <a class="reference external" href="https://docs.python.org/2.7/library/constants.html#None" title="(in Python v2.7)">None</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.dtd.dtdfile.unit_iter">
<code class="descname">unit_iter</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.dtd.dtdfile.unit_iter" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterator over all the units in this store.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="translate.storage.dtd.dtdunit">
<em class="property">class </em><code class="descclassname">translate.storage.dtd.</code><code class="descname">dtdunit</code><span class="sig-paren">(</span><em>source=''</em>, <em>android=False</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.dtd.dtdunit" title="Permalink to this definition">¶</a></dt>
<dd><p>An entity definition from a DTD file (and any associated comments).</p>
<dl class="method">
<dt id="translate.storage.dtd.dtdunit.adderror">
<code class="descname">adderror</code><span class="sig-paren">(</span><em>errorname</em>, <em>errortext</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.dtd.dtdunit.adderror" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds an error message to this unit.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>errorname</strong> (<em>string</em>) – A single word to id the error.</li>
<li><strong>errortext</strong> (<em>string</em>) – The text describing the error.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.dtd.dtdunit.addlocation">
<code class="descname">addlocation</code><span class="sig-paren">(</span><em>location</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.dtd.dtdunit.addlocation" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the entity to the given “location”.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.dtd.dtdunit.addlocations">
<code class="descname">addlocations</code><span class="sig-paren">(</span><em>location</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.dtd.dtdunit.addlocations" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a location or a list of locations.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Most classes shouldn’t need to implement this, but should rather
implement <code class="xref py py-meth docutils literal notranslate"><span class="pre">TranslationUnit.addlocation()</span></code>.</p>
</div>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">This method might be removed in future.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.dtd.dtdunit.addnote">
<code class="descname">addnote</code><span class="sig-paren">(</span><em>text</em>, <em>origin=None</em>, <em>position='append'</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.dtd.dtdunit.addnote" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds a note (comment).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>text</strong> (<em>string</em>) – Usually just a sentence or two.</li>
<li><strong>origin</strong> (<em>string</em>) – Specifies who/where the comment comes from.
Origin can be one of the following text strings:
- ‘translator’
- ‘developer’, ‘programmer’, ‘source code’ (synonyms)</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.dtd.dtdunit.buildfromunit">
<em class="property">classmethod </em><code class="descname">buildfromunit</code><span class="sig-paren">(</span><em>unit</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.dtd.dtdunit.buildfromunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Build a native unit from a foreign unit, preserving as much
information as possible.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.dtd.dtdunit.getcontext">
<code class="descname">getcontext</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.dtd.dtdunit.getcontext" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the message context.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.dtd.dtdunit.geterrors">
<code class="descname">geterrors</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.dtd.dtdunit.geterrors" title="Permalink to this definition">¶</a></dt>
<dd><p>Get all error messages.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">Dictionary</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.dtd.dtdunit.getid">
<code class="descname">getid</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.dtd.dtdunit.getid" title="Permalink to this definition">¶</a></dt>
<dd><p>A unique identifier for this unit.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">string</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">an identifier for this unit that is unique in the store</td>
</tr>
</tbody>
</table>
<p>Derived classes should override this in a way that guarantees a unique
identifier for each unit in the store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.dtd.dtdunit.getlocations">
<code class="descname">getlocations</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.dtd.dtdunit.getlocations" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the entity as location (identifier).</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.dtd.dtdunit.getnotes">
<code class="descname">getnotes</code><span class="sig-paren">(</span><em>origin=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.dtd.dtdunit.getnotes" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns all notes about this unit.</p>
<p>It will probably be freeform text or something reasonable that can be
synthesised by the format.
It should not include location comments (see
<a class="reference internal" href="#translate.storage.base.TranslationUnit.getlocations" title="translate.storage.base.TranslationUnit.getlocations"><code class="xref py py-meth docutils literal notranslate"><span class="pre">getlocations()</span></code></a>).</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.dtd.dtdunit.getoutput">
<code class="descname">getoutput</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.dtd.dtdunit.getoutput" title="Permalink to this definition">¶</a></dt>
<dd><p>convert the dtd entity back to string form</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.dtd.dtdunit.gettargetlen">
<code class="descname">gettargetlen</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.dtd.dtdunit.gettargetlen" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the length of the target string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">Integer</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Plural forms might be combined.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.dtd.dtdunit.getunits">
<code class="descname">getunits</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.dtd.dtdunit.getunits" title="Permalink to this definition">¶</a></dt>
<dd><p>This unit in a list.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.dtd.dtdunit.hasplural">
<code class="descname">hasplural</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.dtd.dtdunit.hasplural" title="Permalink to this definition">¶</a></dt>
<dd><p>Tells whether or not this specific unit has plural strings.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.dtd.dtdunit.infer_state">
<code class="descname">infer_state</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.dtd.dtdunit.infer_state" title="Permalink to this definition">¶</a></dt>
<dd><p>Empty method that should be overridden in sub-classes to infer the
current state(_n) of the unit from its current state.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.dtd.dtdunit.isblank">
<code class="descname">isblank</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.dtd.dtdunit.isblank" title="Permalink to this definition">¶</a></dt>
<dd><p>Used to see if this unit has no source or target string.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This is probably used more to find translatable units,
and we might want to move in that direction rather and
get rid of this.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.dtd.dtdunit.isfuzzy">
<code class="descname">isfuzzy</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.dtd.dtdunit.isfuzzy" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit is fuzzy.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.dtd.dtdunit.isheader">
<code class="descname">isheader</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.dtd.dtdunit.isheader" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit is a header.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.dtd.dtdunit.isnull">
<code class="descname">isnull</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.dtd.dtdunit.isnull" title="Permalink to this definition">¶</a></dt>
<dd><p>returns whether this dtdunit doesn’t actually have an entity definition</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.dtd.dtdunit.isobsolete">
<code class="descname">isobsolete</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.dtd.dtdunit.isobsolete" title="Permalink to this definition">¶</a></dt>
<dd><p>indicate whether a unit is obsolete</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.dtd.dtdunit.isreview">
<code class="descname">isreview</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.dtd.dtdunit.isreview" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit needs review.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.dtd.dtdunit.istranslatable">
<code class="descname">istranslatable</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.dtd.dtdunit.istranslatable" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit can be translated.</p>
<p>This should be used to distinguish real units for translation from
header, obsolete, binary or other blank units.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.dtd.dtdunit.istranslated">
<code class="descname">istranslated</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.dtd.dtdunit.istranslated" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit is translated.</p>
<p>This should be used rather than deducing it from .target,
to ensure that other classes can implement more functionality
(as XLIFF does).</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.dtd.dtdunit.makeobsolete">
<code class="descname">makeobsolete</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.dtd.dtdunit.makeobsolete" title="Permalink to this definition">¶</a></dt>
<dd><p>Make a unit obsolete</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.dtd.dtdunit.markfuzzy">
<code class="descname">markfuzzy</code><span class="sig-paren">(</span><em>value=True</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.dtd.dtdunit.markfuzzy" title="Permalink to this definition">¶</a></dt>
<dd><p>Marks the unit as fuzzy or not.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.dtd.dtdunit.markreviewneeded">
<code class="descname">markreviewneeded</code><span class="sig-paren">(</span><em>needsreview=True</em>, <em>explanation=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.dtd.dtdunit.markreviewneeded" title="Permalink to this definition">¶</a></dt>
<dd><p>Marks the unit to indicate whether it needs review.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>needsreview</strong> – Defaults to True.</li>
<li><strong>explanation</strong> – Adds an optional explanation as a note.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.dtd.dtdunit.merge">
<code class="descname">merge</code><span class="sig-paren">(</span><em>otherunit</em>, <em>overwrite=False</em>, <em>comments=True</em>, <em>authoritative=False</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.dtd.dtdunit.merge" title="Permalink to this definition">¶</a></dt>
<dd><p>Do basic format agnostic merging.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.dtd.dtdunit.multistring_to_rich">
<code class="descname">multistring_to_rich</code><span class="sig-paren">(</span><em>mulstring</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.dtd.dtdunit.multistring_to_rich" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a multistring to a list of “rich” string trees:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">target</span> <span class="o">=</span> <span class="n">multistring</span><span class="p">([</span><span class="sa">u</span><span class="s1">&#39;foo&#39;</span><span class="p">,</span> <span class="sa">u</span><span class="s1">&#39;bar&#39;</span><span class="p">,</span> <span class="sa">u</span><span class="s1">&#39;baz&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">TranslationUnit</span><span class="o">.</span><span class="n">multistring_to_rich</span><span class="p">(</span><span class="n">target</span><span class="p">)</span>
<span class="go">[&lt;StringElem([&lt;StringElem([u&#39;foo&#39;])&gt;])&gt;,</span>
<span class="go"> &lt;StringElem([&lt;StringElem([u&#39;bar&#39;])&gt;])&gt;,</span>
<span class="go"> &lt;StringElem([&lt;StringElem([u&#39;baz&#39;])&gt;])&gt;]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.dtd.dtdunit.parse">
<code class="descname">parse</code><span class="sig-paren">(</span><em>dtdsrc</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.dtd.dtdunit.parse" title="Permalink to this definition">¶</a></dt>
<dd><p>read the first dtd element from the source code into this object, return linesprocessed</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.dtd.dtdunit.removenotes">
<code class="descname">removenotes</code><span class="sig-paren">(</span><em>origin=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.dtd.dtdunit.removenotes" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove all the translator’s notes.</p>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.dtd.dtdunit.rich_source">
<code class="descname">rich_source</code><a class="headerlink" href="#translate.storage.dtd.dtdunit.rich_source" title="Permalink to this definition">¶</a></dt>
<dd><div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="#translate.storage.dtd.dtdunit.rich_to_multistring" title="translate.storage.dtd.dtdunit.rich_to_multistring"><code class="xref py py-meth docutils literal notranslate"><span class="pre">rich_to_multistring()</span></code></a>, <a class="reference internal" href="#translate.storage.dtd.dtdunit.multistring_to_rich" title="translate.storage.dtd.dtdunit.multistring_to_rich"><code class="xref py py-meth docutils literal notranslate"><span class="pre">multistring_to_rich()</span></code></a></p>
</div>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.dtd.dtdunit.rich_target">
<code class="descname">rich_target</code><a class="headerlink" href="#translate.storage.dtd.dtdunit.rich_target" title="Permalink to this definition">¶</a></dt>
<dd><div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="#translate.storage.dtd.dtdunit.rich_to_multistring" title="translate.storage.dtd.dtdunit.rich_to_multistring"><code class="xref py py-meth docutils literal notranslate"><span class="pre">rich_to_multistring()</span></code></a>, <a class="reference internal" href="#translate.storage.dtd.dtdunit.multistring_to_rich" title="translate.storage.dtd.dtdunit.multistring_to_rich"><code class="xref py py-meth docutils literal notranslate"><span class="pre">multistring_to_rich()</span></code></a></p>
</div>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.dtd.dtdunit.rich_to_multistring">
<em class="property">classmethod </em><code class="descname">rich_to_multistring</code><span class="sig-paren">(</span><em>elem_list</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.dtd.dtdunit.rich_to_multistring" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a “rich” string tree to a <code class="docutils literal notranslate"><span class="pre">multistring</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">translate.storage.placeables.interfaces</span> <span class="kn">import</span> <span class="n">X</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rich</span> <span class="o">=</span> <span class="p">[</span><span class="n">StringElem</span><span class="p">([</span><span class="s1">&#39;foo&#39;</span><span class="p">,</span> <span class="n">X</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="s1">&#39;xxx&#39;</span><span class="p">,</span> <span class="n">sub</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39; &#39;</span><span class="p">]),</span> <span class="s1">&#39;bar&#39;</span><span class="p">])]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">TranslationUnit</span><span class="o">.</span><span class="n">rich_to_multistring</span><span class="p">(</span><span class="n">rich</span><span class="p">)</span>
<span class="go">multistring(u&#39;foo bar&#39;)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.dtd.dtdunit.setcontext">
<code class="descname">setcontext</code><span class="sig-paren">(</span><em>context</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.dtd.dtdunit.setcontext" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the message context</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.dtd.dtdunit.setid">
<code class="descname">setid</code><span class="sig-paren">(</span><em>new_id</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.dtd.dtdunit.setid" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the unique identified for this unit.</p>
<p>only implemented if format allows ids independant from other unit
properties like source or context</p>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.dtd.dtdunit.source">
<code class="descname">source</code><a class="headerlink" href="#translate.storage.dtd.dtdunit.source" title="Permalink to this definition">¶</a></dt>
<dd><p>gets the unquoted source string</p>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.dtd.dtdunit.target">
<code class="descname">target</code><a class="headerlink" href="#translate.storage.dtd.dtdunit.target" title="Permalink to this definition">¶</a></dt>
<dd><p>gets the unquoted target string</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.dtd.dtdunit.unit_iter">
<code class="descname">unit_iter</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.dtd.dtdunit.unit_iter" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterator that only returns this unit.</p>
</dd></dl>

</dd></dl>

<dl class="data">
<dt id="translate.storage.dtd.labelsuffixes">
<code class="descclassname">translate.storage.dtd.</code><code class="descname">labelsuffixes</code><em class="property"> = ('.label', '.title')</em><a class="headerlink" href="#translate.storage.dtd.labelsuffixes" title="Permalink to this definition">¶</a></dt>
<dd><p>Label suffixes: entries with this suffix are able to be comibed with accesskeys
found in in entries ending with <code class="xref py py-attr docutils literal notranslate"><span class="pre">accesskeysuffixes</span></code></p>
</dd></dl>

<dl class="function">
<dt id="translate.storage.dtd.quoteforandroid">
<code class="descclassname">translate.storage.dtd.</code><code class="descname">quoteforandroid</code><span class="sig-paren">(</span><em>source</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.dtd.quoteforandroid" title="Permalink to this definition">¶</a></dt>
<dd><p>Escapes a line for Android DTD files.</p>
</dd></dl>

<dl class="function">
<dt id="translate.storage.dtd.quotefordtd">
<code class="descclassname">translate.storage.dtd.</code><code class="descname">quotefordtd</code><span class="sig-paren">(</span><em>source</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.dtd.quotefordtd" title="Permalink to this definition">¶</a></dt>
<dd><p>Quotes and escapes a line for regular DTD files.</p>
</dd></dl>

<dl class="function">
<dt id="translate.storage.dtd.removeinvalidamps">
<code class="descclassname">translate.storage.dtd.</code><code class="descname">removeinvalidamps</code><span class="sig-paren">(</span><em>name</em>, <em>value</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.dtd.removeinvalidamps" title="Permalink to this definition">¶</a></dt>
<dd><p>Find and remove ampersands that are not part of an entity definition.</p>
<p>A stray &amp; in a DTD file can break an application’s ability to parse the
file. In Mozilla localisation this is very important and these can break the
parsing of files used in XUL and thus break interface rendering. Tracking
down the problem is very difficult, thus by removing potential broken
ampersand and warning the users we can ensure that the output DTD will
always be parsable.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>name</strong> (<em>String</em>) – Entity name</li>
<li><strong>value</strong> (<em>String</em>) – Entity text value</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first">String</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">Entity value without bad ampersands</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="translate.storage.dtd.unquotefromandroid">
<code class="descclassname">translate.storage.dtd.</code><code class="descname">unquotefromandroid</code><span class="sig-paren">(</span><em>source</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.dtd.unquotefromandroid" title="Permalink to this definition">¶</a></dt>
<dd><p>Unquotes a quoted Android DTD definition.</p>
</dd></dl>

<dl class="function">
<dt id="translate.storage.dtd.unquotefromdtd">
<code class="descclassname">translate.storage.dtd.</code><code class="descname">unquotefromdtd</code><span class="sig-paren">(</span><em>source</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.dtd.unquotefromdtd" title="Permalink to this definition">¶</a></dt>
<dd><p>unquotes a quoted dtd definition</p>
</dd></dl>

</div>
<div class="section" id="module-translate.storage._factory_classes">
<span id="factory-classes"></span><h2>_factory_classes<a class="headerlink" href="#module-translate.storage._factory_classes" title="Permalink to this headline">¶</a></h2>
<p>Py2exe can’t find stuff that we import dynamically, so we have this file
just for the sake of the Windows installer to easily pick up all the stuff that
we need and ensure they make it into the installer.</p>
</div>
<div class="section" id="module-translate.storage.factory">
<span id="factory"></span><h2>factory<a class="headerlink" href="#module-translate.storage.factory" title="Permalink to this headline">¶</a></h2>
<p>factory methods to build real storage objects that conform to base.py</p>
<dl class="function">
<dt id="translate.storage.factory.getclass">
<code class="descclassname">translate.storage.factory.</code><code class="descname">getclass</code><span class="sig-paren">(</span><em>storefile</em>, <em>localfiletype=None</em>, <em>ignore=None</em>, <em>classes=None</em>, <em>classes_str=None</em>, <em>hiddenclasses=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.factory.getclass" title="Permalink to this definition">¶</a></dt>
<dd><p>Factory that returns the applicable class for the type of file
presented.  Specify ignore to ignore some part at the back of the name
(like .gz).</p>
</dd></dl>

<dl class="function">
<dt id="translate.storage.factory.getobject">
<code class="descclassname">translate.storage.factory.</code><code class="descname">getobject</code><span class="sig-paren">(</span><em>storefile</em>, <em>localfiletype=None</em>, <em>ignore=None</em>, <em>classes=None</em>, <em>classes_str=None</em>, <em>hiddenclasses=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.factory.getobject" title="Permalink to this definition">¶</a></dt>
<dd><p>Factory that returns a usable object for the type of file presented.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>storefile</strong> (<em>file</em><em> or </em><a class="reference external" href="https://docs.python.org/2.7/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) – File object or file name.</td>
</tr>
</tbody>
</table>
<p>Specify ignore to ignore some part at the back of the name (like .gz).</p>
</dd></dl>

<dl class="function">
<dt id="translate.storage.factory.supported_files">
<code class="descclassname">translate.storage.factory.</code><code class="descname">supported_files</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.factory.supported_files" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns data about all supported files</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">list of type that include (name, extensions, mimetypes)</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">list</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="module-translate.storage.fpo">
<span id="fpo"></span><h2>fpo<a class="headerlink" href="#module-translate.storage.fpo" title="Permalink to this headline">¶</a></h2>
<p>Classes for the support of Gettext .po and .pot files.</p>
<p>This implementation assumes that cpo is working. This should not be used
directly, but can be used once cpo has been established to work.</p>
<dl class="data">
<dt id="translate.storage.fpo.lsep">
<code class="descclassname">translate.storage.fpo.</code><code class="descname">lsep</code><em class="property"> = ' '</em><a class="headerlink" href="#translate.storage.fpo.lsep" title="Permalink to this definition">¶</a></dt>
<dd><p>Separator for #: entries</p>
</dd></dl>

<dl class="class">
<dt id="translate.storage.fpo.pofile">
<em class="property">class </em><code class="descclassname">translate.storage.fpo.</code><code class="descname">pofile</code><span class="sig-paren">(</span><em>inputfile=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.fpo.pofile" title="Permalink to this definition">¶</a></dt>
<dd><p>A .po file containing various units</p>
<dl class="attribute">
<dt id="translate.storage.fpo.pofile.UnitClass">
<code class="descname">UnitClass</code><a class="headerlink" href="#translate.storage.fpo.pofile.UnitClass" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <a class="reference internal" href="#translate.storage.fpo.pounit" title="translate.storage.fpo.pounit"><code class="xref py py-class docutils literal notranslate"><span class="pre">pounit</span></code></a></p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.fpo.pofile.add_unit_to_index">
<code class="descname">add_unit_to_index</code><span class="sig-paren">(</span><em>unit</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.fpo.pofile.add_unit_to_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a unit to source and location idexes</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.fpo.pofile.addsourceunit">
<code class="descname">addsourceunit</code><span class="sig-paren">(</span><em>source</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.fpo.pofile.addsourceunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Add and returns a new unit with the given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><code class="xref py py-class docutils literal notranslate"><span class="pre">TranslationUnit</span></code></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.fpo.pofile.addunit">
<code class="descname">addunit</code><span class="sig-paren">(</span><em>unit</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.fpo.pofile.addunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Append the given unit to the object’s list of units.</p>
<p>This method should always be used rather than trying to modify the
list manually.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>unit</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">TranslationUnit</span></code>) – The unit that will be added.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.fpo.pofile.detect_encoding">
<code class="descname">detect_encoding</code><span class="sig-paren">(</span><em>text</em>, <em>default_encodings=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.fpo.pofile.detect_encoding" title="Permalink to this definition">¶</a></dt>
<dd><p>Try to detect a file encoding from <cite>text</cite>, using either the chardet lib
or by trying to decode the file.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.fpo.pofile.fallback_detection">
<code class="descname">fallback_detection</code><span class="sig-paren">(</span><em>text</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.fpo.pofile.fallback_detection" title="Permalink to this definition">¶</a></dt>
<dd><p>Simple detection based on BOM in case chardet is not available.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.fpo.pofile.findid">
<code class="descname">findid</code><span class="sig-paren">(</span><em>id</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.fpo.pofile.findid" title="Permalink to this definition">¶</a></dt>
<dd><p>find unit with matching id by checking id_index</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.fpo.pofile.findunit">
<code class="descname">findunit</code><span class="sig-paren">(</span><em>source</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.fpo.pofile.findunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the unit with the given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><code class="xref py py-class docutils literal notranslate"><span class="pre">TranslationUnit</span></code> or None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.fpo.pofile.findunits">
<code class="descname">findunits</code><span class="sig-paren">(</span><em>source</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.fpo.pofile.findunits" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the units with the given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><code class="xref py py-class docutils literal notranslate"><span class="pre">TranslationUnit</span></code> or None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.fpo.pofile.getheaderplural">
<code class="descname">getheaderplural</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.fpo.pofile.getheaderplural" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the nplural and plural values from the header.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.fpo.pofile.getids">
<code class="descname">getids</code><span class="sig-paren">(</span><em>filename=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.fpo.pofile.getids" title="Permalink to this definition">¶</a></dt>
<dd><p>return a list of unit ids</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.fpo.pofile.getprojectstyle">
<code class="descname">getprojectstyle</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.fpo.pofile.getprojectstyle" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the project based on information in the header.</p>
<dl class="docutils">
<dt>The project is determined in the following sequence:</dt>
<dd><ol class="first last arabic simple">
<li>Use the ‘X-Project-Style’ entry in the header.</li>
<li>Use ‘Report-Msgid-Bug-To’ entry</li>
<li>Use the ‘X-Accelerator’ entry</li>
<li>Use the Project ID</li>
<li>Analyse the file itself (not yet implemented)</li>
</ol>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="translate.storage.fpo.pofile.getsourcelanguage">
<code class="descname">getsourcelanguage</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.fpo.pofile.getsourcelanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the source language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.fpo.pofile.gettargetlanguage">
<code class="descname">gettargetlanguage</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.fpo.pofile.gettargetlanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the target language based on information in the header.</p>
<dl class="docutils">
<dt>The target language is determined in the following sequence:</dt>
<dd><ol class="first last arabic simple">
<li>Use the ‘Language’ entry in the header.</li>
<li>Poedit’s custom headers.</li>
<li>Analysing the ‘Language-Team’ entry.</li>
</ol>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="translate.storage.fpo.pofile.getunits">
<code class="descname">getunits</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.fpo.pofile.getunits" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of all units in this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.fpo.pofile.header">
<code class="descname">header</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.fpo.pofile.header" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the header element, or None. Only the first element is
allowed to be a header. Note that this could still return an empty
header element, if present.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.fpo.pofile.init_headers">
<code class="descname">init_headers</code><span class="sig-paren">(</span><em>charset='UTF-8'</em>, <em>encoding='8bit'</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.fpo.pofile.init_headers" title="Permalink to this definition">¶</a></dt>
<dd><p>sets default values for po headers</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.fpo.pofile.isempty">
<code class="descname">isempty</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.fpo.pofile.isempty" title="Permalink to this definition">¶</a></dt>
<dd><p>Return True if the object doesn’t contain any translation units.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.fpo.pofile.makeheader">
<code class="descname">makeheader</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.fpo.pofile.makeheader" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a header for the given filename.</p>
<p>Check .makeheaderdict() for information on parameters.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.fpo.pofile.makeheaderdict">
<code class="descname">makeheaderdict</code><span class="sig-paren">(</span><em>charset='CHARSET'</em>, <em>encoding='ENCODING'</em>, <em>project_id_version=None</em>, <em>pot_creation_date=None</em>, <em>po_revision_date=None</em>, <em>last_translator=None</em>, <em>language_team=None</em>, <em>mime_version=None</em>, <em>plural_forms=None</em>, <em>report_msgid_bugs_to=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.fpo.pofile.makeheaderdict" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a header dictionary with useful defaults.</p>
<p>pot_creation_date can be None (current date) or a value (datetime or string)
po_revision_date can be None (form), False (=pot_creation_date), True (=now),
or a value (datetime or string)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">Dictionary with the header items</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">dict of strings</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.fpo.pofile.makeindex">
<code class="descname">makeindex</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.fpo.pofile.makeindex" title="Permalink to this definition">¶</a></dt>
<dd><p>Indexes the items in this store. At least .sourceindex should be
useful.</p>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.fpo.pofile.merge_on">
<code class="descname">merge_on</code><a class="headerlink" href="#translate.storage.fpo.pofile.merge_on" title="Permalink to this definition">¶</a></dt>
<dd><p>The matching criterion to use when merging on.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.fpo.pofile.mergeheaders">
<code class="descname">mergeheaders</code><span class="sig-paren">(</span><em>otherstore</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.fpo.pofile.mergeheaders" title="Permalink to this definition">¶</a></dt>
<dd><p>Merges another header with this header.</p>
<p>This header is assumed to be the template.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.fpo.pofile.parse">
<code class="descname">parse</code><span class="sig-paren">(</span><em>input</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.fpo.pofile.parse" title="Permalink to this definition">¶</a></dt>
<dd><p>Parses the given file or file source string.</p>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.fpo.pofile.parsefile">
<em class="property">classmethod </em><code class="descname">parsefile</code><span class="sig-paren">(</span><em>storefile</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.fpo.pofile.parsefile" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads the given file (or opens the given filename) and parses back
to an object.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.fpo.pofile.parseheader">
<code class="descname">parseheader</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.fpo.pofile.parseheader" title="Permalink to this definition">¶</a></dt>
<dd><p>Parses the PO header and returns the interpreted values as a
dictionary.</p>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.fpo.pofile.parsestring">
<em class="property">classmethod </em><code class="descname">parsestring</code><span class="sig-paren">(</span><em>storestring</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.fpo.pofile.parsestring" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert the string representation back to an object.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.fpo.pofile.remove_unit_from_index">
<code class="descname">remove_unit_from_index</code><span class="sig-paren">(</span><em>unit</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.fpo.pofile.remove_unit_from_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove a unit from source and locaton indexes</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.fpo.pofile.removeduplicates">
<code class="descname">removeduplicates</code><span class="sig-paren">(</span><em>duplicatestyle='merge'</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.fpo.pofile.removeduplicates" title="Permalink to this definition">¶</a></dt>
<dd><p>Make sure each msgid is unique ; merge comments etc from duplicates into original</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.fpo.pofile.require_index">
<code class="descname">require_index</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.fpo.pofile.require_index" title="Permalink to this definition">¶</a></dt>
<dd><p>make sure source index exists</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.fpo.pofile.save">
<code class="descname">save</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.fpo.pofile.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Save to the file that data was originally read from, if available.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.fpo.pofile.savefile">
<code class="descname">savefile</code><span class="sig-paren">(</span><em>storefile</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.fpo.pofile.savefile" title="Permalink to this definition">¶</a></dt>
<dd><p>Write the string representation to the given file (or filename).</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.fpo.pofile.serialize">
<code class="descname">serialize</code><span class="sig-paren">(</span><em>out</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.fpo.pofile.serialize" title="Permalink to this definition">¶</a></dt>
<dd><p>Write content to file</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.fpo.pofile.setprojectstyle">
<code class="descname">setprojectstyle</code><span class="sig-paren">(</span><em>project_style</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.fpo.pofile.setprojectstyle" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the project in the header.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>project_style</strong> (<a class="reference external" href="https://docs.python.org/2.7/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) – the new project</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.fpo.pofile.setsourcelanguage">
<code class="descname">setsourcelanguage</code><span class="sig-paren">(</span><em>sourcelanguage</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.fpo.pofile.setsourcelanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the source language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.fpo.pofile.settargetlanguage">
<code class="descname">settargetlanguage</code><span class="sig-paren">(</span><em>lang</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.fpo.pofile.settargetlanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the target language in the header.</p>
<p>This removes any custom Poedit headers if they exist.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>lang</strong> (<a class="reference external" href="https://docs.python.org/2.7/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) – the new target language code</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.fpo.pofile.translate">
<code class="descname">translate</code><span class="sig-paren">(</span><em>source</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.fpo.pofile.translate" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the translated string for a given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">String or <a class="reference external" href="https://docs.python.org/2.7/library/constants.html#None" title="(in Python v2.7)">None</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.fpo.pofile.unit_iter">
<code class="descname">unit_iter</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.fpo.pofile.unit_iter" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterator over all the units in this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.fpo.pofile.updatecontributor">
<code class="descname">updatecontributor</code><span class="sig-paren">(</span><em>name</em>, <em>email=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.fpo.pofile.updatecontributor" title="Permalink to this definition">¶</a></dt>
<dd><p>Add contribution comments if necessary.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.fpo.pofile.updateheader">
<code class="descname">updateheader</code><span class="sig-paren">(</span><em>add=False</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.fpo.pofile.updateheader" title="Permalink to this definition">¶</a></dt>
<dd><p>Updates the fields in the PO style header.</p>
<p>This will create a header if add == True.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.fpo.pofile.updateheaderplural">
<code class="descname">updateheaderplural</code><span class="sig-paren">(</span><em>nplurals</em>, <em>plural</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.fpo.pofile.updateheaderplural" title="Permalink to this definition">¶</a></dt>
<dd><p>Update the Plural-Form PO header.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="translate.storage.fpo.pounit">
<em class="property">class </em><code class="descclassname">translate.storage.fpo.</code><code class="descname">pounit</code><span class="sig-paren">(</span><em>source=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.fpo.pounit" title="Permalink to this definition">¶</a></dt>
<dd><dl class="method">
<dt id="translate.storage.fpo.pounit.adderror">
<code class="descname">adderror</code><span class="sig-paren">(</span><em>errorname</em>, <em>errortext</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.fpo.pounit.adderror" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds an error message to this unit.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.fpo.pounit.addlocation">
<code class="descname">addlocation</code><span class="sig-paren">(</span><em>location</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.fpo.pounit.addlocation" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a location to sourcecomments in the PO unit.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>location</strong> (<em>String</em>) – Text location e.g. ‘file.c:23’ does not include #:</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.fpo.pounit.addlocations">
<code class="descname">addlocations</code><span class="sig-paren">(</span><em>location</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.fpo.pounit.addlocations" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a location or a list of locations.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Most classes shouldn’t need to implement this, but should rather
implement <code class="xref py py-meth docutils literal notranslate"><span class="pre">TranslationUnit.addlocation()</span></code>.</p>
</div>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">This method might be removed in future.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.fpo.pounit.addnote">
<code class="descname">addnote</code><span class="sig-paren">(</span><em>text</em>, <em>origin=None</em>, <em>position='append'</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.fpo.pounit.addnote" title="Permalink to this definition">¶</a></dt>
<dd><p>This is modeled on the XLIFF method. See xliff.py::xliffunit.addnote</p>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.fpo.pounit.buildfromunit">
<em class="property">classmethod </em><code class="descname">buildfromunit</code><span class="sig-paren">(</span><em>unit</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.fpo.pounit.buildfromunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Build a native unit from a foreign unit, preserving as much
information as possible.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.fpo.pounit.getcontext">
<code class="descname">getcontext</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.fpo.pounit.getcontext" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the message context.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.fpo.pounit.geterrors">
<code class="descname">geterrors</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.fpo.pounit.geterrors" title="Permalink to this definition">¶</a></dt>
<dd><p>Get all error messages.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.fpo.pounit.getid">
<code class="descname">getid</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.fpo.pounit.getid" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a unique identifier for this unit.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.fpo.pounit.getlocations">
<code class="descname">getlocations</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.fpo.pounit.getlocations" title="Permalink to this definition">¶</a></dt>
<dd><p>Get a list of locations from sourcecomments in the PO unit.</p>
<p>rtype: List
return: A list of the locations with ‘#: ‘ stripped</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.fpo.pounit.getnotes">
<code class="descname">getnotes</code><span class="sig-paren">(</span><em>origin=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.fpo.pounit.getnotes" title="Permalink to this definition">¶</a></dt>
<dd><p>Return comments based on origin value (programmer, developer, source code and translator)</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.fpo.pounit.gettargetlen">
<code class="descname">gettargetlen</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.fpo.pounit.gettargetlen" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the length of the target string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">Integer</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Plural forms might be combined.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.fpo.pounit.getunits">
<code class="descname">getunits</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.fpo.pounit.getunits" title="Permalink to this definition">¶</a></dt>
<dd><p>This unit in a list.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.fpo.pounit.hasmarkedcomment">
<code class="descname">hasmarkedcomment</code><span class="sig-paren">(</span><em>commentmarker</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.fpo.pounit.hasmarkedcomment" title="Permalink to this definition">¶</a></dt>
<dd><p>Check whether the given comment marker is present as # (commentmarker) …</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.fpo.pounit.hasplural">
<code class="descname">hasplural</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.fpo.pounit.hasplural" title="Permalink to this definition">¶</a></dt>
<dd><p>returns whether this pounit contains plural strings…</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.fpo.pounit.hastypecomment">
<code class="descname">hastypecomment</code><span class="sig-paren">(</span><em>typecomment</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.fpo.pounit.hastypecomment" title="Permalink to this definition">¶</a></dt>
<dd><p>Check whether the given type comment is present</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.fpo.pounit.infer_state">
<code class="descname">infer_state</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.fpo.pounit.infer_state" title="Permalink to this definition">¶</a></dt>
<dd><p>Empty method that should be overridden in sub-classes to infer the
current state(_n) of the unit from its current state.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.fpo.pounit.isblank">
<code class="descname">isblank</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.fpo.pounit.isblank" title="Permalink to this definition">¶</a></dt>
<dd><p>Used to see if this unit has no source or target string.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This is probably used more to find translatable units,
and we might want to move in that direction rather and
get rid of this.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.fpo.pounit.isfuzzy">
<code class="descname">isfuzzy</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.fpo.pounit.isfuzzy" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit is fuzzy.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.fpo.pounit.isheader">
<code class="descname">isheader</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.fpo.pounit.isheader" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit is a header.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.fpo.pounit.isobsolete">
<code class="descname">isobsolete</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.fpo.pounit.isobsolete" title="Permalink to this definition">¶</a></dt>
<dd><p>indicate whether a unit is obsolete</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.fpo.pounit.isreview">
<code class="descname">isreview</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.fpo.pounit.isreview" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit needs review.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.fpo.pounit.istranslatable">
<code class="descname">istranslatable</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.fpo.pounit.istranslatable" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit can be translated.</p>
<p>This should be used to distinguish real units for translation from
header, obsolete, binary or other blank units.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.fpo.pounit.istranslated">
<code class="descname">istranslated</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.fpo.pounit.istranslated" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit is translated.</p>
<p>This should be used rather than deducing it from .target,
to ensure that other classes can implement more functionality
(as XLIFF does).</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.fpo.pounit.makeobsolete">
<code class="descname">makeobsolete</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.fpo.pounit.makeobsolete" title="Permalink to this definition">¶</a></dt>
<dd><p>Makes this unit obsolete</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.fpo.pounit.markfuzzy">
<code class="descname">markfuzzy</code><span class="sig-paren">(</span><em>present=True</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.fpo.pounit.markfuzzy" title="Permalink to this definition">¶</a></dt>
<dd><p>Marks the unit as fuzzy or not.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.fpo.pounit.markreviewneeded">
<code class="descname">markreviewneeded</code><span class="sig-paren">(</span><em>needsreview=True</em>, <em>explanation=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.fpo.pounit.markreviewneeded" title="Permalink to this definition">¶</a></dt>
<dd><p>Marks the unit to indicate whether it needs review. Adds an optional explanation as a note.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.fpo.pounit.merge">
<code class="descname">merge</code><span class="sig-paren">(</span><em>otherpo</em>, <em>overwrite=False</em>, <em>comments=True</em>, <em>authoritative=False</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.fpo.pounit.merge" title="Permalink to this definition">¶</a></dt>
<dd><p>Merges the otherpo (with the same msgid) into this one.</p>
<p>Overwrite non-blank self.msgstr only if overwrite is True
merge comments only if comments is True</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.fpo.pounit.multistring_to_rich">
<code class="descname">multistring_to_rich</code><span class="sig-paren">(</span><em>mulstring</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.fpo.pounit.multistring_to_rich" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a multistring to a list of “rich” string trees:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">target</span> <span class="o">=</span> <span class="n">multistring</span><span class="p">([</span><span class="sa">u</span><span class="s1">&#39;foo&#39;</span><span class="p">,</span> <span class="sa">u</span><span class="s1">&#39;bar&#39;</span><span class="p">,</span> <span class="sa">u</span><span class="s1">&#39;baz&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">TranslationUnit</span><span class="o">.</span><span class="n">multistring_to_rich</span><span class="p">(</span><span class="n">target</span><span class="p">)</span>
<span class="go">[&lt;StringElem([&lt;StringElem([u&#39;foo&#39;])&gt;])&gt;,</span>
<span class="go"> &lt;StringElem([&lt;StringElem([u&#39;bar&#39;])&gt;])&gt;,</span>
<span class="go"> &lt;StringElem([&lt;StringElem([u&#39;baz&#39;])&gt;])&gt;]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.fpo.pounit.removenotes">
<code class="descname">removenotes</code><span class="sig-paren">(</span><em>origin=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.fpo.pounit.removenotes" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove all the translator’s notes (other comments)</p>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.fpo.pounit.rich_source">
<code class="descname">rich_source</code><a class="headerlink" href="#translate.storage.fpo.pounit.rich_source" title="Permalink to this definition">¶</a></dt>
<dd><div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="#translate.storage.fpo.pounit.rich_to_multistring" title="translate.storage.fpo.pounit.rich_to_multistring"><code class="xref py py-meth docutils literal notranslate"><span class="pre">rich_to_multistring()</span></code></a>, <a class="reference internal" href="#translate.storage.fpo.pounit.multistring_to_rich" title="translate.storage.fpo.pounit.multistring_to_rich"><code class="xref py py-meth docutils literal notranslate"><span class="pre">multistring_to_rich()</span></code></a></p>
</div>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.fpo.pounit.rich_target">
<code class="descname">rich_target</code><a class="headerlink" href="#translate.storage.fpo.pounit.rich_target" title="Permalink to this definition">¶</a></dt>
<dd><div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="#translate.storage.fpo.pounit.rich_to_multistring" title="translate.storage.fpo.pounit.rich_to_multistring"><code class="xref py py-meth docutils literal notranslate"><span class="pre">rich_to_multistring()</span></code></a>, <a class="reference internal" href="#translate.storage.fpo.pounit.multistring_to_rich" title="translate.storage.fpo.pounit.multistring_to_rich"><code class="xref py py-meth docutils literal notranslate"><span class="pre">multistring_to_rich()</span></code></a></p>
</div>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.fpo.pounit.rich_to_multistring">
<em class="property">classmethod </em><code class="descname">rich_to_multistring</code><span class="sig-paren">(</span><em>elem_list</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.fpo.pounit.rich_to_multistring" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a “rich” string tree to a <code class="docutils literal notranslate"><span class="pre">multistring</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">translate.storage.placeables.interfaces</span> <span class="kn">import</span> <span class="n">X</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rich</span> <span class="o">=</span> <span class="p">[</span><span class="n">StringElem</span><span class="p">([</span><span class="s1">&#39;foo&#39;</span><span class="p">,</span> <span class="n">X</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="s1">&#39;xxx&#39;</span><span class="p">,</span> <span class="n">sub</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39; &#39;</span><span class="p">]),</span> <span class="s1">&#39;bar&#39;</span><span class="p">])]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">TranslationUnit</span><span class="o">.</span><span class="n">rich_to_multistring</span><span class="p">(</span><span class="n">rich</span><span class="p">)</span>
<span class="go">multistring(u&#39;foo bar&#39;)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.fpo.pounit.setcontext">
<code class="descname">setcontext</code><span class="sig-paren">(</span><em>context</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.fpo.pounit.setcontext" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the message context</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.fpo.pounit.setid">
<code class="descname">setid</code><span class="sig-paren">(</span><em>value</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.fpo.pounit.setid" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the unique identified for this unit.</p>
<p>only implemented if format allows ids independant from other unit
properties like source or context</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.fpo.pounit.settypecomment">
<code class="descname">settypecomment</code><span class="sig-paren">(</span><em>typecomment</em>, <em>present=True</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.fpo.pounit.settypecomment" title="Permalink to this definition">¶</a></dt>
<dd><p>Alters whether a given typecomment is present</p>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.fpo.pounit.target">
<code class="descname">target</code><a class="headerlink" href="#translate.storage.fpo.pounit.target" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the unescaped msgstr</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.fpo.pounit.unit_iter">
<code class="descname">unit_iter</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.fpo.pounit.unit_iter" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterator that only returns this unit.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-translate.storage.html">
<span id="html"></span><h2>html<a class="headerlink" href="#module-translate.storage.html" title="Permalink to this headline">¶</a></h2>
<p>module for parsing html files for translation</p>
<dl class="class">
<dt id="translate.storage.html.POHTMLParser">
<em class="property">class </em><code class="descclassname">translate.storage.html.</code><code class="descname">POHTMLParser</code><span class="sig-paren">(</span><em>includeuntaggeddata=None</em>, <em>inputfile=None</em>, <em>callback=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.html.POHTMLParser" title="Permalink to this definition">¶</a></dt>
<dd><dl class="attribute">
<dt id="translate.storage.html.POHTMLParser.UnitClass">
<code class="descname">UnitClass</code><a class="headerlink" href="#translate.storage.html.POHTMLParser.UnitClass" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <a class="reference internal" href="#translate.storage.html.htmlunit" title="translate.storage.html.htmlunit"><code class="xref py py-class docutils literal notranslate"><span class="pre">htmlunit</span></code></a></p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.html.POHTMLParser.add_unit_to_index">
<code class="descname">add_unit_to_index</code><span class="sig-paren">(</span><em>unit</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.html.POHTMLParser.add_unit_to_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a unit to source and location idexes</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.html.POHTMLParser.addsourceunit">
<code class="descname">addsourceunit</code><span class="sig-paren">(</span><em>source</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.html.POHTMLParser.addsourceunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Add and returns a new unit with the given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><code class="xref py py-class docutils literal notranslate"><span class="pre">TranslationUnit</span></code></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.html.POHTMLParser.addunit">
<code class="descname">addunit</code><span class="sig-paren">(</span><em>unit</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.html.POHTMLParser.addunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Append the given unit to the object’s list of units.</p>
<p>This method should always be used rather than trying to modify the
list manually.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>unit</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">TranslationUnit</span></code>) – The unit that will be added.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.html.POHTMLParser.buildtag">
<code class="descname">buildtag</code><span class="sig-paren">(</span><em>tag</em>, <em>attrs=None</em>, <em>startend=False</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.html.POHTMLParser.buildtag" title="Permalink to this definition">¶</a></dt>
<dd><p>Create an HTML tag</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.html.POHTMLParser.close">
<code class="descname">close</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.html.POHTMLParser.close" title="Permalink to this definition">¶</a></dt>
<dd><p>Handle any buffered data.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.html.POHTMLParser.detect_encoding">
<code class="descname">detect_encoding</code><span class="sig-paren">(</span><em>text</em>, <em>default_encodings=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.html.POHTMLParser.detect_encoding" title="Permalink to this definition">¶</a></dt>
<dd><p>Try to detect a file encoding from <cite>text</cite>, using either the chardet lib
or by trying to decode the file.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.html.POHTMLParser.do_encoding">
<code class="descname">do_encoding</code><span class="sig-paren">(</span><em>htmlsrc</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.html.POHTMLParser.do_encoding" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the html text properly encoded based on a charset.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.html.POHTMLParser.fallback_detection">
<code class="descname">fallback_detection</code><span class="sig-paren">(</span><em>text</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.html.POHTMLParser.fallback_detection" title="Permalink to this definition">¶</a></dt>
<dd><p>Simple detection based on BOM in case chardet is not available.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.html.POHTMLParser.feed">
<code class="descname">feed</code><span class="sig-paren">(</span><em>data</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.html.POHTMLParser.feed" title="Permalink to this definition">¶</a></dt>
<dd><p>Feed data to the parser.</p>
<p>Call this as often as you want, with as little or as much text
as you want (may include ‘n’).</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.html.POHTMLParser.findid">
<code class="descname">findid</code><span class="sig-paren">(</span><em>id</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.html.POHTMLParser.findid" title="Permalink to this definition">¶</a></dt>
<dd><p>find unit with matching id by checking id_index</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.html.POHTMLParser.findunit">
<code class="descname">findunit</code><span class="sig-paren">(</span><em>source</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.html.POHTMLParser.findunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the unit with the given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><code class="xref py py-class docutils literal notranslate"><span class="pre">TranslationUnit</span></code> or None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.html.POHTMLParser.findunits">
<code class="descname">findunits</code><span class="sig-paren">(</span><em>source</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.html.POHTMLParser.findunits" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the units with the given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><code class="xref py py-class docutils literal notranslate"><span class="pre">TranslationUnit</span></code> or None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.html.POHTMLParser.get_starttag_text">
<code class="descname">get_starttag_text</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.html.POHTMLParser.get_starttag_text" title="Permalink to this definition">¶</a></dt>
<dd><p>Return full source of start tag: ‘&lt;…&gt;’.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.html.POHTMLParser.getids">
<code class="descname">getids</code><span class="sig-paren">(</span><em>filename=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.html.POHTMLParser.getids" title="Permalink to this definition">¶</a></dt>
<dd><p>return a list of unit ids</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.html.POHTMLParser.getpos">
<code class="descname">getpos</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.html.POHTMLParser.getpos" title="Permalink to this definition">¶</a></dt>
<dd><p>Return current line number and offset.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.html.POHTMLParser.getprojectstyle">
<code class="descname">getprojectstyle</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.html.POHTMLParser.getprojectstyle" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the project type for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.html.POHTMLParser.getsourcelanguage">
<code class="descname">getsourcelanguage</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.html.POHTMLParser.getsourcelanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the source language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.html.POHTMLParser.gettargetlanguage">
<code class="descname">gettargetlanguage</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.html.POHTMLParser.gettargetlanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the target language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.html.POHTMLParser.getunits">
<code class="descname">getunits</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.html.POHTMLParser.getunits" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of all units in this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.html.POHTMLParser.guess_encoding">
<code class="descname">guess_encoding</code><span class="sig-paren">(</span><em>htmlsrc</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.html.POHTMLParser.guess_encoding" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the encoding of the html text.</p>
<p>We look for ‘charset=’ within a meta tag to do this.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.html.POHTMLParser.handle_charref">
<code class="descname">handle_charref</code><span class="sig-paren">(</span><em>name</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.html.POHTMLParser.handle_charref" title="Permalink to this definition">¶</a></dt>
<dd><p>Handle entries in the form &amp;#NNNN; e.g. &amp;#8417;</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.html.POHTMLParser.handle_entityref">
<code class="descname">handle_entityref</code><span class="sig-paren">(</span><em>name</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.html.POHTMLParser.handle_entityref" title="Permalink to this definition">¶</a></dt>
<dd><p>Handle named entities of the form &amp;aaaa; e.g. &amp;rsquo;</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.html.POHTMLParser.has_translatable_content">
<code class="descname">has_translatable_content</code><span class="sig-paren">(</span><em>text</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.html.POHTMLParser.has_translatable_content" title="Permalink to this definition">¶</a></dt>
<dd><p>Check if the supplied HTML snippet has any content that needs to be
translated.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.html.POHTMLParser.isempty">
<code class="descname">isempty</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.html.POHTMLParser.isempty" title="Permalink to this definition">¶</a></dt>
<dd><p>Return True if the object doesn’t contain any translation units.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.html.POHTMLParser.makeindex">
<code class="descname">makeindex</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.html.POHTMLParser.makeindex" title="Permalink to this definition">¶</a></dt>
<dd><p>Indexes the items in this store. At least .sourceindex should be
useful.</p>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.html.POHTMLParser.merge_on">
<code class="descname">merge_on</code><a class="headerlink" href="#translate.storage.html.POHTMLParser.merge_on" title="Permalink to this definition">¶</a></dt>
<dd><p>The matching criterion to use when merging on.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The default matching criterion for all the subclasses.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">string</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.html.POHTMLParser.parse">
<code class="descname">parse</code><span class="sig-paren">(</span><em>htmlsrc</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.html.POHTMLParser.parse" title="Permalink to this definition">¶</a></dt>
<dd><p>parser to process the given source string</p>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.html.POHTMLParser.parsefile">
<em class="property">classmethod </em><code class="descname">parsefile</code><span class="sig-paren">(</span><em>storefile</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.html.POHTMLParser.parsefile" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads the given file (or opens the given filename) and parses back
to an object.</p>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.html.POHTMLParser.parsestring">
<em class="property">classmethod </em><code class="descname">parsestring</code><span class="sig-paren">(</span><em>storestring</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.html.POHTMLParser.parsestring" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert the string representation back to an object.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.html.POHTMLParser.pi_escape">
<code class="descname">pi_escape</code><span class="sig-paren">(</span><em>text</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.html.POHTMLParser.pi_escape" title="Permalink to this definition">¶</a></dt>
<dd><p>Replaces all instances of process instruction with placeholders,
and returns the new text and a dictionary of tags.  The current
implementation replaces &lt;?foo?&gt; with &lt;?md5(foo)?&gt;.  The hash =&gt; code
conversions are stored in self.pidict for later use in restoring the
real PHP.</p>
<p>The purpose of this is to remove all potential “tag-like” code from
inside PHP.  The hash looks nothing like an HTML tag, but the following
PHP:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$a &lt; $b ? $c : ($d &gt; $e ? $f : $g)
</pre></div>
</div>
<p>looks like it contains an HTML tag:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>&lt; $b ? $c : ($d &gt;
</pre></div>
</div>
<p>to nearly any regex.  Hence, we replace all contents of PHP with simple
strings to help our regexes out.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.html.POHTMLParser.pi_unescape">
<code class="descname">pi_unescape</code><span class="sig-paren">(</span><em>text</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.html.POHTMLParser.pi_unescape" title="Permalink to this definition">¶</a></dt>
<dd><p>Replaces the PHP placeholders in text with the real code</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.html.POHTMLParser.remove_unit_from_index">
<code class="descname">remove_unit_from_index</code><span class="sig-paren">(</span><em>unit</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.html.POHTMLParser.remove_unit_from_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove a unit from source and locaton indexes</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.html.POHTMLParser.require_index">
<code class="descname">require_index</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.html.POHTMLParser.require_index" title="Permalink to this definition">¶</a></dt>
<dd><p>make sure source index exists</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.html.POHTMLParser.reset">
<code class="descname">reset</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.html.POHTMLParser.reset" title="Permalink to this definition">¶</a></dt>
<dd><p>Reset this instance.  Loses all unprocessed data.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.html.POHTMLParser.save">
<code class="descname">save</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.html.POHTMLParser.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Save to the file that data was originally read from, if available.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.html.POHTMLParser.savefile">
<code class="descname">savefile</code><span class="sig-paren">(</span><em>storefile</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.html.POHTMLParser.savefile" title="Permalink to this definition">¶</a></dt>
<dd><p>Write the string representation to the given file (or filename).</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.html.POHTMLParser.serialize">
<code class="descname">serialize</code><span class="sig-paren">(</span><em>out</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.html.POHTMLParser.serialize" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts to a bytes representation that can be parsed back using
<a class="reference internal" href="#translate.storage.base.TranslationStore.parsestring" title="translate.storage.base.TranslationStore.parsestring"><code class="xref py py-meth docutils literal notranslate"><span class="pre">parsestring()</span></code></a>.
<cite>out</cite> should be an open file-like objects to write to.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.html.POHTMLParser.setprojectstyle">
<code class="descname">setprojectstyle</code><span class="sig-paren">(</span><em>project_style</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.html.POHTMLParser.setprojectstyle" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the project type for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.html.POHTMLParser.setsourcelanguage">
<code class="descname">setsourcelanguage</code><span class="sig-paren">(</span><em>sourcelanguage</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.html.POHTMLParser.setsourcelanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the source language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.html.POHTMLParser.settargetlanguage">
<code class="descname">settargetlanguage</code><span class="sig-paren">(</span><em>targetlanguage</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.html.POHTMLParser.settargetlanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the target language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.html.POHTMLParser.translate">
<code class="descname">translate</code><span class="sig-paren">(</span><em>source</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.html.POHTMLParser.translate" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the translated string for a given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">String or <a class="reference external" href="https://docs.python.org/2.7/library/constants.html#None" title="(in Python v2.7)">None</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.html.POHTMLParser.unit_iter">
<code class="descname">unit_iter</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.html.POHTMLParser.unit_iter" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterator over all the units in this store.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="translate.storage.html.htmlfile">
<em class="property">class </em><code class="descclassname">translate.storage.html.</code><code class="descname">htmlfile</code><span class="sig-paren">(</span><em>includeuntaggeddata=None</em>, <em>inputfile=None</em>, <em>callback=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.html.htmlfile" title="Permalink to this definition">¶</a></dt>
<dd><dl class="attribute">
<dt id="translate.storage.html.htmlfile.INCLUDEATTRS">
<code class="descname">INCLUDEATTRS</code><em class="property"> = ['alt', 'abbr', 'content', 'standby', 'summary', 'title']</em><a class="headerlink" href="#translate.storage.html.htmlfile.INCLUDEATTRS" title="Permalink to this definition">¶</a></dt>
<dd><p>Text from these attributes are extracted</p>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.html.htmlfile.MARKINGATTRS">
<code class="descname">MARKINGATTRS</code><em class="property"> = []</em><a class="headerlink" href="#translate.storage.html.htmlfile.MARKINGATTRS" title="Permalink to this definition">¶</a></dt>
<dd><p>Text from tags with these attributes will be extracted from the HTML
document</p>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.html.htmlfile.MARKINGTAGS">
<code class="descname">MARKINGTAGS</code><em class="property"> = ['address', 'caption', 'div', 'dt', 'dd', 'figcaption', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'li', 'p', 'pre', 'title', 'th', 'td']</em><a class="headerlink" href="#translate.storage.html.htmlfile.MARKINGTAGS" title="Permalink to this definition">¶</a></dt>
<dd><p>Text in these tags that will be extracted from the HTML document</p>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.html.htmlfile.SELF_CLOSING_TAGS">
<code class="descname">SELF_CLOSING_TAGS</code><em class="property"> = [u'area', u'base', u'basefont', u'br', u'col', u'frame', u'hr', u'img', u'input', u'link', u'meta', u'param']</em><a class="headerlink" href="#translate.storage.html.htmlfile.SELF_CLOSING_TAGS" title="Permalink to this definition">¶</a></dt>
<dd><p>HTML self-closing tags.  Tags that should be specified as &lt;img /&gt; but
might be &lt;img&gt;.
<a class="reference external" href="http://learnwebsitemaking.com/htmlselfclosingtags.html">Reference</a></p>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.html.htmlfile.UnitClass">
<code class="descname">UnitClass</code><a class="headerlink" href="#translate.storage.html.htmlfile.UnitClass" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <a class="reference internal" href="#translate.storage.html.htmlunit" title="translate.storage.html.htmlunit"><code class="xref py py-class docutils literal notranslate"><span class="pre">htmlunit</span></code></a></p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.html.htmlfile.add_unit_to_index">
<code class="descname">add_unit_to_index</code><span class="sig-paren">(</span><em>unit</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.html.htmlfile.add_unit_to_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a unit to source and location idexes</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.html.htmlfile.addsourceunit">
<code class="descname">addsourceunit</code><span class="sig-paren">(</span><em>source</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.html.htmlfile.addsourceunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Add and returns a new unit with the given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><code class="xref py py-class docutils literal notranslate"><span class="pre">TranslationUnit</span></code></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.html.htmlfile.addunit">
<code class="descname">addunit</code><span class="sig-paren">(</span><em>unit</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.html.htmlfile.addunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Append the given unit to the object’s list of units.</p>
<p>This method should always be used rather than trying to modify the
list manually.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>unit</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">TranslationUnit</span></code>) – The unit that will be added.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.html.htmlfile.buildtag">
<code class="descname">buildtag</code><span class="sig-paren">(</span><em>tag</em>, <em>attrs=None</em>, <em>startend=False</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.html.htmlfile.buildtag" title="Permalink to this definition">¶</a></dt>
<dd><p>Create an HTML tag</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.html.htmlfile.close">
<code class="descname">close</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.html.htmlfile.close" title="Permalink to this definition">¶</a></dt>
<dd><p>Handle any buffered data.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.html.htmlfile.detect_encoding">
<code class="descname">detect_encoding</code><span class="sig-paren">(</span><em>text</em>, <em>default_encodings=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.html.htmlfile.detect_encoding" title="Permalink to this definition">¶</a></dt>
<dd><p>Try to detect a file encoding from <cite>text</cite>, using either the chardet lib
or by trying to decode the file.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.html.htmlfile.do_encoding">
<code class="descname">do_encoding</code><span class="sig-paren">(</span><em>htmlsrc</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.html.htmlfile.do_encoding" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the html text properly encoded based on a charset.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.html.htmlfile.fallback_detection">
<code class="descname">fallback_detection</code><span class="sig-paren">(</span><em>text</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.html.htmlfile.fallback_detection" title="Permalink to this definition">¶</a></dt>
<dd><p>Simple detection based on BOM in case chardet is not available.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.html.htmlfile.feed">
<code class="descname">feed</code><span class="sig-paren">(</span><em>data</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.html.htmlfile.feed" title="Permalink to this definition">¶</a></dt>
<dd><p>Feed data to the parser.</p>
<p>Call this as often as you want, with as little or as much text
as you want (may include ‘n’).</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.html.htmlfile.findid">
<code class="descname">findid</code><span class="sig-paren">(</span><em>id</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.html.htmlfile.findid" title="Permalink to this definition">¶</a></dt>
<dd><p>find unit with matching id by checking id_index</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.html.htmlfile.findunit">
<code class="descname">findunit</code><span class="sig-paren">(</span><em>source</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.html.htmlfile.findunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the unit with the given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><code class="xref py py-class docutils literal notranslate"><span class="pre">TranslationUnit</span></code> or None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.html.htmlfile.findunits">
<code class="descname">findunits</code><span class="sig-paren">(</span><em>source</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.html.htmlfile.findunits" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the units with the given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><code class="xref py py-class docutils literal notranslate"><span class="pre">TranslationUnit</span></code> or None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.html.htmlfile.get_starttag_text">
<code class="descname">get_starttag_text</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.html.htmlfile.get_starttag_text" title="Permalink to this definition">¶</a></dt>
<dd><p>Return full source of start tag: ‘&lt;…&gt;’.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.html.htmlfile.getids">
<code class="descname">getids</code><span class="sig-paren">(</span><em>filename=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.html.htmlfile.getids" title="Permalink to this definition">¶</a></dt>
<dd><p>return a list of unit ids</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.html.htmlfile.getpos">
<code class="descname">getpos</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.html.htmlfile.getpos" title="Permalink to this definition">¶</a></dt>
<dd><p>Return current line number and offset.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.html.htmlfile.getprojectstyle">
<code class="descname">getprojectstyle</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.html.htmlfile.getprojectstyle" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the project type for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.html.htmlfile.getsourcelanguage">
<code class="descname">getsourcelanguage</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.html.htmlfile.getsourcelanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the source language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.html.htmlfile.gettargetlanguage">
<code class="descname">gettargetlanguage</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.html.htmlfile.gettargetlanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the target language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.html.htmlfile.getunits">
<code class="descname">getunits</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.html.htmlfile.getunits" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of all units in this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.html.htmlfile.guess_encoding">
<code class="descname">guess_encoding</code><span class="sig-paren">(</span><em>htmlsrc</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.html.htmlfile.guess_encoding" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the encoding of the html text.</p>
<p>We look for ‘charset=’ within a meta tag to do this.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.html.htmlfile.handle_charref">
<code class="descname">handle_charref</code><span class="sig-paren">(</span><em>name</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.html.htmlfile.handle_charref" title="Permalink to this definition">¶</a></dt>
<dd><p>Handle entries in the form &amp;#NNNN; e.g. &amp;#8417;</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.html.htmlfile.handle_entityref">
<code class="descname">handle_entityref</code><span class="sig-paren">(</span><em>name</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.html.htmlfile.handle_entityref" title="Permalink to this definition">¶</a></dt>
<dd><p>Handle named entities of the form &amp;aaaa; e.g. &amp;rsquo;</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.html.htmlfile.has_translatable_content">
<code class="descname">has_translatable_content</code><span class="sig-paren">(</span><em>text</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.html.htmlfile.has_translatable_content" title="Permalink to this definition">¶</a></dt>
<dd><p>Check if the supplied HTML snippet has any content that needs to be
translated.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.html.htmlfile.isempty">
<code class="descname">isempty</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.html.htmlfile.isempty" title="Permalink to this definition">¶</a></dt>
<dd><p>Return True if the object doesn’t contain any translation units.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.html.htmlfile.makeindex">
<code class="descname">makeindex</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.html.htmlfile.makeindex" title="Permalink to this definition">¶</a></dt>
<dd><p>Indexes the items in this store. At least .sourceindex should be
useful.</p>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.html.htmlfile.merge_on">
<code class="descname">merge_on</code><a class="headerlink" href="#translate.storage.html.htmlfile.merge_on" title="Permalink to this definition">¶</a></dt>
<dd><p>The matching criterion to use when merging on.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The default matching criterion for all the subclasses.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">string</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.html.htmlfile.parse">
<code class="descname">parse</code><span class="sig-paren">(</span><em>htmlsrc</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.html.htmlfile.parse" title="Permalink to this definition">¶</a></dt>
<dd><p>parser to process the given source string</p>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.html.htmlfile.parsefile">
<em class="property">classmethod </em><code class="descname">parsefile</code><span class="sig-paren">(</span><em>storefile</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.html.htmlfile.parsefile" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads the given file (or opens the given filename) and parses back
to an object.</p>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.html.htmlfile.parsestring">
<em class="property">classmethod </em><code class="descname">parsestring</code><span class="sig-paren">(</span><em>storestring</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.html.htmlfile.parsestring" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert the string representation back to an object.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.html.htmlfile.pi_escape">
<code class="descname">pi_escape</code><span class="sig-paren">(</span><em>text</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.html.htmlfile.pi_escape" title="Permalink to this definition">¶</a></dt>
<dd><p>Replaces all instances of process instruction with placeholders,
and returns the new text and a dictionary of tags.  The current
implementation replaces &lt;?foo?&gt; with &lt;?md5(foo)?&gt;.  The hash =&gt; code
conversions are stored in self.pidict for later use in restoring the
real PHP.</p>
<p>The purpose of this is to remove all potential “tag-like” code from
inside PHP.  The hash looks nothing like an HTML tag, but the following
PHP:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$a &lt; $b ? $c : ($d &gt; $e ? $f : $g)
</pre></div>
</div>
<p>looks like it contains an HTML tag:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>&lt; $b ? $c : ($d &gt;
</pre></div>
</div>
<p>to nearly any regex.  Hence, we replace all contents of PHP with simple
strings to help our regexes out.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.html.htmlfile.pi_unescape">
<code class="descname">pi_unescape</code><span class="sig-paren">(</span><em>text</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.html.htmlfile.pi_unescape" title="Permalink to this definition">¶</a></dt>
<dd><p>Replaces the PHP placeholders in text with the real code</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.html.htmlfile.remove_unit_from_index">
<code class="descname">remove_unit_from_index</code><span class="sig-paren">(</span><em>unit</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.html.htmlfile.remove_unit_from_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove a unit from source and locaton indexes</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.html.htmlfile.require_index">
<code class="descname">require_index</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.html.htmlfile.require_index" title="Permalink to this definition">¶</a></dt>
<dd><p>make sure source index exists</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.html.htmlfile.reset">
<code class="descname">reset</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.html.htmlfile.reset" title="Permalink to this definition">¶</a></dt>
<dd><p>Reset this instance.  Loses all unprocessed data.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.html.htmlfile.save">
<code class="descname">save</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.html.htmlfile.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Save to the file that data was originally read from, if available.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.html.htmlfile.savefile">
<code class="descname">savefile</code><span class="sig-paren">(</span><em>storefile</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.html.htmlfile.savefile" title="Permalink to this definition">¶</a></dt>
<dd><p>Write the string representation to the given file (or filename).</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.html.htmlfile.serialize">
<code class="descname">serialize</code><span class="sig-paren">(</span><em>out</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.html.htmlfile.serialize" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts to a bytes representation that can be parsed back using
<a class="reference internal" href="#translate.storage.base.TranslationStore.parsestring" title="translate.storage.base.TranslationStore.parsestring"><code class="xref py py-meth docutils literal notranslate"><span class="pre">parsestring()</span></code></a>.
<cite>out</cite> should be an open file-like objects to write to.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.html.htmlfile.setprojectstyle">
<code class="descname">setprojectstyle</code><span class="sig-paren">(</span><em>project_style</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.html.htmlfile.setprojectstyle" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the project type for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.html.htmlfile.setsourcelanguage">
<code class="descname">setsourcelanguage</code><span class="sig-paren">(</span><em>sourcelanguage</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.html.htmlfile.setsourcelanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the source language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.html.htmlfile.settargetlanguage">
<code class="descname">settargetlanguage</code><span class="sig-paren">(</span><em>targetlanguage</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.html.htmlfile.settargetlanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the target language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.html.htmlfile.translate">
<code class="descname">translate</code><span class="sig-paren">(</span><em>source</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.html.htmlfile.translate" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the translated string for a given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">String or <a class="reference external" href="https://docs.python.org/2.7/library/constants.html#None" title="(in Python v2.7)">None</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.html.htmlfile.unit_iter">
<code class="descname">unit_iter</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.html.htmlfile.unit_iter" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterator over all the units in this store.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="translate.storage.html.htmlunit">
<em class="property">class </em><code class="descclassname">translate.storage.html.</code><code class="descname">htmlunit</code><span class="sig-paren">(</span><em>source=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.html.htmlunit" title="Permalink to this definition">¶</a></dt>
<dd><p>A unit of translatable/localisable HTML content</p>
<dl class="method">
<dt id="translate.storage.html.htmlunit.adderror">
<code class="descname">adderror</code><span class="sig-paren">(</span><em>errorname</em>, <em>errortext</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.html.htmlunit.adderror" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds an error message to this unit.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>errorname</strong> (<em>string</em>) – A single word to id the error.</li>
<li><strong>errortext</strong> (<em>string</em>) – The text describing the error.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.html.htmlunit.addlocation">
<code class="descname">addlocation</code><span class="sig-paren">(</span><em>location</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.html.htmlunit.addlocation" title="Permalink to this definition">¶</a></dt>
<dd><p>Add one location to the list of locations.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Shouldn’t be implemented if the format doesn’t support it.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.html.htmlunit.addlocations">
<code class="descname">addlocations</code><span class="sig-paren">(</span><em>location</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.html.htmlunit.addlocations" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a location or a list of locations.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Most classes shouldn’t need to implement this, but should rather
implement <code class="xref py py-meth docutils literal notranslate"><span class="pre">TranslationUnit.addlocation()</span></code>.</p>
</div>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">This method might be removed in future.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.html.htmlunit.addnote">
<code class="descname">addnote</code><span class="sig-paren">(</span><em>text</em>, <em>origin=None</em>, <em>position='append'</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.html.htmlunit.addnote" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds a note (comment).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>text</strong> (<em>string</em>) – Usually just a sentence or two.</li>
<li><strong>origin</strong> (<em>string</em>) – Specifies who/where the comment comes from.
Origin can be one of the following text strings:
- ‘translator’
- ‘developer’, ‘programmer’, ‘source code’ (synonyms)</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.html.htmlunit.buildfromunit">
<em class="property">classmethod </em><code class="descname">buildfromunit</code><span class="sig-paren">(</span><em>unit</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.html.htmlunit.buildfromunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Build a native unit from a foreign unit, preserving as much
information as possible.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.html.htmlunit.getcontext">
<code class="descname">getcontext</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.html.htmlunit.getcontext" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the message context.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.html.htmlunit.geterrors">
<code class="descname">geterrors</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.html.htmlunit.geterrors" title="Permalink to this definition">¶</a></dt>
<dd><p>Get all error messages.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">Dictionary</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.html.htmlunit.getid">
<code class="descname">getid</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.html.htmlunit.getid" title="Permalink to this definition">¶</a></dt>
<dd><p>A unique identifier for this unit.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">string</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">an identifier for this unit that is unique in the store</td>
</tr>
</tbody>
</table>
<p>Derived classes should override this in a way that guarantees a unique
identifier for each unit in the store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.html.htmlunit.getlocations">
<code class="descname">getlocations</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.html.htmlunit.getlocations" title="Permalink to this definition">¶</a></dt>
<dd><p>A list of source code locations.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">List</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Shouldn’t be implemented if the format doesn’t support it.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.html.htmlunit.getnotes">
<code class="descname">getnotes</code><span class="sig-paren">(</span><em>origin=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.html.htmlunit.getnotes" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns all notes about this unit.</p>
<p>It will probably be freeform text or something reasonable that can be
synthesised by the format.
It should not include location comments (see
<a class="reference internal" href="#translate.storage.base.TranslationUnit.getlocations" title="translate.storage.base.TranslationUnit.getlocations"><code class="xref py py-meth docutils literal notranslate"><span class="pre">getlocations()</span></code></a>).</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.html.htmlunit.gettargetlen">
<code class="descname">gettargetlen</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.html.htmlunit.gettargetlen" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the length of the target string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">Integer</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Plural forms might be combined.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.html.htmlunit.getunits">
<code class="descname">getunits</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.html.htmlunit.getunits" title="Permalink to this definition">¶</a></dt>
<dd><p>This unit in a list.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.html.htmlunit.hasplural">
<code class="descname">hasplural</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.html.htmlunit.hasplural" title="Permalink to this definition">¶</a></dt>
<dd><p>Tells whether or not this specific unit has plural strings.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.html.htmlunit.infer_state">
<code class="descname">infer_state</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.html.htmlunit.infer_state" title="Permalink to this definition">¶</a></dt>
<dd><p>Empty method that should be overridden in sub-classes to infer the
current state(_n) of the unit from its current state.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.html.htmlunit.isblank">
<code class="descname">isblank</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.html.htmlunit.isblank" title="Permalink to this definition">¶</a></dt>
<dd><p>Used to see if this unit has no source or target string.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This is probably used more to find translatable units,
and we might want to move in that direction rather and
get rid of this.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.html.htmlunit.isfuzzy">
<code class="descname">isfuzzy</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.html.htmlunit.isfuzzy" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit is fuzzy.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.html.htmlunit.isheader">
<code class="descname">isheader</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.html.htmlunit.isheader" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit is a header.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.html.htmlunit.isobsolete">
<code class="descname">isobsolete</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.html.htmlunit.isobsolete" title="Permalink to this definition">¶</a></dt>
<dd><p>indicate whether a unit is obsolete</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.html.htmlunit.isreview">
<code class="descname">isreview</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.html.htmlunit.isreview" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit needs review.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.html.htmlunit.istranslatable">
<code class="descname">istranslatable</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.html.htmlunit.istranslatable" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit can be translated.</p>
<p>This should be used to distinguish real units for translation from
header, obsolete, binary or other blank units.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.html.htmlunit.istranslated">
<code class="descname">istranslated</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.html.htmlunit.istranslated" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit is translated.</p>
<p>This should be used rather than deducing it from .target,
to ensure that other classes can implement more functionality
(as XLIFF does).</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.html.htmlunit.makeobsolete">
<code class="descname">makeobsolete</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.html.htmlunit.makeobsolete" title="Permalink to this definition">¶</a></dt>
<dd><p>Make a unit obsolete</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.html.htmlunit.markfuzzy">
<code class="descname">markfuzzy</code><span class="sig-paren">(</span><em>value=True</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.html.htmlunit.markfuzzy" title="Permalink to this definition">¶</a></dt>
<dd><p>Marks the unit as fuzzy or not.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.html.htmlunit.markreviewneeded">
<code class="descname">markreviewneeded</code><span class="sig-paren">(</span><em>needsreview=True</em>, <em>explanation=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.html.htmlunit.markreviewneeded" title="Permalink to this definition">¶</a></dt>
<dd><p>Marks the unit to indicate whether it needs review.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>needsreview</strong> – Defaults to True.</li>
<li><strong>explanation</strong> – Adds an optional explanation as a note.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.html.htmlunit.merge">
<code class="descname">merge</code><span class="sig-paren">(</span><em>otherunit</em>, <em>overwrite=False</em>, <em>comments=True</em>, <em>authoritative=False</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.html.htmlunit.merge" title="Permalink to this definition">¶</a></dt>
<dd><p>Do basic format agnostic merging.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.html.htmlunit.multistring_to_rich">
<code class="descname">multistring_to_rich</code><span class="sig-paren">(</span><em>mulstring</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.html.htmlunit.multistring_to_rich" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a multistring to a list of “rich” string trees:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">target</span> <span class="o">=</span> <span class="n">multistring</span><span class="p">([</span><span class="sa">u</span><span class="s1">&#39;foo&#39;</span><span class="p">,</span> <span class="sa">u</span><span class="s1">&#39;bar&#39;</span><span class="p">,</span> <span class="sa">u</span><span class="s1">&#39;baz&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">TranslationUnit</span><span class="o">.</span><span class="n">multistring_to_rich</span><span class="p">(</span><span class="n">target</span><span class="p">)</span>
<span class="go">[&lt;StringElem([&lt;StringElem([u&#39;foo&#39;])&gt;])&gt;,</span>
<span class="go"> &lt;StringElem([&lt;StringElem([u&#39;bar&#39;])&gt;])&gt;,</span>
<span class="go"> &lt;StringElem([&lt;StringElem([u&#39;baz&#39;])&gt;])&gt;]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.html.htmlunit.removenotes">
<code class="descname">removenotes</code><span class="sig-paren">(</span><em>origin=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.html.htmlunit.removenotes" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove all the translator’s notes.</p>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.html.htmlunit.rich_source">
<code class="descname">rich_source</code><a class="headerlink" href="#translate.storage.html.htmlunit.rich_source" title="Permalink to this definition">¶</a></dt>
<dd><div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="#translate.storage.html.htmlunit.rich_to_multistring" title="translate.storage.html.htmlunit.rich_to_multistring"><code class="xref py py-meth docutils literal notranslate"><span class="pre">rich_to_multistring()</span></code></a>, <a class="reference internal" href="#translate.storage.html.htmlunit.multistring_to_rich" title="translate.storage.html.htmlunit.multistring_to_rich"><code class="xref py py-meth docutils literal notranslate"><span class="pre">multistring_to_rich()</span></code></a></p>
</div>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.html.htmlunit.rich_target">
<code class="descname">rich_target</code><a class="headerlink" href="#translate.storage.html.htmlunit.rich_target" title="Permalink to this definition">¶</a></dt>
<dd><div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="#translate.storage.html.htmlunit.rich_to_multistring" title="translate.storage.html.htmlunit.rich_to_multistring"><code class="xref py py-meth docutils literal notranslate"><span class="pre">rich_to_multistring()</span></code></a>, <a class="reference internal" href="#translate.storage.html.htmlunit.multistring_to_rich" title="translate.storage.html.htmlunit.multistring_to_rich"><code class="xref py py-meth docutils literal notranslate"><span class="pre">multistring_to_rich()</span></code></a></p>
</div>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.html.htmlunit.rich_to_multistring">
<em class="property">classmethod </em><code class="descname">rich_to_multistring</code><span class="sig-paren">(</span><em>elem_list</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.html.htmlunit.rich_to_multistring" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a “rich” string tree to a <code class="docutils literal notranslate"><span class="pre">multistring</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">translate.storage.placeables.interfaces</span> <span class="kn">import</span> <span class="n">X</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rich</span> <span class="o">=</span> <span class="p">[</span><span class="n">StringElem</span><span class="p">([</span><span class="s1">&#39;foo&#39;</span><span class="p">,</span> <span class="n">X</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="s1">&#39;xxx&#39;</span><span class="p">,</span> <span class="n">sub</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39; &#39;</span><span class="p">]),</span> <span class="s1">&#39;bar&#39;</span><span class="p">])]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">TranslationUnit</span><span class="o">.</span><span class="n">rich_to_multistring</span><span class="p">(</span><span class="n">rich</span><span class="p">)</span>
<span class="go">multistring(u&#39;foo bar&#39;)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.html.htmlunit.setcontext">
<code class="descname">setcontext</code><span class="sig-paren">(</span><em>context</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.html.htmlunit.setcontext" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the message context</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.html.htmlunit.setid">
<code class="descname">setid</code><span class="sig-paren">(</span><em>value</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.html.htmlunit.setid" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the unique identified for this unit.</p>
<p>only implemented if format allows ids independant from other unit
properties like source or context</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.html.htmlunit.unit_iter">
<code class="descname">unit_iter</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.html.htmlunit.unit_iter" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterator that only returns this unit.</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="translate.storage.html.normalize_html">
<code class="descclassname">translate.storage.html.</code><code class="descname">normalize_html</code><span class="sig-paren">(</span><em>text</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.html.normalize_html" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove double spaces from HTML snippets</p>
</dd></dl>

<dl class="function">
<dt id="translate.storage.html.safe_escape">
<code class="descclassname">translate.storage.html.</code><code class="descname">safe_escape</code><span class="sig-paren">(</span><em>html</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.html.safe_escape" title="Permalink to this definition">¶</a></dt>
<dd><p>Escape &amp;, &lt; and &gt;</p>
</dd></dl>

<dl class="function">
<dt id="translate.storage.html.strip_html">
<code class="descclassname">translate.storage.html.</code><code class="descname">strip_html</code><span class="sig-paren">(</span><em>text</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.html.strip_html" title="Permalink to this definition">¶</a></dt>
<dd><p>Strip unnecessary html from the text.</p>
<p>HTML tags are deemed unnecessary if it fully encloses the translatable
text, eg. ‘&lt;a href=”index.html”&gt;Home Page&lt;/a&gt;’.</p>
<p>HTML tags that occurs within the normal flow of text will not be removed,
eg. ‘This is a link to the &lt;a href=”index.html”&gt;Home Page&lt;/a&gt;.’</p>
</dd></dl>

</div>
<div class="section" id="module-translate.storage.ical">
<span id="ical"></span><h2>ical<a class="headerlink" href="#module-translate.storage.ical" title="Permalink to this headline">¶</a></h2>
<p>Class that manages iCalender files for translation.</p>
<p>iCalendar files follow the <a class="reference external" href="https://tools.ietf.org/html/rfc2445">RFC2445</a>
specification.</p>
<p>The iCalendar specification uses the following naming conventions:</p>
<ul class="simple">
<li>Component: an event, journal entry, timezone, etc</li>
<li>Property: a property of a component: summary, description, start time, etc</li>
<li>Attribute: an attribute of a property, e.g. language</li>
</ul>
<p>The following are localisable in this implementation:</p>
<ul class="simple">
<li>VEVENT component: SUMMARY, DESCRIPTION, COMMENT and LOCATION properties</li>
</ul>
<p>While other items could be localised this is not seen as important until use
cases arise.  In such a case simply adjusting the component.name and
property.name lists to include these will allow expanded localisation.</p>
<dl class="docutils">
<dt>LANGUAGE Attribute</dt>
<dd>While the iCalendar format allows items to have a language attribute this is
not used. The reason being that for most of the items that we localise they
are only allowed to occur zero or once.  Thus ‘summary’ would ideally
be present in multiple languages in one file, the format does not allow
such multiple entries.  This is unfortunate as it prevents the creation
of a single multilingual iCalendar file.</dd>
<dt>Future Format Support</dt>
<dd>As this format used <a class="reference external" href="http://eventable.github.io/vobject/">vobject</a>
which supports various formats including
<a class="reference external" href="http://en.wikipedia.org/wiki/VCard">vCard</a> it is possible to expand
this format to understand those if needed.</dd>
</dl>
<dl class="class">
<dt id="translate.storage.ical.icalfile">
<em class="property">class </em><code class="descclassname">translate.storage.ical.</code><code class="descname">icalfile</code><span class="sig-paren">(</span><em>inputfile=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.ical.icalfile" title="Permalink to this definition">¶</a></dt>
<dd><p>An ical file</p>
<dl class="attribute">
<dt id="translate.storage.ical.icalfile.UnitClass">
<code class="descname">UnitClass</code><a class="headerlink" href="#translate.storage.ical.icalfile.UnitClass" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <a class="reference internal" href="#translate.storage.ical.icalunit" title="translate.storage.ical.icalunit"><code class="xref py py-class docutils literal notranslate"><span class="pre">icalunit</span></code></a></p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ical.icalfile.add_unit_to_index">
<code class="descname">add_unit_to_index</code><span class="sig-paren">(</span><em>unit</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.ical.icalfile.add_unit_to_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a unit to source and location idexes</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ical.icalfile.addsourceunit">
<code class="descname">addsourceunit</code><span class="sig-paren">(</span><em>source</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.ical.icalfile.addsourceunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Add and returns a new unit with the given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><code class="xref py py-class docutils literal notranslate"><span class="pre">TranslationUnit</span></code></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ical.icalfile.addunit">
<code class="descname">addunit</code><span class="sig-paren">(</span><em>unit</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.ical.icalfile.addunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Append the given unit to the object’s list of units.</p>
<p>This method should always be used rather than trying to modify the
list manually.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>unit</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">TranslationUnit</span></code>) – The unit that will be added.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ical.icalfile.detect_encoding">
<code class="descname">detect_encoding</code><span class="sig-paren">(</span><em>text</em>, <em>default_encodings=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.ical.icalfile.detect_encoding" title="Permalink to this definition">¶</a></dt>
<dd><p>Try to detect a file encoding from <cite>text</cite>, using either the chardet lib
or by trying to decode the file.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ical.icalfile.fallback_detection">
<code class="descname">fallback_detection</code><span class="sig-paren">(</span><em>text</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.ical.icalfile.fallback_detection" title="Permalink to this definition">¶</a></dt>
<dd><p>Simple detection based on BOM in case chardet is not available.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ical.icalfile.findid">
<code class="descname">findid</code><span class="sig-paren">(</span><em>id</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.ical.icalfile.findid" title="Permalink to this definition">¶</a></dt>
<dd><p>find unit with matching id by checking id_index</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ical.icalfile.findunit">
<code class="descname">findunit</code><span class="sig-paren">(</span><em>source</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.ical.icalfile.findunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the unit with the given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><code class="xref py py-class docutils literal notranslate"><span class="pre">TranslationUnit</span></code> or None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ical.icalfile.findunits">
<code class="descname">findunits</code><span class="sig-paren">(</span><em>source</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.ical.icalfile.findunits" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the units with the given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><code class="xref py py-class docutils literal notranslate"><span class="pre">TranslationUnit</span></code> or None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ical.icalfile.getids">
<code class="descname">getids</code><span class="sig-paren">(</span><em>filename=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.ical.icalfile.getids" title="Permalink to this definition">¶</a></dt>
<dd><p>return a list of unit ids</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ical.icalfile.getprojectstyle">
<code class="descname">getprojectstyle</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.ical.icalfile.getprojectstyle" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the project type for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ical.icalfile.getsourcelanguage">
<code class="descname">getsourcelanguage</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.ical.icalfile.getsourcelanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the source language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ical.icalfile.gettargetlanguage">
<code class="descname">gettargetlanguage</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.ical.icalfile.gettargetlanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the target language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ical.icalfile.getunits">
<code class="descname">getunits</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.ical.icalfile.getunits" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of all units in this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ical.icalfile.isempty">
<code class="descname">isempty</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.ical.icalfile.isempty" title="Permalink to this definition">¶</a></dt>
<dd><p>Return True if the object doesn’t contain any translation units.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ical.icalfile.makeindex">
<code class="descname">makeindex</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.ical.icalfile.makeindex" title="Permalink to this definition">¶</a></dt>
<dd><p>Indexes the items in this store. At least .sourceindex should be
useful.</p>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.ical.icalfile.merge_on">
<code class="descname">merge_on</code><a class="headerlink" href="#translate.storage.ical.icalfile.merge_on" title="Permalink to this definition">¶</a></dt>
<dd><p>The matching criterion to use when merging on.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The default matching criterion for all the subclasses.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">string</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ical.icalfile.parse">
<code class="descname">parse</code><span class="sig-paren">(</span><em>input</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.ical.icalfile.parse" title="Permalink to this definition">¶</a></dt>
<dd><p>parse the given file or file source string</p>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.ical.icalfile.parsefile">
<em class="property">classmethod </em><code class="descname">parsefile</code><span class="sig-paren">(</span><em>storefile</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.ical.icalfile.parsefile" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads the given file (or opens the given filename) and parses back
to an object.</p>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.ical.icalfile.parsestring">
<em class="property">classmethod </em><code class="descname">parsestring</code><span class="sig-paren">(</span><em>storestring</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.ical.icalfile.parsestring" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert the string representation back to an object.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ical.icalfile.remove_unit_from_index">
<code class="descname">remove_unit_from_index</code><span class="sig-paren">(</span><em>unit</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.ical.icalfile.remove_unit_from_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove a unit from source and locaton indexes</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ical.icalfile.require_index">
<code class="descname">require_index</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.ical.icalfile.require_index" title="Permalink to this definition">¶</a></dt>
<dd><p>make sure source index exists</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ical.icalfile.save">
<code class="descname">save</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.ical.icalfile.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Save to the file that data was originally read from, if available.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ical.icalfile.savefile">
<code class="descname">savefile</code><span class="sig-paren">(</span><em>storefile</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.ical.icalfile.savefile" title="Permalink to this definition">¶</a></dt>
<dd><p>Write the string representation to the given file (or filename).</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ical.icalfile.serialize">
<code class="descname">serialize</code><span class="sig-paren">(</span><em>out</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.ical.icalfile.serialize" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts to a bytes representation that can be parsed back using
<a class="reference internal" href="#translate.storage.base.TranslationStore.parsestring" title="translate.storage.base.TranslationStore.parsestring"><code class="xref py py-meth docutils literal notranslate"><span class="pre">parsestring()</span></code></a>.
<cite>out</cite> should be an open file-like objects to write to.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ical.icalfile.setprojectstyle">
<code class="descname">setprojectstyle</code><span class="sig-paren">(</span><em>project_style</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.ical.icalfile.setprojectstyle" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the project type for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ical.icalfile.setsourcelanguage">
<code class="descname">setsourcelanguage</code><span class="sig-paren">(</span><em>sourcelanguage</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.ical.icalfile.setsourcelanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the source language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ical.icalfile.settargetlanguage">
<code class="descname">settargetlanguage</code><span class="sig-paren">(</span><em>targetlanguage</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.ical.icalfile.settargetlanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the target language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ical.icalfile.translate">
<code class="descname">translate</code><span class="sig-paren">(</span><em>source</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.ical.icalfile.translate" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the translated string for a given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">String or <a class="reference external" href="https://docs.python.org/2.7/library/constants.html#None" title="(in Python v2.7)">None</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ical.icalfile.unit_iter">
<code class="descname">unit_iter</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.ical.icalfile.unit_iter" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterator over all the units in this store.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="translate.storage.ical.icalunit">
<em class="property">class </em><code class="descclassname">translate.storage.ical.</code><code class="descname">icalunit</code><span class="sig-paren">(</span><em>source=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.ical.icalunit" title="Permalink to this definition">¶</a></dt>
<dd><p>An ical entry that is translatable</p>
<dl class="method">
<dt id="translate.storage.ical.icalunit.adderror">
<code class="descname">adderror</code><span class="sig-paren">(</span><em>errorname</em>, <em>errortext</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.ical.icalunit.adderror" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds an error message to this unit.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>errorname</strong> (<em>string</em>) – A single word to id the error.</li>
<li><strong>errortext</strong> (<em>string</em>) – The text describing the error.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ical.icalunit.addlocation">
<code class="descname">addlocation</code><span class="sig-paren">(</span><em>location</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.ical.icalunit.addlocation" title="Permalink to this definition">¶</a></dt>
<dd><p>Add one location to the list of locations.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Shouldn’t be implemented if the format doesn’t support it.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ical.icalunit.addlocations">
<code class="descname">addlocations</code><span class="sig-paren">(</span><em>location</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.ical.icalunit.addlocations" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a location or a list of locations.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Most classes shouldn’t need to implement this, but should rather
implement <code class="xref py py-meth docutils literal notranslate"><span class="pre">TranslationUnit.addlocation()</span></code>.</p>
</div>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">This method might be removed in future.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ical.icalunit.addnote">
<code class="descname">addnote</code><span class="sig-paren">(</span><em>text</em>, <em>origin=None</em>, <em>position='append'</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.ical.icalunit.addnote" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds a note (comment).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>text</strong> (<em>string</em>) – Usually just a sentence or two.</li>
<li><strong>origin</strong> (<em>string</em>) – Specifies who/where the comment comes from.
Origin can be one of the following text strings:
- ‘translator’
- ‘developer’, ‘programmer’, ‘source code’ (synonyms)</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.ical.icalunit.buildfromunit">
<em class="property">classmethod </em><code class="descname">buildfromunit</code><span class="sig-paren">(</span><em>unit</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.ical.icalunit.buildfromunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Build a native unit from a foreign unit, preserving as much
information as possible.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ical.icalunit.getcontext">
<code class="descname">getcontext</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.ical.icalunit.getcontext" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the message context.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ical.icalunit.geterrors">
<code class="descname">geterrors</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.ical.icalunit.geterrors" title="Permalink to this definition">¶</a></dt>
<dd><p>Get all error messages.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">Dictionary</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ical.icalunit.getid">
<code class="descname">getid</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.ical.icalunit.getid" title="Permalink to this definition">¶</a></dt>
<dd><p>A unique identifier for this unit.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">string</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">an identifier for this unit that is unique in the store</td>
</tr>
</tbody>
</table>
<p>Derived classes should override this in a way that guarantees a unique
identifier for each unit in the store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ical.icalunit.getlocations">
<code class="descname">getlocations</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.ical.icalunit.getlocations" title="Permalink to this definition">¶</a></dt>
<dd><p>A list of source code locations.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">List</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Shouldn’t be implemented if the format doesn’t support it.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ical.icalunit.getnotes">
<code class="descname">getnotes</code><span class="sig-paren">(</span><em>origin=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.ical.icalunit.getnotes" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns all notes about this unit.</p>
<p>It will probably be freeform text or something reasonable that can be
synthesised by the format.
It should not include location comments (see
<a class="reference internal" href="#translate.storage.base.TranslationUnit.getlocations" title="translate.storage.base.TranslationUnit.getlocations"><code class="xref py py-meth docutils literal notranslate"><span class="pre">getlocations()</span></code></a>).</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ical.icalunit.gettargetlen">
<code class="descname">gettargetlen</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.ical.icalunit.gettargetlen" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the length of the target string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">Integer</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Plural forms might be combined.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ical.icalunit.getunits">
<code class="descname">getunits</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.ical.icalunit.getunits" title="Permalink to this definition">¶</a></dt>
<dd><p>This unit in a list.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ical.icalunit.hasplural">
<code class="descname">hasplural</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.ical.icalunit.hasplural" title="Permalink to this definition">¶</a></dt>
<dd><p>Tells whether or not this specific unit has plural strings.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ical.icalunit.infer_state">
<code class="descname">infer_state</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.ical.icalunit.infer_state" title="Permalink to this definition">¶</a></dt>
<dd><p>Empty method that should be overridden in sub-classes to infer the
current state(_n) of the unit from its current state.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ical.icalunit.isblank">
<code class="descname">isblank</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.ical.icalunit.isblank" title="Permalink to this definition">¶</a></dt>
<dd><p>Used to see if this unit has no source or target string.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This is probably used more to find translatable units,
and we might want to move in that direction rather and
get rid of this.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ical.icalunit.isfuzzy">
<code class="descname">isfuzzy</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.ical.icalunit.isfuzzy" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit is fuzzy.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ical.icalunit.isheader">
<code class="descname">isheader</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.ical.icalunit.isheader" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit is a header.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ical.icalunit.isobsolete">
<code class="descname">isobsolete</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.ical.icalunit.isobsolete" title="Permalink to this definition">¶</a></dt>
<dd><p>indicate whether a unit is obsolete</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ical.icalunit.isreview">
<code class="descname">isreview</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.ical.icalunit.isreview" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit needs review.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ical.icalunit.istranslatable">
<code class="descname">istranslatable</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.ical.icalunit.istranslatable" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit can be translated.</p>
<p>This should be used to distinguish real units for translation from
header, obsolete, binary or other blank units.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ical.icalunit.istranslated">
<code class="descname">istranslated</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.ical.icalunit.istranslated" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit is translated.</p>
<p>This should be used rather than deducing it from .target,
to ensure that other classes can implement more functionality
(as XLIFF does).</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ical.icalunit.makeobsolete">
<code class="descname">makeobsolete</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.ical.icalunit.makeobsolete" title="Permalink to this definition">¶</a></dt>
<dd><p>Make a unit obsolete</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ical.icalunit.markfuzzy">
<code class="descname">markfuzzy</code><span class="sig-paren">(</span><em>value=True</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.ical.icalunit.markfuzzy" title="Permalink to this definition">¶</a></dt>
<dd><p>Marks the unit as fuzzy or not.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ical.icalunit.markreviewneeded">
<code class="descname">markreviewneeded</code><span class="sig-paren">(</span><em>needsreview=True</em>, <em>explanation=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.ical.icalunit.markreviewneeded" title="Permalink to this definition">¶</a></dt>
<dd><p>Marks the unit to indicate whether it needs review.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>needsreview</strong> – Defaults to True.</li>
<li><strong>explanation</strong> – Adds an optional explanation as a note.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ical.icalunit.merge">
<code class="descname">merge</code><span class="sig-paren">(</span><em>otherunit</em>, <em>overwrite=False</em>, <em>comments=True</em>, <em>authoritative=False</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.ical.icalunit.merge" title="Permalink to this definition">¶</a></dt>
<dd><p>Do basic format agnostic merging.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ical.icalunit.multistring_to_rich">
<code class="descname">multistring_to_rich</code><span class="sig-paren">(</span><em>mulstring</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.ical.icalunit.multistring_to_rich" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a multistring to a list of “rich” string trees:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">target</span> <span class="o">=</span> <span class="n">multistring</span><span class="p">([</span><span class="sa">u</span><span class="s1">&#39;foo&#39;</span><span class="p">,</span> <span class="sa">u</span><span class="s1">&#39;bar&#39;</span><span class="p">,</span> <span class="sa">u</span><span class="s1">&#39;baz&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">TranslationUnit</span><span class="o">.</span><span class="n">multistring_to_rich</span><span class="p">(</span><span class="n">target</span><span class="p">)</span>
<span class="go">[&lt;StringElem([&lt;StringElem([u&#39;foo&#39;])&gt;])&gt;,</span>
<span class="go"> &lt;StringElem([&lt;StringElem([u&#39;bar&#39;])&gt;])&gt;,</span>
<span class="go"> &lt;StringElem([&lt;StringElem([u&#39;baz&#39;])&gt;])&gt;]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ical.icalunit.removenotes">
<code class="descname">removenotes</code><span class="sig-paren">(</span><em>origin=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.ical.icalunit.removenotes" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove all the translator’s notes.</p>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.ical.icalunit.rich_source">
<code class="descname">rich_source</code><a class="headerlink" href="#translate.storage.ical.icalunit.rich_source" title="Permalink to this definition">¶</a></dt>
<dd><div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="#translate.storage.ical.icalunit.rich_to_multistring" title="translate.storage.ical.icalunit.rich_to_multistring"><code class="xref py py-meth docutils literal notranslate"><span class="pre">rich_to_multistring()</span></code></a>, <a class="reference internal" href="#translate.storage.ical.icalunit.multistring_to_rich" title="translate.storage.ical.icalunit.multistring_to_rich"><code class="xref py py-meth docutils literal notranslate"><span class="pre">multistring_to_rich()</span></code></a></p>
</div>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.ical.icalunit.rich_target">
<code class="descname">rich_target</code><a class="headerlink" href="#translate.storage.ical.icalunit.rich_target" title="Permalink to this definition">¶</a></dt>
<dd><div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="#translate.storage.ical.icalunit.rich_to_multistring" title="translate.storage.ical.icalunit.rich_to_multistring"><code class="xref py py-meth docutils literal notranslate"><span class="pre">rich_to_multistring()</span></code></a>, <a class="reference internal" href="#translate.storage.ical.icalunit.multistring_to_rich" title="translate.storage.ical.icalunit.multistring_to_rich"><code class="xref py py-meth docutils literal notranslate"><span class="pre">multistring_to_rich()</span></code></a></p>
</div>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.ical.icalunit.rich_to_multistring">
<em class="property">classmethod </em><code class="descname">rich_to_multistring</code><span class="sig-paren">(</span><em>elem_list</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.ical.icalunit.rich_to_multistring" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a “rich” string tree to a <code class="docutils literal notranslate"><span class="pre">multistring</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">translate.storage.placeables.interfaces</span> <span class="kn">import</span> <span class="n">X</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rich</span> <span class="o">=</span> <span class="p">[</span><span class="n">StringElem</span><span class="p">([</span><span class="s1">&#39;foo&#39;</span><span class="p">,</span> <span class="n">X</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="s1">&#39;xxx&#39;</span><span class="p">,</span> <span class="n">sub</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39; &#39;</span><span class="p">]),</span> <span class="s1">&#39;bar&#39;</span><span class="p">])]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">TranslationUnit</span><span class="o">.</span><span class="n">rich_to_multistring</span><span class="p">(</span><span class="n">rich</span><span class="p">)</span>
<span class="go">multistring(u&#39;foo bar&#39;)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ical.icalunit.setcontext">
<code class="descname">setcontext</code><span class="sig-paren">(</span><em>context</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.ical.icalunit.setcontext" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the message context</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ical.icalunit.setid">
<code class="descname">setid</code><span class="sig-paren">(</span><em>value</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.ical.icalunit.setid" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the unique identified for this unit.</p>
<p>only implemented if format allows ids independant from other unit
properties like source or context</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ical.icalunit.unit_iter">
<code class="descname">unit_iter</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.ical.icalunit.unit_iter" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterator that only returns this unit.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-translate.storage.ini">
<span id="ini"></span><h2>ini<a class="headerlink" href="#module-translate.storage.ini" title="Permalink to this headline">¶</a></h2>
<p>Class that manages .ini files for translation</p>
<p># a comment
; a comment</p>
<p>[Section]
a = a string
b : a string</p>
<dl class="class">
<dt id="translate.storage.ini.Dialect">
<em class="property">class </em><code class="descclassname">translate.storage.ini.</code><code class="descname">Dialect</code><a class="headerlink" href="#translate.storage.ini.Dialect" title="Permalink to this definition">¶</a></dt>
<dd><p>Base class for differentiating dialect options and functions</p>
</dd></dl>

<dl class="class">
<dt id="translate.storage.ini.DialectDefault">
<em class="property">class </em><code class="descclassname">translate.storage.ini.</code><code class="descname">DialectDefault</code><a class="headerlink" href="#translate.storage.ini.DialectDefault" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="class">
<dt id="translate.storage.ini.DialectInno">
<em class="property">class </em><code class="descclassname">translate.storage.ini.</code><code class="descname">DialectInno</code><a class="headerlink" href="#translate.storage.ini.DialectInno" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="class">
<dt id="translate.storage.ini.inifile">
<em class="property">class </em><code class="descclassname">translate.storage.ini.</code><code class="descname">inifile</code><span class="sig-paren">(</span><em>inputfile=None</em>, <em>dialect='default'</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.ini.inifile" title="Permalink to this definition">¶</a></dt>
<dd><p>An INI file</p>
<dl class="attribute">
<dt id="translate.storage.ini.inifile.UnitClass">
<code class="descname">UnitClass</code><a class="headerlink" href="#translate.storage.ini.inifile.UnitClass" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <a class="reference internal" href="#translate.storage.ini.iniunit" title="translate.storage.ini.iniunit"><code class="xref py py-class docutils literal notranslate"><span class="pre">iniunit</span></code></a></p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ini.inifile.add_unit_to_index">
<code class="descname">add_unit_to_index</code><span class="sig-paren">(</span><em>unit</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.ini.inifile.add_unit_to_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a unit to source and location idexes</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ini.inifile.addsourceunit">
<code class="descname">addsourceunit</code><span class="sig-paren">(</span><em>source</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.ini.inifile.addsourceunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Add and returns a new unit with the given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><code class="xref py py-class docutils literal notranslate"><span class="pre">TranslationUnit</span></code></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ini.inifile.addunit">
<code class="descname">addunit</code><span class="sig-paren">(</span><em>unit</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.ini.inifile.addunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Append the given unit to the object’s list of units.</p>
<p>This method should always be used rather than trying to modify the
list manually.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>unit</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">TranslationUnit</span></code>) – The unit that will be added.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ini.inifile.detect_encoding">
<code class="descname">detect_encoding</code><span class="sig-paren">(</span><em>text</em>, <em>default_encodings=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.ini.inifile.detect_encoding" title="Permalink to this definition">¶</a></dt>
<dd><p>Try to detect a file encoding from <cite>text</cite>, using either the chardet lib
or by trying to decode the file.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ini.inifile.fallback_detection">
<code class="descname">fallback_detection</code><span class="sig-paren">(</span><em>text</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.ini.inifile.fallback_detection" title="Permalink to this definition">¶</a></dt>
<dd><p>Simple detection based on BOM in case chardet is not available.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ini.inifile.findid">
<code class="descname">findid</code><span class="sig-paren">(</span><em>id</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.ini.inifile.findid" title="Permalink to this definition">¶</a></dt>
<dd><p>find unit with matching id by checking id_index</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ini.inifile.findunit">
<code class="descname">findunit</code><span class="sig-paren">(</span><em>source</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.ini.inifile.findunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the unit with the given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><code class="xref py py-class docutils literal notranslate"><span class="pre">TranslationUnit</span></code> or None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ini.inifile.findunits">
<code class="descname">findunits</code><span class="sig-paren">(</span><em>source</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.ini.inifile.findunits" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the units with the given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><code class="xref py py-class docutils literal notranslate"><span class="pre">TranslationUnit</span></code> or None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ini.inifile.getids">
<code class="descname">getids</code><span class="sig-paren">(</span><em>filename=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.ini.inifile.getids" title="Permalink to this definition">¶</a></dt>
<dd><p>return a list of unit ids</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ini.inifile.getprojectstyle">
<code class="descname">getprojectstyle</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.ini.inifile.getprojectstyle" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the project type for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ini.inifile.getsourcelanguage">
<code class="descname">getsourcelanguage</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.ini.inifile.getsourcelanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the source language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ini.inifile.gettargetlanguage">
<code class="descname">gettargetlanguage</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.ini.inifile.gettargetlanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the target language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ini.inifile.getunits">
<code class="descname">getunits</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.ini.inifile.getunits" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of all units in this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ini.inifile.isempty">
<code class="descname">isempty</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.ini.inifile.isempty" title="Permalink to this definition">¶</a></dt>
<dd><p>Return True if the object doesn’t contain any translation units.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ini.inifile.makeindex">
<code class="descname">makeindex</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.ini.inifile.makeindex" title="Permalink to this definition">¶</a></dt>
<dd><p>Indexes the items in this store. At least .sourceindex should be
useful.</p>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.ini.inifile.merge_on">
<code class="descname">merge_on</code><a class="headerlink" href="#translate.storage.ini.inifile.merge_on" title="Permalink to this definition">¶</a></dt>
<dd><p>The matching criterion to use when merging on.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The default matching criterion for all the subclasses.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">string</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ini.inifile.parse">
<code class="descname">parse</code><span class="sig-paren">(</span><em>input</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.ini.inifile.parse" title="Permalink to this definition">¶</a></dt>
<dd><p>Parse the given file or file source string.</p>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.ini.inifile.parsefile">
<em class="property">classmethod </em><code class="descname">parsefile</code><span class="sig-paren">(</span><em>storefile</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.ini.inifile.parsefile" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads the given file (or opens the given filename) and parses back
to an object.</p>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.ini.inifile.parsestring">
<em class="property">classmethod </em><code class="descname">parsestring</code><span class="sig-paren">(</span><em>storestring</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.ini.inifile.parsestring" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert the string representation back to an object.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ini.inifile.remove_unit_from_index">
<code class="descname">remove_unit_from_index</code><span class="sig-paren">(</span><em>unit</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.ini.inifile.remove_unit_from_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove a unit from source and locaton indexes</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ini.inifile.require_index">
<code class="descname">require_index</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.ini.inifile.require_index" title="Permalink to this definition">¶</a></dt>
<dd><p>make sure source index exists</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ini.inifile.save">
<code class="descname">save</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.ini.inifile.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Save to the file that data was originally read from, if available.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ini.inifile.savefile">
<code class="descname">savefile</code><span class="sig-paren">(</span><em>storefile</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.ini.inifile.savefile" title="Permalink to this definition">¶</a></dt>
<dd><p>Write the string representation to the given file (or filename).</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ini.inifile.serialize">
<code class="descname">serialize</code><span class="sig-paren">(</span><em>out</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.ini.inifile.serialize" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts to a bytes representation that can be parsed back using
<a class="reference internal" href="#translate.storage.base.TranslationStore.parsestring" title="translate.storage.base.TranslationStore.parsestring"><code class="xref py py-meth docutils literal notranslate"><span class="pre">parsestring()</span></code></a>.
<cite>out</cite> should be an open file-like objects to write to.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ini.inifile.setprojectstyle">
<code class="descname">setprojectstyle</code><span class="sig-paren">(</span><em>project_style</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.ini.inifile.setprojectstyle" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the project type for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ini.inifile.setsourcelanguage">
<code class="descname">setsourcelanguage</code><span class="sig-paren">(</span><em>sourcelanguage</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.ini.inifile.setsourcelanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the source language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ini.inifile.settargetlanguage">
<code class="descname">settargetlanguage</code><span class="sig-paren">(</span><em>targetlanguage</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.ini.inifile.settargetlanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the target language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ini.inifile.translate">
<code class="descname">translate</code><span class="sig-paren">(</span><em>source</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.ini.inifile.translate" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the translated string for a given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">String or <a class="reference external" href="https://docs.python.org/2.7/library/constants.html#None" title="(in Python v2.7)">None</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ini.inifile.unit_iter">
<code class="descname">unit_iter</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.ini.inifile.unit_iter" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterator over all the units in this store.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="translate.storage.ini.iniunit">
<em class="property">class </em><code class="descclassname">translate.storage.ini.</code><code class="descname">iniunit</code><span class="sig-paren">(</span><em>source=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.ini.iniunit" title="Permalink to this definition">¶</a></dt>
<dd><p>A INI file entry</p>
<dl class="method">
<dt id="translate.storage.ini.iniunit.adderror">
<code class="descname">adderror</code><span class="sig-paren">(</span><em>errorname</em>, <em>errortext</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.ini.iniunit.adderror" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds an error message to this unit.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>errorname</strong> (<em>string</em>) – A single word to id the error.</li>
<li><strong>errortext</strong> (<em>string</em>) – The text describing the error.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ini.iniunit.addlocation">
<code class="descname">addlocation</code><span class="sig-paren">(</span><em>location</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.ini.iniunit.addlocation" title="Permalink to this definition">¶</a></dt>
<dd><p>Add one location to the list of locations.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Shouldn’t be implemented if the format doesn’t support it.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ini.iniunit.addlocations">
<code class="descname">addlocations</code><span class="sig-paren">(</span><em>location</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.ini.iniunit.addlocations" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a location or a list of locations.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Most classes shouldn’t need to implement this, but should rather
implement <code class="xref py py-meth docutils literal notranslate"><span class="pre">TranslationUnit.addlocation()</span></code>.</p>
</div>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">This method might be removed in future.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ini.iniunit.addnote">
<code class="descname">addnote</code><span class="sig-paren">(</span><em>text</em>, <em>origin=None</em>, <em>position='append'</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.ini.iniunit.addnote" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds a note (comment).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>text</strong> (<em>string</em>) – Usually just a sentence or two.</li>
<li><strong>origin</strong> (<em>string</em>) – Specifies who/where the comment comes from.
Origin can be one of the following text strings:
- ‘translator’
- ‘developer’, ‘programmer’, ‘source code’ (synonyms)</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.ini.iniunit.buildfromunit">
<em class="property">classmethod </em><code class="descname">buildfromunit</code><span class="sig-paren">(</span><em>unit</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.ini.iniunit.buildfromunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Build a native unit from a foreign unit, preserving as much
information as possible.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ini.iniunit.getcontext">
<code class="descname">getcontext</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.ini.iniunit.getcontext" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the message context.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ini.iniunit.geterrors">
<code class="descname">geterrors</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.ini.iniunit.geterrors" title="Permalink to this definition">¶</a></dt>
<dd><p>Get all error messages.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">Dictionary</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ini.iniunit.getid">
<code class="descname">getid</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.ini.iniunit.getid" title="Permalink to this definition">¶</a></dt>
<dd><p>A unique identifier for this unit.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">string</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">an identifier for this unit that is unique in the store</td>
</tr>
</tbody>
</table>
<p>Derived classes should override this in a way that guarantees a unique
identifier for each unit in the store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ini.iniunit.getlocations">
<code class="descname">getlocations</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.ini.iniunit.getlocations" title="Permalink to this definition">¶</a></dt>
<dd><p>A list of source code locations.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">List</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Shouldn’t be implemented if the format doesn’t support it.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ini.iniunit.getnotes">
<code class="descname">getnotes</code><span class="sig-paren">(</span><em>origin=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.ini.iniunit.getnotes" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns all notes about this unit.</p>
<p>It will probably be freeform text or something reasonable that can be
synthesised by the format.
It should not include location comments (see
<a class="reference internal" href="#translate.storage.base.TranslationUnit.getlocations" title="translate.storage.base.TranslationUnit.getlocations"><code class="xref py py-meth docutils literal notranslate"><span class="pre">getlocations()</span></code></a>).</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ini.iniunit.gettargetlen">
<code class="descname">gettargetlen</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.ini.iniunit.gettargetlen" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the length of the target string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">Integer</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Plural forms might be combined.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ini.iniunit.getunits">
<code class="descname">getunits</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.ini.iniunit.getunits" title="Permalink to this definition">¶</a></dt>
<dd><p>This unit in a list.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ini.iniunit.hasplural">
<code class="descname">hasplural</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.ini.iniunit.hasplural" title="Permalink to this definition">¶</a></dt>
<dd><p>Tells whether or not this specific unit has plural strings.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ini.iniunit.infer_state">
<code class="descname">infer_state</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.ini.iniunit.infer_state" title="Permalink to this definition">¶</a></dt>
<dd><p>Empty method that should be overridden in sub-classes to infer the
current state(_n) of the unit from its current state.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ini.iniunit.isblank">
<code class="descname">isblank</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.ini.iniunit.isblank" title="Permalink to this definition">¶</a></dt>
<dd><p>Used to see if this unit has no source or target string.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This is probably used more to find translatable units,
and we might want to move in that direction rather and
get rid of this.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ini.iniunit.isfuzzy">
<code class="descname">isfuzzy</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.ini.iniunit.isfuzzy" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit is fuzzy.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ini.iniunit.isheader">
<code class="descname">isheader</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.ini.iniunit.isheader" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit is a header.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ini.iniunit.isobsolete">
<code class="descname">isobsolete</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.ini.iniunit.isobsolete" title="Permalink to this definition">¶</a></dt>
<dd><p>indicate whether a unit is obsolete</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ini.iniunit.isreview">
<code class="descname">isreview</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.ini.iniunit.isreview" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit needs review.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ini.iniunit.istranslatable">
<code class="descname">istranslatable</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.ini.iniunit.istranslatable" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit can be translated.</p>
<p>This should be used to distinguish real units for translation from
header, obsolete, binary or other blank units.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ini.iniunit.istranslated">
<code class="descname">istranslated</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.ini.iniunit.istranslated" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit is translated.</p>
<p>This should be used rather than deducing it from .target,
to ensure that other classes can implement more functionality
(as XLIFF does).</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ini.iniunit.makeobsolete">
<code class="descname">makeobsolete</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.ini.iniunit.makeobsolete" title="Permalink to this definition">¶</a></dt>
<dd><p>Make a unit obsolete</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ini.iniunit.markfuzzy">
<code class="descname">markfuzzy</code><span class="sig-paren">(</span><em>value=True</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.ini.iniunit.markfuzzy" title="Permalink to this definition">¶</a></dt>
<dd><p>Marks the unit as fuzzy or not.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ini.iniunit.markreviewneeded">
<code class="descname">markreviewneeded</code><span class="sig-paren">(</span><em>needsreview=True</em>, <em>explanation=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.ini.iniunit.markreviewneeded" title="Permalink to this definition">¶</a></dt>
<dd><p>Marks the unit to indicate whether it needs review.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>needsreview</strong> – Defaults to True.</li>
<li><strong>explanation</strong> – Adds an optional explanation as a note.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ini.iniunit.merge">
<code class="descname">merge</code><span class="sig-paren">(</span><em>otherunit</em>, <em>overwrite=False</em>, <em>comments=True</em>, <em>authoritative=False</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.ini.iniunit.merge" title="Permalink to this definition">¶</a></dt>
<dd><p>Do basic format agnostic merging.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ini.iniunit.multistring_to_rich">
<code class="descname">multistring_to_rich</code><span class="sig-paren">(</span><em>mulstring</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.ini.iniunit.multistring_to_rich" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a multistring to a list of “rich” string trees:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">target</span> <span class="o">=</span> <span class="n">multistring</span><span class="p">([</span><span class="sa">u</span><span class="s1">&#39;foo&#39;</span><span class="p">,</span> <span class="sa">u</span><span class="s1">&#39;bar&#39;</span><span class="p">,</span> <span class="sa">u</span><span class="s1">&#39;baz&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">TranslationUnit</span><span class="o">.</span><span class="n">multistring_to_rich</span><span class="p">(</span><span class="n">target</span><span class="p">)</span>
<span class="go">[&lt;StringElem([&lt;StringElem([u&#39;foo&#39;])&gt;])&gt;,</span>
<span class="go"> &lt;StringElem([&lt;StringElem([u&#39;bar&#39;])&gt;])&gt;,</span>
<span class="go"> &lt;StringElem([&lt;StringElem([u&#39;baz&#39;])&gt;])&gt;]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ini.iniunit.removenotes">
<code class="descname">removenotes</code><span class="sig-paren">(</span><em>origin=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.ini.iniunit.removenotes" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove all the translator’s notes.</p>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.ini.iniunit.rich_source">
<code class="descname">rich_source</code><a class="headerlink" href="#translate.storage.ini.iniunit.rich_source" title="Permalink to this definition">¶</a></dt>
<dd><div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="#translate.storage.ini.iniunit.rich_to_multistring" title="translate.storage.ini.iniunit.rich_to_multistring"><code class="xref py py-meth docutils literal notranslate"><span class="pre">rich_to_multistring()</span></code></a>, <a class="reference internal" href="#translate.storage.ini.iniunit.multistring_to_rich" title="translate.storage.ini.iniunit.multistring_to_rich"><code class="xref py py-meth docutils literal notranslate"><span class="pre">multistring_to_rich()</span></code></a></p>
</div>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.ini.iniunit.rich_target">
<code class="descname">rich_target</code><a class="headerlink" href="#translate.storage.ini.iniunit.rich_target" title="Permalink to this definition">¶</a></dt>
<dd><div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="#translate.storage.ini.iniunit.rich_to_multistring" title="translate.storage.ini.iniunit.rich_to_multistring"><code class="xref py py-meth docutils literal notranslate"><span class="pre">rich_to_multistring()</span></code></a>, <a class="reference internal" href="#translate.storage.ini.iniunit.multistring_to_rich" title="translate.storage.ini.iniunit.multistring_to_rich"><code class="xref py py-meth docutils literal notranslate"><span class="pre">multistring_to_rich()</span></code></a></p>
</div>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.ini.iniunit.rich_to_multistring">
<em class="property">classmethod </em><code class="descname">rich_to_multistring</code><span class="sig-paren">(</span><em>elem_list</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.ini.iniunit.rich_to_multistring" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a “rich” string tree to a <code class="docutils literal notranslate"><span class="pre">multistring</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">translate.storage.placeables.interfaces</span> <span class="kn">import</span> <span class="n">X</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rich</span> <span class="o">=</span> <span class="p">[</span><span class="n">StringElem</span><span class="p">([</span><span class="s1">&#39;foo&#39;</span><span class="p">,</span> <span class="n">X</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="s1">&#39;xxx&#39;</span><span class="p">,</span> <span class="n">sub</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39; &#39;</span><span class="p">]),</span> <span class="s1">&#39;bar&#39;</span><span class="p">])]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">TranslationUnit</span><span class="o">.</span><span class="n">rich_to_multistring</span><span class="p">(</span><span class="n">rich</span><span class="p">)</span>
<span class="go">multistring(u&#39;foo bar&#39;)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ini.iniunit.setcontext">
<code class="descname">setcontext</code><span class="sig-paren">(</span><em>context</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.ini.iniunit.setcontext" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the message context</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ini.iniunit.setid">
<code class="descname">setid</code><span class="sig-paren">(</span><em>value</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.ini.iniunit.setid" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the unique identified for this unit.</p>
<p>only implemented if format allows ids independant from other unit
properties like source or context</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ini.iniunit.unit_iter">
<code class="descname">unit_iter</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.ini.iniunit.unit_iter" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterator that only returns this unit.</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="translate.storage.ini.register_dialect">
<code class="descclassname">translate.storage.ini.</code><code class="descname">register_dialect</code><span class="sig-paren">(</span><em>dialect</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.ini.register_dialect" title="Permalink to this definition">¶</a></dt>
<dd><p>Decorator that registers the dialect.</p>
</dd></dl>

</div>
<div class="section" id="module-translate.storage.jsonl10n">
<span id="jsonl10n"></span><h2>jsonl10n<a class="headerlink" href="#module-translate.storage.jsonl10n" title="Permalink to this headline">¶</a></h2>
<p>Class that manages JSON data files for translation</p>
<p>JSON is an acronym for JavaScript Object Notation, it is an open standard
designed for human-readable data interchange.</p>
<p>JSON basic types:</p>
<ul class="simple">
<li>Number (integer or real)</li>
<li>String (double-quoted Unicode with backslash escaping)</li>
<li>Boolean (true or false)</li>
<li>Array (an ordered sequence of values, comma-separated and enclosed in square
brackets)</li>
<li>Object (a collection of key:value pairs, comma-separated and enclosed in
curly braces)</li>
<li>null</li>
</ul>
<p>Example:</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
     <span class="nt">&quot;firstName&quot;</span><span class="p">:</span> <span class="s2">&quot;John&quot;</span><span class="p">,</span>
     <span class="nt">&quot;lastName&quot;</span><span class="p">:</span> <span class="s2">&quot;Smith&quot;</span><span class="p">,</span>
     <span class="nt">&quot;age&quot;</span><span class="p">:</span> <span class="mi">25</span><span class="p">,</span>
     <span class="nt">&quot;address&quot;</span><span class="p">:</span> <span class="p">{</span>
         <span class="nt">&quot;streetAddress&quot;</span><span class="p">:</span> <span class="s2">&quot;21 2nd Street&quot;</span><span class="p">,</span>
         <span class="nt">&quot;city&quot;</span><span class="p">:</span> <span class="s2">&quot;New York&quot;</span><span class="p">,</span>
         <span class="nt">&quot;state&quot;</span><span class="p">:</span> <span class="s2">&quot;NY&quot;</span><span class="p">,</span>
         <span class="nt">&quot;postalCode&quot;</span><span class="p">:</span> <span class="s2">&quot;10021&quot;</span>
     <span class="p">},</span>
     <span class="nt">&quot;phoneNumber&quot;</span><span class="p">:</span> <span class="p">[</span>
         <span class="p">{</span>
           <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;home&quot;</span><span class="p">,</span>
           <span class="nt">&quot;number&quot;</span><span class="p">:</span> <span class="s2">&quot;212 555-1234&quot;</span>
         <span class="p">},</span>
         <span class="p">{</span>
           <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;fax&quot;</span><span class="p">,</span>
           <span class="nt">&quot;number&quot;</span><span class="p">:</span> <span class="s2">&quot;646 555-4567&quot;</span>
         <span class="p">}</span>
     <span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
<p>TODO:</p>
<ul class="simple">
<li>Handle <code class="docutils literal notranslate"><span class="pre">\u</span></code> and other escapes in Unicode</li>
<li>Manage data type storage and conversion. True –&gt; “True” –&gt; True</li>
</ul>
<dl class="class">
<dt id="translate.storage.jsonl10n.I18NextFile">
<em class="property">class </em><code class="descclassname">translate.storage.jsonl10n.</code><code class="descname">I18NextFile</code><span class="sig-paren">(</span><em>inputfile=None</em>, <em>filter=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.jsonl10n.I18NextFile" title="Permalink to this definition">¶</a></dt>
<dd><p>A i18next v3 format, this is nested JSON with several additions.</p>
<p>See <a class="reference external" href="https://www.i18next.com/">https://www.i18next.com/</a></p>
<dl class="attribute">
<dt id="translate.storage.jsonl10n.I18NextFile.UnitClass">
<code class="descname">UnitClass</code><a class="headerlink" href="#translate.storage.jsonl10n.I18NextFile.UnitClass" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <a class="reference internal" href="#translate.storage.jsonl10n.I18NextUnit" title="translate.storage.jsonl10n.I18NextUnit"><code class="xref py py-class docutils literal notranslate"><span class="pre">I18NextUnit</span></code></a></p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.I18NextFile.add_unit_to_index">
<code class="descname">add_unit_to_index</code><span class="sig-paren">(</span><em>unit</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.jsonl10n.I18NextFile.add_unit_to_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a unit to source and location idexes</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.I18NextFile.addsourceunit">
<code class="descname">addsourceunit</code><span class="sig-paren">(</span><em>source</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.jsonl10n.I18NextFile.addsourceunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Add and returns a new unit with the given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><code class="xref py py-class docutils literal notranslate"><span class="pre">TranslationUnit</span></code></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.I18NextFile.addunit">
<code class="descname">addunit</code><span class="sig-paren">(</span><em>unit</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.jsonl10n.I18NextFile.addunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Append the given unit to the object’s list of units.</p>
<p>This method should always be used rather than trying to modify the
list manually.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>unit</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">TranslationUnit</span></code>) – The unit that will be added.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.I18NextFile.detect_encoding">
<code class="descname">detect_encoding</code><span class="sig-paren">(</span><em>text</em>, <em>default_encodings=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.jsonl10n.I18NextFile.detect_encoding" title="Permalink to this definition">¶</a></dt>
<dd><p>Try to detect a file encoding from <cite>text</cite>, using either the chardet lib
or by trying to decode the file.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.I18NextFile.fallback_detection">
<code class="descname">fallback_detection</code><span class="sig-paren">(</span><em>text</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.jsonl10n.I18NextFile.fallback_detection" title="Permalink to this definition">¶</a></dt>
<dd><p>Simple detection based on BOM in case chardet is not available.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.I18NextFile.findid">
<code class="descname">findid</code><span class="sig-paren">(</span><em>id</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.jsonl10n.I18NextFile.findid" title="Permalink to this definition">¶</a></dt>
<dd><p>find unit with matching id by checking id_index</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.I18NextFile.findunit">
<code class="descname">findunit</code><span class="sig-paren">(</span><em>source</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.jsonl10n.I18NextFile.findunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the unit with the given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><code class="xref py py-class docutils literal notranslate"><span class="pre">TranslationUnit</span></code> or None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.I18NextFile.findunits">
<code class="descname">findunits</code><span class="sig-paren">(</span><em>source</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.jsonl10n.I18NextFile.findunits" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the units with the given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><code class="xref py py-class docutils literal notranslate"><span class="pre">TranslationUnit</span></code> or None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.I18NextFile.getids">
<code class="descname">getids</code><span class="sig-paren">(</span><em>filename=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.jsonl10n.I18NextFile.getids" title="Permalink to this definition">¶</a></dt>
<dd><p>return a list of unit ids</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.I18NextFile.getprojectstyle">
<code class="descname">getprojectstyle</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.jsonl10n.I18NextFile.getprojectstyle" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the project type for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.I18NextFile.getsourcelanguage">
<code class="descname">getsourcelanguage</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.jsonl10n.I18NextFile.getsourcelanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the source language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.I18NextFile.gettargetlanguage">
<code class="descname">gettargetlanguage</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.jsonl10n.I18NextFile.gettargetlanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the target language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.I18NextFile.getunits">
<code class="descname">getunits</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.jsonl10n.I18NextFile.getunits" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of all units in this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.I18NextFile.isempty">
<code class="descname">isempty</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.jsonl10n.I18NextFile.isempty" title="Permalink to this definition">¶</a></dt>
<dd><p>Return True if the object doesn’t contain any translation units.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.I18NextFile.makeindex">
<code class="descname">makeindex</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.jsonl10n.I18NextFile.makeindex" title="Permalink to this definition">¶</a></dt>
<dd><p>Indexes the items in this store. At least .sourceindex should be
useful.</p>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.jsonl10n.I18NextFile.merge_on">
<code class="descname">merge_on</code><a class="headerlink" href="#translate.storage.jsonl10n.I18NextFile.merge_on" title="Permalink to this definition">¶</a></dt>
<dd><p>The matching criterion to use when merging on.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The default matching criterion for all the subclasses.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">string</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.I18NextFile.parse">
<code class="descname">parse</code><span class="sig-paren">(</span><em>input</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.jsonl10n.I18NextFile.parse" title="Permalink to this definition">¶</a></dt>
<dd><p>parse the given file or file source string</p>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.jsonl10n.I18NextFile.parsefile">
<em class="property">classmethod </em><code class="descname">parsefile</code><span class="sig-paren">(</span><em>storefile</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.jsonl10n.I18NextFile.parsefile" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads the given file (or opens the given filename) and parses back
to an object.</p>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.jsonl10n.I18NextFile.parsestring">
<em class="property">classmethod </em><code class="descname">parsestring</code><span class="sig-paren">(</span><em>storestring</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.jsonl10n.I18NextFile.parsestring" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert the string representation back to an object.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.I18NextFile.remove_unit_from_index">
<code class="descname">remove_unit_from_index</code><span class="sig-paren">(</span><em>unit</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.jsonl10n.I18NextFile.remove_unit_from_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove a unit from source and locaton indexes</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.I18NextFile.require_index">
<code class="descname">require_index</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.jsonl10n.I18NextFile.require_index" title="Permalink to this definition">¶</a></dt>
<dd><p>make sure source index exists</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.I18NextFile.save">
<code class="descname">save</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.jsonl10n.I18NextFile.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Save to the file that data was originally read from, if available.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.I18NextFile.savefile">
<code class="descname">savefile</code><span class="sig-paren">(</span><em>storefile</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.jsonl10n.I18NextFile.savefile" title="Permalink to this definition">¶</a></dt>
<dd><p>Write the string representation to the given file (or filename).</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.I18NextFile.serialize">
<code class="descname">serialize</code><span class="sig-paren">(</span><em>out</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.jsonl10n.I18NextFile.serialize" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts to a bytes representation that can be parsed back using
<a class="reference internal" href="#translate.storage.base.TranslationStore.parsestring" title="translate.storage.base.TranslationStore.parsestring"><code class="xref py py-meth docutils literal notranslate"><span class="pre">parsestring()</span></code></a>.
<cite>out</cite> should be an open file-like objects to write to.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.I18NextFile.setprojectstyle">
<code class="descname">setprojectstyle</code><span class="sig-paren">(</span><em>project_style</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.jsonl10n.I18NextFile.setprojectstyle" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the project type for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.I18NextFile.setsourcelanguage">
<code class="descname">setsourcelanguage</code><span class="sig-paren">(</span><em>sourcelanguage</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.jsonl10n.I18NextFile.setsourcelanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the source language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.I18NextFile.settargetlanguage">
<code class="descname">settargetlanguage</code><span class="sig-paren">(</span><em>targetlanguage</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.jsonl10n.I18NextFile.settargetlanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the target language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.I18NextFile.translate">
<code class="descname">translate</code><span class="sig-paren">(</span><em>source</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.jsonl10n.I18NextFile.translate" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the translated string for a given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">String or <a class="reference external" href="https://docs.python.org/2.7/library/constants.html#None" title="(in Python v2.7)">None</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.I18NextFile.unit_iter">
<code class="descname">unit_iter</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.jsonl10n.I18NextFile.unit_iter" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterator over all the units in this store.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="translate.storage.jsonl10n.I18NextUnit">
<em class="property">class </em><code class="descclassname">translate.storage.jsonl10n.</code><code class="descname">I18NextUnit</code><span class="sig-paren">(</span><em>source=None</em>, <em>item=None</em>, <em>notes=None</em>, <em>placeholders=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.jsonl10n.I18NextUnit" title="Permalink to this definition">¶</a></dt>
<dd><p>A i18next v3 format, JSON with plurals.</p>
<p>See <a class="reference external" href="https://www.i18next.com/">https://www.i18next.com/</a></p>
<dl class="method">
<dt id="translate.storage.jsonl10n.I18NextUnit.adderror">
<code class="descname">adderror</code><span class="sig-paren">(</span><em>errorname</em>, <em>errortext</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.jsonl10n.I18NextUnit.adderror" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds an error message to this unit.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>errorname</strong> (<em>string</em>) – A single word to id the error.</li>
<li><strong>errortext</strong> (<em>string</em>) – The text describing the error.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.I18NextUnit.addlocation">
<code class="descname">addlocation</code><span class="sig-paren">(</span><em>location</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.jsonl10n.I18NextUnit.addlocation" title="Permalink to this definition">¶</a></dt>
<dd><p>Add one location to the list of locations.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Shouldn’t be implemented if the format doesn’t support it.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.I18NextUnit.addlocations">
<code class="descname">addlocations</code><span class="sig-paren">(</span><em>location</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.jsonl10n.I18NextUnit.addlocations" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a location or a list of locations.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Most classes shouldn’t need to implement this, but should rather
implement <code class="xref py py-meth docutils literal notranslate"><span class="pre">TranslationUnit.addlocation()</span></code>.</p>
</div>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">This method might be removed in future.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.I18NextUnit.addnote">
<code class="descname">addnote</code><span class="sig-paren">(</span><em>text</em>, <em>origin=None</em>, <em>position='append'</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.jsonl10n.I18NextUnit.addnote" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds a note (comment).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>text</strong> (<em>string</em>) – Usually just a sentence or two.</li>
<li><strong>origin</strong> (<em>string</em>) – Specifies who/where the comment comes from.
Origin can be one of the following text strings:
- ‘translator’
- ‘developer’, ‘programmer’, ‘source code’ (synonyms)</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.jsonl10n.I18NextUnit.buildfromunit">
<em class="property">classmethod </em><code class="descname">buildfromunit</code><span class="sig-paren">(</span><em>unit</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.jsonl10n.I18NextUnit.buildfromunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Build a native unit from a foreign unit, preserving as much
information as possible.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.I18NextUnit.getcontext">
<code class="descname">getcontext</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.jsonl10n.I18NextUnit.getcontext" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the message context.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.I18NextUnit.geterrors">
<code class="descname">geterrors</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.jsonl10n.I18NextUnit.geterrors" title="Permalink to this definition">¶</a></dt>
<dd><p>Get all error messages.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">Dictionary</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.I18NextUnit.getid">
<code class="descname">getid</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.jsonl10n.I18NextUnit.getid" title="Permalink to this definition">¶</a></dt>
<dd><p>A unique identifier for this unit.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">string</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">an identifier for this unit that is unique in the store</td>
</tr>
</tbody>
</table>
<p>Derived classes should override this in a way that guarantees a unique
identifier for each unit in the store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.I18NextUnit.getlocations">
<code class="descname">getlocations</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.jsonl10n.I18NextUnit.getlocations" title="Permalink to this definition">¶</a></dt>
<dd><p>A list of source code locations.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">List</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Shouldn’t be implemented if the format doesn’t support it.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.I18NextUnit.getnotes">
<code class="descname">getnotes</code><span class="sig-paren">(</span><em>origin=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.jsonl10n.I18NextUnit.getnotes" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns all notes about this unit.</p>
<p>It will probably be freeform text or something reasonable that can be
synthesised by the format.
It should not include location comments (see
<a class="reference internal" href="#translate.storage.base.TranslationUnit.getlocations" title="translate.storage.base.TranslationUnit.getlocations"><code class="xref py py-meth docutils literal notranslate"><span class="pre">getlocations()</span></code></a>).</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.I18NextUnit.gettargetlen">
<code class="descname">gettargetlen</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.jsonl10n.I18NextUnit.gettargetlen" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the length of the target string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">Integer</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Plural forms might be combined.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.I18NextUnit.getunits">
<code class="descname">getunits</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.jsonl10n.I18NextUnit.getunits" title="Permalink to this definition">¶</a></dt>
<dd><p>This unit in a list.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.I18NextUnit.getvalue">
<code class="descname">getvalue</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.jsonl10n.I18NextUnit.getvalue" title="Permalink to this definition">¶</a></dt>
<dd><p>Return value to be stored in JSON file.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.I18NextUnit.hasplural">
<code class="descname">hasplural</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.jsonl10n.I18NextUnit.hasplural" title="Permalink to this definition">¶</a></dt>
<dd><p>Tells whether or not this specific unit has plural strings.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.I18NextUnit.infer_state">
<code class="descname">infer_state</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.jsonl10n.I18NextUnit.infer_state" title="Permalink to this definition">¶</a></dt>
<dd><p>Empty method that should be overridden in sub-classes to infer the
current state(_n) of the unit from its current state.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.I18NextUnit.isblank">
<code class="descname">isblank</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.jsonl10n.I18NextUnit.isblank" title="Permalink to this definition">¶</a></dt>
<dd><p>Used to see if this unit has no source or target string.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This is probably used more to find translatable units,
and we might want to move in that direction rather and
get rid of this.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.I18NextUnit.isfuzzy">
<code class="descname">isfuzzy</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.jsonl10n.I18NextUnit.isfuzzy" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit is fuzzy.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.I18NextUnit.isheader">
<code class="descname">isheader</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.jsonl10n.I18NextUnit.isheader" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit is a header.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.I18NextUnit.isobsolete">
<code class="descname">isobsolete</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.jsonl10n.I18NextUnit.isobsolete" title="Permalink to this definition">¶</a></dt>
<dd><p>indicate whether a unit is obsolete</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.I18NextUnit.isreview">
<code class="descname">isreview</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.jsonl10n.I18NextUnit.isreview" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit needs review.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.I18NextUnit.istranslatable">
<code class="descname">istranslatable</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.jsonl10n.I18NextUnit.istranslatable" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit can be translated.</p>
<p>This should be used to distinguish real units for translation from
header, obsolete, binary or other blank units.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.I18NextUnit.istranslated">
<code class="descname">istranslated</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.jsonl10n.I18NextUnit.istranslated" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit is translated.</p>
<p>This should be used rather than deducing it from .target,
to ensure that other classes can implement more functionality
(as XLIFF does).</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.I18NextUnit.makeobsolete">
<code class="descname">makeobsolete</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.jsonl10n.I18NextUnit.makeobsolete" title="Permalink to this definition">¶</a></dt>
<dd><p>Make a unit obsolete</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.I18NextUnit.markfuzzy">
<code class="descname">markfuzzy</code><span class="sig-paren">(</span><em>value=True</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.jsonl10n.I18NextUnit.markfuzzy" title="Permalink to this definition">¶</a></dt>
<dd><p>Marks the unit as fuzzy or not.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.I18NextUnit.markreviewneeded">
<code class="descname">markreviewneeded</code><span class="sig-paren">(</span><em>needsreview=True</em>, <em>explanation=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.jsonl10n.I18NextUnit.markreviewneeded" title="Permalink to this definition">¶</a></dt>
<dd><p>Marks the unit to indicate whether it needs review.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>needsreview</strong> – Defaults to True.</li>
<li><strong>explanation</strong> – Adds an optional explanation as a note.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.I18NextUnit.merge">
<code class="descname">merge</code><span class="sig-paren">(</span><em>otherunit</em>, <em>overwrite=False</em>, <em>comments=True</em>, <em>authoritative=False</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.jsonl10n.I18NextUnit.merge" title="Permalink to this definition">¶</a></dt>
<dd><p>Do basic format agnostic merging.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.I18NextUnit.multistring_to_rich">
<code class="descname">multistring_to_rich</code><span class="sig-paren">(</span><em>mulstring</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.jsonl10n.I18NextUnit.multistring_to_rich" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a multistring to a list of “rich” string trees:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">target</span> <span class="o">=</span> <span class="n">multistring</span><span class="p">([</span><span class="sa">u</span><span class="s1">&#39;foo&#39;</span><span class="p">,</span> <span class="sa">u</span><span class="s1">&#39;bar&#39;</span><span class="p">,</span> <span class="sa">u</span><span class="s1">&#39;baz&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">TranslationUnit</span><span class="o">.</span><span class="n">multistring_to_rich</span><span class="p">(</span><span class="n">target</span><span class="p">)</span>
<span class="go">[&lt;StringElem([&lt;StringElem([u&#39;foo&#39;])&gt;])&gt;,</span>
<span class="go"> &lt;StringElem([&lt;StringElem([u&#39;bar&#39;])&gt;])&gt;,</span>
<span class="go"> &lt;StringElem([&lt;StringElem([u&#39;baz&#39;])&gt;])&gt;]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.I18NextUnit.removenotes">
<code class="descname">removenotes</code><span class="sig-paren">(</span><em>origin=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.jsonl10n.I18NextUnit.removenotes" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove all the translator’s notes.</p>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.jsonl10n.I18NextUnit.rich_source">
<code class="descname">rich_source</code><a class="headerlink" href="#translate.storage.jsonl10n.I18NextUnit.rich_source" title="Permalink to this definition">¶</a></dt>
<dd><div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="#translate.storage.jsonl10n.I18NextUnit.rich_to_multistring" title="translate.storage.jsonl10n.I18NextUnit.rich_to_multistring"><code class="xref py py-meth docutils literal notranslate"><span class="pre">rich_to_multistring()</span></code></a>, <a class="reference internal" href="#translate.storage.jsonl10n.I18NextUnit.multistring_to_rich" title="translate.storage.jsonl10n.I18NextUnit.multistring_to_rich"><code class="xref py py-meth docutils literal notranslate"><span class="pre">multistring_to_rich()</span></code></a></p>
</div>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.jsonl10n.I18NextUnit.rich_target">
<code class="descname">rich_target</code><a class="headerlink" href="#translate.storage.jsonl10n.I18NextUnit.rich_target" title="Permalink to this definition">¶</a></dt>
<dd><div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="#translate.storage.jsonl10n.I18NextUnit.rich_to_multistring" title="translate.storage.jsonl10n.I18NextUnit.rich_to_multistring"><code class="xref py py-meth docutils literal notranslate"><span class="pre">rich_to_multistring()</span></code></a>, <a class="reference internal" href="#translate.storage.jsonl10n.I18NextUnit.multistring_to_rich" title="translate.storage.jsonl10n.I18NextUnit.multistring_to_rich"><code class="xref py py-meth docutils literal notranslate"><span class="pre">multistring_to_rich()</span></code></a></p>
</div>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.jsonl10n.I18NextUnit.rich_to_multistring">
<em class="property">classmethod </em><code class="descname">rich_to_multistring</code><span class="sig-paren">(</span><em>elem_list</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.jsonl10n.I18NextUnit.rich_to_multistring" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a “rich” string tree to a <code class="docutils literal notranslate"><span class="pre">multistring</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">translate.storage.placeables.interfaces</span> <span class="kn">import</span> <span class="n">X</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rich</span> <span class="o">=</span> <span class="p">[</span><span class="n">StringElem</span><span class="p">([</span><span class="s1">&#39;foo&#39;</span><span class="p">,</span> <span class="n">X</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="s1">&#39;xxx&#39;</span><span class="p">,</span> <span class="n">sub</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39; &#39;</span><span class="p">]),</span> <span class="s1">&#39;bar&#39;</span><span class="p">])]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">TranslationUnit</span><span class="o">.</span><span class="n">rich_to_multistring</span><span class="p">(</span><span class="n">rich</span><span class="p">)</span>
<span class="go">multistring(u&#39;foo bar&#39;)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.I18NextUnit.setcontext">
<code class="descname">setcontext</code><span class="sig-paren">(</span><em>context</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.jsonl10n.I18NextUnit.setcontext" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the message context</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.I18NextUnit.setid">
<code class="descname">setid</code><span class="sig-paren">(</span><em>value</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.jsonl10n.I18NextUnit.setid" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the unique identified for this unit.</p>
<p>only implemented if format allows ids independant from other unit
properties like source or context</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.I18NextUnit.unit_iter">
<code class="descname">unit_iter</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.jsonl10n.I18NextUnit.unit_iter" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterator that only returns this unit.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="translate.storage.jsonl10n.JsonFile">
<em class="property">class </em><code class="descclassname">translate.storage.jsonl10n.</code><code class="descname">JsonFile</code><span class="sig-paren">(</span><em>inputfile=None</em>, <em>filter=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.jsonl10n.JsonFile" title="Permalink to this definition">¶</a></dt>
<dd><p>A JSON file</p>
<dl class="attribute">
<dt id="translate.storage.jsonl10n.JsonFile.UnitClass">
<code class="descname">UnitClass</code><a class="headerlink" href="#translate.storage.jsonl10n.JsonFile.UnitClass" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <a class="reference internal" href="#translate.storage.jsonl10n.JsonUnit" title="translate.storage.jsonl10n.JsonUnit"><code class="xref py py-class docutils literal notranslate"><span class="pre">JsonUnit</span></code></a></p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.JsonFile.add_unit_to_index">
<code class="descname">add_unit_to_index</code><span class="sig-paren">(</span><em>unit</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.jsonl10n.JsonFile.add_unit_to_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a unit to source and location idexes</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.JsonFile.addsourceunit">
<code class="descname">addsourceunit</code><span class="sig-paren">(</span><em>source</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.jsonl10n.JsonFile.addsourceunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Add and returns a new unit with the given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><code class="xref py py-class docutils literal notranslate"><span class="pre">TranslationUnit</span></code></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.JsonFile.addunit">
<code class="descname">addunit</code><span class="sig-paren">(</span><em>unit</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.jsonl10n.JsonFile.addunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Append the given unit to the object’s list of units.</p>
<p>This method should always be used rather than trying to modify the
list manually.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>unit</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">TranslationUnit</span></code>) – The unit that will be added.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.JsonFile.detect_encoding">
<code class="descname">detect_encoding</code><span class="sig-paren">(</span><em>text</em>, <em>default_encodings=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.jsonl10n.JsonFile.detect_encoding" title="Permalink to this definition">¶</a></dt>
<dd><p>Try to detect a file encoding from <cite>text</cite>, using either the chardet lib
or by trying to decode the file.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.JsonFile.fallback_detection">
<code class="descname">fallback_detection</code><span class="sig-paren">(</span><em>text</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.jsonl10n.JsonFile.fallback_detection" title="Permalink to this definition">¶</a></dt>
<dd><p>Simple detection based on BOM in case chardet is not available.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.JsonFile.findid">
<code class="descname">findid</code><span class="sig-paren">(</span><em>id</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.jsonl10n.JsonFile.findid" title="Permalink to this definition">¶</a></dt>
<dd><p>find unit with matching id by checking id_index</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.JsonFile.findunit">
<code class="descname">findunit</code><span class="sig-paren">(</span><em>source</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.jsonl10n.JsonFile.findunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the unit with the given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><code class="xref py py-class docutils literal notranslate"><span class="pre">TranslationUnit</span></code> or None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.JsonFile.findunits">
<code class="descname">findunits</code><span class="sig-paren">(</span><em>source</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.jsonl10n.JsonFile.findunits" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the units with the given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><code class="xref py py-class docutils literal notranslate"><span class="pre">TranslationUnit</span></code> or None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.JsonFile.getids">
<code class="descname">getids</code><span class="sig-paren">(</span><em>filename=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.jsonl10n.JsonFile.getids" title="Permalink to this definition">¶</a></dt>
<dd><p>return a list of unit ids</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.JsonFile.getprojectstyle">
<code class="descname">getprojectstyle</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.jsonl10n.JsonFile.getprojectstyle" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the project type for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.JsonFile.getsourcelanguage">
<code class="descname">getsourcelanguage</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.jsonl10n.JsonFile.getsourcelanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the source language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.JsonFile.gettargetlanguage">
<code class="descname">gettargetlanguage</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.jsonl10n.JsonFile.gettargetlanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the target language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.JsonFile.getunits">
<code class="descname">getunits</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.jsonl10n.JsonFile.getunits" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of all units in this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.JsonFile.isempty">
<code class="descname">isempty</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.jsonl10n.JsonFile.isempty" title="Permalink to this definition">¶</a></dt>
<dd><p>Return True if the object doesn’t contain any translation units.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.JsonFile.makeindex">
<code class="descname">makeindex</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.jsonl10n.JsonFile.makeindex" title="Permalink to this definition">¶</a></dt>
<dd><p>Indexes the items in this store. At least .sourceindex should be
useful.</p>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.jsonl10n.JsonFile.merge_on">
<code class="descname">merge_on</code><a class="headerlink" href="#translate.storage.jsonl10n.JsonFile.merge_on" title="Permalink to this definition">¶</a></dt>
<dd><p>The matching criterion to use when merging on.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The default matching criterion for all the subclasses.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">string</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.JsonFile.parse">
<code class="descname">parse</code><span class="sig-paren">(</span><em>input</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.jsonl10n.JsonFile.parse" title="Permalink to this definition">¶</a></dt>
<dd><p>parse the given file or file source string</p>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.jsonl10n.JsonFile.parsefile">
<em class="property">classmethod </em><code class="descname">parsefile</code><span class="sig-paren">(</span><em>storefile</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.jsonl10n.JsonFile.parsefile" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads the given file (or opens the given filename) and parses back
to an object.</p>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.jsonl10n.JsonFile.parsestring">
<em class="property">classmethod </em><code class="descname">parsestring</code><span class="sig-paren">(</span><em>storestring</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.jsonl10n.JsonFile.parsestring" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert the string representation back to an object.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.JsonFile.remove_unit_from_index">
<code class="descname">remove_unit_from_index</code><span class="sig-paren">(</span><em>unit</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.jsonl10n.JsonFile.remove_unit_from_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove a unit from source and locaton indexes</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.JsonFile.require_index">
<code class="descname">require_index</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.jsonl10n.JsonFile.require_index" title="Permalink to this definition">¶</a></dt>
<dd><p>make sure source index exists</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.JsonFile.save">
<code class="descname">save</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.jsonl10n.JsonFile.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Save to the file that data was originally read from, if available.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.JsonFile.savefile">
<code class="descname">savefile</code><span class="sig-paren">(</span><em>storefile</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.jsonl10n.JsonFile.savefile" title="Permalink to this definition">¶</a></dt>
<dd><p>Write the string representation to the given file (or filename).</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.JsonFile.serialize">
<code class="descname">serialize</code><span class="sig-paren">(</span><em>out</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.jsonl10n.JsonFile.serialize" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts to a bytes representation that can be parsed back using
<a class="reference internal" href="#translate.storage.base.TranslationStore.parsestring" title="translate.storage.base.TranslationStore.parsestring"><code class="xref py py-meth docutils literal notranslate"><span class="pre">parsestring()</span></code></a>.
<cite>out</cite> should be an open file-like objects to write to.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.JsonFile.setprojectstyle">
<code class="descname">setprojectstyle</code><span class="sig-paren">(</span><em>project_style</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.jsonl10n.JsonFile.setprojectstyle" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the project type for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.JsonFile.setsourcelanguage">
<code class="descname">setsourcelanguage</code><span class="sig-paren">(</span><em>sourcelanguage</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.jsonl10n.JsonFile.setsourcelanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the source language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.JsonFile.settargetlanguage">
<code class="descname">settargetlanguage</code><span class="sig-paren">(</span><em>targetlanguage</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.jsonl10n.JsonFile.settargetlanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the target language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.JsonFile.translate">
<code class="descname">translate</code><span class="sig-paren">(</span><em>source</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.jsonl10n.JsonFile.translate" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the translated string for a given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">String or <a class="reference external" href="https://docs.python.org/2.7/library/constants.html#None" title="(in Python v2.7)">None</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.JsonFile.unit_iter">
<code class="descname">unit_iter</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.jsonl10n.JsonFile.unit_iter" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterator over all the units in this store.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="translate.storage.jsonl10n.JsonNestedFile">
<em class="property">class </em><code class="descclassname">translate.storage.jsonl10n.</code><code class="descname">JsonNestedFile</code><span class="sig-paren">(</span><em>inputfile=None</em>, <em>filter=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.jsonl10n.JsonNestedFile" title="Permalink to this definition">¶</a></dt>
<dd><p>A JSON file with nested keys</p>
<dl class="attribute">
<dt id="translate.storage.jsonl10n.JsonNestedFile.UnitClass">
<code class="descname">UnitClass</code><a class="headerlink" href="#translate.storage.jsonl10n.JsonNestedFile.UnitClass" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <a class="reference internal" href="#translate.storage.jsonl10n.JsonNestedUnit" title="translate.storage.jsonl10n.JsonNestedUnit"><code class="xref py py-class docutils literal notranslate"><span class="pre">JsonNestedUnit</span></code></a></p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.JsonNestedFile.add_unit_to_index">
<code class="descname">add_unit_to_index</code><span class="sig-paren">(</span><em>unit</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.jsonl10n.JsonNestedFile.add_unit_to_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a unit to source and location idexes</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.JsonNestedFile.addsourceunit">
<code class="descname">addsourceunit</code><span class="sig-paren">(</span><em>source</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.jsonl10n.JsonNestedFile.addsourceunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Add and returns a new unit with the given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><code class="xref py py-class docutils literal notranslate"><span class="pre">TranslationUnit</span></code></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.JsonNestedFile.addunit">
<code class="descname">addunit</code><span class="sig-paren">(</span><em>unit</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.jsonl10n.JsonNestedFile.addunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Append the given unit to the object’s list of units.</p>
<p>This method should always be used rather than trying to modify the
list manually.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>unit</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">TranslationUnit</span></code>) – The unit that will be added.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.JsonNestedFile.detect_encoding">
<code class="descname">detect_encoding</code><span class="sig-paren">(</span><em>text</em>, <em>default_encodings=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.jsonl10n.JsonNestedFile.detect_encoding" title="Permalink to this definition">¶</a></dt>
<dd><p>Try to detect a file encoding from <cite>text</cite>, using either the chardet lib
or by trying to decode the file.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.JsonNestedFile.fallback_detection">
<code class="descname">fallback_detection</code><span class="sig-paren">(</span><em>text</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.jsonl10n.JsonNestedFile.fallback_detection" title="Permalink to this definition">¶</a></dt>
<dd><p>Simple detection based on BOM in case chardet is not available.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.JsonNestedFile.findid">
<code class="descname">findid</code><span class="sig-paren">(</span><em>id</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.jsonl10n.JsonNestedFile.findid" title="Permalink to this definition">¶</a></dt>
<dd><p>find unit with matching id by checking id_index</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.JsonNestedFile.findunit">
<code class="descname">findunit</code><span class="sig-paren">(</span><em>source</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.jsonl10n.JsonNestedFile.findunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the unit with the given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><code class="xref py py-class docutils literal notranslate"><span class="pre">TranslationUnit</span></code> or None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.JsonNestedFile.findunits">
<code class="descname">findunits</code><span class="sig-paren">(</span><em>source</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.jsonl10n.JsonNestedFile.findunits" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the units with the given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><code class="xref py py-class docutils literal notranslate"><span class="pre">TranslationUnit</span></code> or None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.JsonNestedFile.getids">
<code class="descname">getids</code><span class="sig-paren">(</span><em>filename=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.jsonl10n.JsonNestedFile.getids" title="Permalink to this definition">¶</a></dt>
<dd><p>return a list of unit ids</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.JsonNestedFile.getprojectstyle">
<code class="descname">getprojectstyle</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.jsonl10n.JsonNestedFile.getprojectstyle" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the project type for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.JsonNestedFile.getsourcelanguage">
<code class="descname">getsourcelanguage</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.jsonl10n.JsonNestedFile.getsourcelanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the source language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.JsonNestedFile.gettargetlanguage">
<code class="descname">gettargetlanguage</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.jsonl10n.JsonNestedFile.gettargetlanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the target language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.JsonNestedFile.getunits">
<code class="descname">getunits</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.jsonl10n.JsonNestedFile.getunits" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of all units in this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.JsonNestedFile.isempty">
<code class="descname">isempty</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.jsonl10n.JsonNestedFile.isempty" title="Permalink to this definition">¶</a></dt>
<dd><p>Return True if the object doesn’t contain any translation units.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.JsonNestedFile.makeindex">
<code class="descname">makeindex</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.jsonl10n.JsonNestedFile.makeindex" title="Permalink to this definition">¶</a></dt>
<dd><p>Indexes the items in this store. At least .sourceindex should be
useful.</p>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.jsonl10n.JsonNestedFile.merge_on">
<code class="descname">merge_on</code><a class="headerlink" href="#translate.storage.jsonl10n.JsonNestedFile.merge_on" title="Permalink to this definition">¶</a></dt>
<dd><p>The matching criterion to use when merging on.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The default matching criterion for all the subclasses.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">string</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.JsonNestedFile.parse">
<code class="descname">parse</code><span class="sig-paren">(</span><em>input</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.jsonl10n.JsonNestedFile.parse" title="Permalink to this definition">¶</a></dt>
<dd><p>parse the given file or file source string</p>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.jsonl10n.JsonNestedFile.parsefile">
<em class="property">classmethod </em><code class="descname">parsefile</code><span class="sig-paren">(</span><em>storefile</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.jsonl10n.JsonNestedFile.parsefile" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads the given file (or opens the given filename) and parses back
to an object.</p>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.jsonl10n.JsonNestedFile.parsestring">
<em class="property">classmethod </em><code class="descname">parsestring</code><span class="sig-paren">(</span><em>storestring</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.jsonl10n.JsonNestedFile.parsestring" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert the string representation back to an object.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.JsonNestedFile.remove_unit_from_index">
<code class="descname">remove_unit_from_index</code><span class="sig-paren">(</span><em>unit</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.jsonl10n.JsonNestedFile.remove_unit_from_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove a unit from source and locaton indexes</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.JsonNestedFile.require_index">
<code class="descname">require_index</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.jsonl10n.JsonNestedFile.require_index" title="Permalink to this definition">¶</a></dt>
<dd><p>make sure source index exists</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.JsonNestedFile.save">
<code class="descname">save</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.jsonl10n.JsonNestedFile.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Save to the file that data was originally read from, if available.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.JsonNestedFile.savefile">
<code class="descname">savefile</code><span class="sig-paren">(</span><em>storefile</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.jsonl10n.JsonNestedFile.savefile" title="Permalink to this definition">¶</a></dt>
<dd><p>Write the string representation to the given file (or filename).</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.JsonNestedFile.serialize">
<code class="descname">serialize</code><span class="sig-paren">(</span><em>out</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.jsonl10n.JsonNestedFile.serialize" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts to a bytes representation that can be parsed back using
<a class="reference internal" href="#translate.storage.base.TranslationStore.parsestring" title="translate.storage.base.TranslationStore.parsestring"><code class="xref py py-meth docutils literal notranslate"><span class="pre">parsestring()</span></code></a>.
<cite>out</cite> should be an open file-like objects to write to.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.JsonNestedFile.setprojectstyle">
<code class="descname">setprojectstyle</code><span class="sig-paren">(</span><em>project_style</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.jsonl10n.JsonNestedFile.setprojectstyle" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the project type for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.JsonNestedFile.setsourcelanguage">
<code class="descname">setsourcelanguage</code><span class="sig-paren">(</span><em>sourcelanguage</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.jsonl10n.JsonNestedFile.setsourcelanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the source language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.JsonNestedFile.settargetlanguage">
<code class="descname">settargetlanguage</code><span class="sig-paren">(</span><em>targetlanguage</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.jsonl10n.JsonNestedFile.settargetlanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the target language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.JsonNestedFile.translate">
<code class="descname">translate</code><span class="sig-paren">(</span><em>source</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.jsonl10n.JsonNestedFile.translate" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the translated string for a given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">String or <a class="reference external" href="https://docs.python.org/2.7/library/constants.html#None" title="(in Python v2.7)">None</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.JsonNestedFile.unit_iter">
<code class="descname">unit_iter</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.jsonl10n.JsonNestedFile.unit_iter" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterator over all the units in this store.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="translate.storage.jsonl10n.JsonNestedUnit">
<em class="property">class </em><code class="descclassname">translate.storage.jsonl10n.</code><code class="descname">JsonNestedUnit</code><span class="sig-paren">(</span><em>source=None</em>, <em>item=None</em>, <em>notes=None</em>, <em>placeholders=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.jsonl10n.JsonNestedUnit" title="Permalink to this definition">¶</a></dt>
<dd><dl class="method">
<dt id="translate.storage.jsonl10n.JsonNestedUnit.adderror">
<code class="descname">adderror</code><span class="sig-paren">(</span><em>errorname</em>, <em>errortext</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.jsonl10n.JsonNestedUnit.adderror" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds an error message to this unit.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>errorname</strong> (<em>string</em>) – A single word to id the error.</li>
<li><strong>errortext</strong> (<em>string</em>) – The text describing the error.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.JsonNestedUnit.addlocation">
<code class="descname">addlocation</code><span class="sig-paren">(</span><em>location</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.jsonl10n.JsonNestedUnit.addlocation" title="Permalink to this definition">¶</a></dt>
<dd><p>Add one location to the list of locations.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Shouldn’t be implemented if the format doesn’t support it.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.JsonNestedUnit.addlocations">
<code class="descname">addlocations</code><span class="sig-paren">(</span><em>location</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.jsonl10n.JsonNestedUnit.addlocations" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a location or a list of locations.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Most classes shouldn’t need to implement this, but should rather
implement <code class="xref py py-meth docutils literal notranslate"><span class="pre">TranslationUnit.addlocation()</span></code>.</p>
</div>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">This method might be removed in future.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.JsonNestedUnit.addnote">
<code class="descname">addnote</code><span class="sig-paren">(</span><em>text</em>, <em>origin=None</em>, <em>position='append'</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.jsonl10n.JsonNestedUnit.addnote" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds a note (comment).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>text</strong> (<em>string</em>) – Usually just a sentence or two.</li>
<li><strong>origin</strong> (<em>string</em>) – Specifies who/where the comment comes from.
Origin can be one of the following text strings:
- ‘translator’
- ‘developer’, ‘programmer’, ‘source code’ (synonyms)</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.jsonl10n.JsonNestedUnit.buildfromunit">
<em class="property">classmethod </em><code class="descname">buildfromunit</code><span class="sig-paren">(</span><em>unit</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.jsonl10n.JsonNestedUnit.buildfromunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Build a native unit from a foreign unit, preserving as much
information as possible.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.JsonNestedUnit.getcontext">
<code class="descname">getcontext</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.jsonl10n.JsonNestedUnit.getcontext" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the message context.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.JsonNestedUnit.geterrors">
<code class="descname">geterrors</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.jsonl10n.JsonNestedUnit.geterrors" title="Permalink to this definition">¶</a></dt>
<dd><p>Get all error messages.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">Dictionary</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.JsonNestedUnit.getid">
<code class="descname">getid</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.jsonl10n.JsonNestedUnit.getid" title="Permalink to this definition">¶</a></dt>
<dd><p>A unique identifier for this unit.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">string</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">an identifier for this unit that is unique in the store</td>
</tr>
</tbody>
</table>
<p>Derived classes should override this in a way that guarantees a unique
identifier for each unit in the store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.JsonNestedUnit.getlocations">
<code class="descname">getlocations</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.jsonl10n.JsonNestedUnit.getlocations" title="Permalink to this definition">¶</a></dt>
<dd><p>A list of source code locations.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">List</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Shouldn’t be implemented if the format doesn’t support it.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.JsonNestedUnit.getnotes">
<code class="descname">getnotes</code><span class="sig-paren">(</span><em>origin=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.jsonl10n.JsonNestedUnit.getnotes" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns all notes about this unit.</p>
<p>It will probably be freeform text or something reasonable that can be
synthesised by the format.
It should not include location comments (see
<a class="reference internal" href="#translate.storage.base.TranslationUnit.getlocations" title="translate.storage.base.TranslationUnit.getlocations"><code class="xref py py-meth docutils literal notranslate"><span class="pre">getlocations()</span></code></a>).</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.JsonNestedUnit.gettargetlen">
<code class="descname">gettargetlen</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.jsonl10n.JsonNestedUnit.gettargetlen" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the length of the target string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">Integer</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Plural forms might be combined.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.JsonNestedUnit.getunits">
<code class="descname">getunits</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.jsonl10n.JsonNestedUnit.getunits" title="Permalink to this definition">¶</a></dt>
<dd><p>This unit in a list.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.JsonNestedUnit.getvalue">
<code class="descname">getvalue</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.jsonl10n.JsonNestedUnit.getvalue" title="Permalink to this definition">¶</a></dt>
<dd><p>Return value to be stored in JSON file.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.JsonNestedUnit.hasplural">
<code class="descname">hasplural</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.jsonl10n.JsonNestedUnit.hasplural" title="Permalink to this definition">¶</a></dt>
<dd><p>Tells whether or not this specific unit has plural strings.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.JsonNestedUnit.infer_state">
<code class="descname">infer_state</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.jsonl10n.JsonNestedUnit.infer_state" title="Permalink to this definition">¶</a></dt>
<dd><p>Empty method that should be overridden in sub-classes to infer the
current state(_n) of the unit from its current state.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.JsonNestedUnit.isblank">
<code class="descname">isblank</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.jsonl10n.JsonNestedUnit.isblank" title="Permalink to this definition">¶</a></dt>
<dd><p>Used to see if this unit has no source or target string.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This is probably used more to find translatable units,
and we might want to move in that direction rather and
get rid of this.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.JsonNestedUnit.isfuzzy">
<code class="descname">isfuzzy</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.jsonl10n.JsonNestedUnit.isfuzzy" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit is fuzzy.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.JsonNestedUnit.isheader">
<code class="descname">isheader</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.jsonl10n.JsonNestedUnit.isheader" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit is a header.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.JsonNestedUnit.isobsolete">
<code class="descname">isobsolete</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.jsonl10n.JsonNestedUnit.isobsolete" title="Permalink to this definition">¶</a></dt>
<dd><p>indicate whether a unit is obsolete</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.JsonNestedUnit.isreview">
<code class="descname">isreview</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.jsonl10n.JsonNestedUnit.isreview" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit needs review.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.JsonNestedUnit.istranslatable">
<code class="descname">istranslatable</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.jsonl10n.JsonNestedUnit.istranslatable" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit can be translated.</p>
<p>This should be used to distinguish real units for translation from
header, obsolete, binary or other blank units.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.JsonNestedUnit.istranslated">
<code class="descname">istranslated</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.jsonl10n.JsonNestedUnit.istranslated" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit is translated.</p>
<p>This should be used rather than deducing it from .target,
to ensure that other classes can implement more functionality
(as XLIFF does).</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.JsonNestedUnit.makeobsolete">
<code class="descname">makeobsolete</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.jsonl10n.JsonNestedUnit.makeobsolete" title="Permalink to this definition">¶</a></dt>
<dd><p>Make a unit obsolete</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.JsonNestedUnit.markfuzzy">
<code class="descname">markfuzzy</code><span class="sig-paren">(</span><em>value=True</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.jsonl10n.JsonNestedUnit.markfuzzy" title="Permalink to this definition">¶</a></dt>
<dd><p>Marks the unit as fuzzy or not.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.JsonNestedUnit.markreviewneeded">
<code class="descname">markreviewneeded</code><span class="sig-paren">(</span><em>needsreview=True</em>, <em>explanation=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.jsonl10n.JsonNestedUnit.markreviewneeded" title="Permalink to this definition">¶</a></dt>
<dd><p>Marks the unit to indicate whether it needs review.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>needsreview</strong> – Defaults to True.</li>
<li><strong>explanation</strong> – Adds an optional explanation as a note.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.JsonNestedUnit.merge">
<code class="descname">merge</code><span class="sig-paren">(</span><em>otherunit</em>, <em>overwrite=False</em>, <em>comments=True</em>, <em>authoritative=False</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.jsonl10n.JsonNestedUnit.merge" title="Permalink to this definition">¶</a></dt>
<dd><p>Do basic format agnostic merging.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.JsonNestedUnit.multistring_to_rich">
<code class="descname">multistring_to_rich</code><span class="sig-paren">(</span><em>mulstring</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.jsonl10n.JsonNestedUnit.multistring_to_rich" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a multistring to a list of “rich” string trees:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">target</span> <span class="o">=</span> <span class="n">multistring</span><span class="p">([</span><span class="sa">u</span><span class="s1">&#39;foo&#39;</span><span class="p">,</span> <span class="sa">u</span><span class="s1">&#39;bar&#39;</span><span class="p">,</span> <span class="sa">u</span><span class="s1">&#39;baz&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">TranslationUnit</span><span class="o">.</span><span class="n">multistring_to_rich</span><span class="p">(</span><span class="n">target</span><span class="p">)</span>
<span class="go">[&lt;StringElem([&lt;StringElem([u&#39;foo&#39;])&gt;])&gt;,</span>
<span class="go"> &lt;StringElem([&lt;StringElem([u&#39;bar&#39;])&gt;])&gt;,</span>
<span class="go"> &lt;StringElem([&lt;StringElem([u&#39;baz&#39;])&gt;])&gt;]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.JsonNestedUnit.removenotes">
<code class="descname">removenotes</code><span class="sig-paren">(</span><em>origin=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.jsonl10n.JsonNestedUnit.removenotes" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove all the translator’s notes.</p>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.jsonl10n.JsonNestedUnit.rich_source">
<code class="descname">rich_source</code><a class="headerlink" href="#translate.storage.jsonl10n.JsonNestedUnit.rich_source" title="Permalink to this definition">¶</a></dt>
<dd><div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="#translate.storage.jsonl10n.JsonNestedUnit.rich_to_multistring" title="translate.storage.jsonl10n.JsonNestedUnit.rich_to_multistring"><code class="xref py py-meth docutils literal notranslate"><span class="pre">rich_to_multistring()</span></code></a>, <a class="reference internal" href="#translate.storage.jsonl10n.JsonNestedUnit.multistring_to_rich" title="translate.storage.jsonl10n.JsonNestedUnit.multistring_to_rich"><code class="xref py py-meth docutils literal notranslate"><span class="pre">multistring_to_rich()</span></code></a></p>
</div>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.jsonl10n.JsonNestedUnit.rich_target">
<code class="descname">rich_target</code><a class="headerlink" href="#translate.storage.jsonl10n.JsonNestedUnit.rich_target" title="Permalink to this definition">¶</a></dt>
<dd><div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="#translate.storage.jsonl10n.JsonNestedUnit.rich_to_multistring" title="translate.storage.jsonl10n.JsonNestedUnit.rich_to_multistring"><code class="xref py py-meth docutils literal notranslate"><span class="pre">rich_to_multistring()</span></code></a>, <a class="reference internal" href="#translate.storage.jsonl10n.JsonNestedUnit.multistring_to_rich" title="translate.storage.jsonl10n.JsonNestedUnit.multistring_to_rich"><code class="xref py py-meth docutils literal notranslate"><span class="pre">multistring_to_rich()</span></code></a></p>
</div>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.jsonl10n.JsonNestedUnit.rich_to_multistring">
<em class="property">classmethod </em><code class="descname">rich_to_multistring</code><span class="sig-paren">(</span><em>elem_list</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.jsonl10n.JsonNestedUnit.rich_to_multistring" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a “rich” string tree to a <code class="docutils literal notranslate"><span class="pre">multistring</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">translate.storage.placeables.interfaces</span> <span class="kn">import</span> <span class="n">X</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rich</span> <span class="o">=</span> <span class="p">[</span><span class="n">StringElem</span><span class="p">([</span><span class="s1">&#39;foo&#39;</span><span class="p">,</span> <span class="n">X</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="s1">&#39;xxx&#39;</span><span class="p">,</span> <span class="n">sub</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39; &#39;</span><span class="p">]),</span> <span class="s1">&#39;bar&#39;</span><span class="p">])]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">TranslationUnit</span><span class="o">.</span><span class="n">rich_to_multistring</span><span class="p">(</span><span class="n">rich</span><span class="p">)</span>
<span class="go">multistring(u&#39;foo bar&#39;)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.JsonNestedUnit.setcontext">
<code class="descname">setcontext</code><span class="sig-paren">(</span><em>context</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.jsonl10n.JsonNestedUnit.setcontext" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the message context</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.JsonNestedUnit.setid">
<code class="descname">setid</code><span class="sig-paren">(</span><em>value</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.jsonl10n.JsonNestedUnit.setid" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the unique identified for this unit.</p>
<p>only implemented if format allows ids independant from other unit
properties like source or context</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.JsonNestedUnit.unit_iter">
<code class="descname">unit_iter</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.jsonl10n.JsonNestedUnit.unit_iter" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterator that only returns this unit.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="translate.storage.jsonl10n.JsonUnit">
<em class="property">class </em><code class="descclassname">translate.storage.jsonl10n.</code><code class="descname">JsonUnit</code><span class="sig-paren">(</span><em>source=None</em>, <em>item=None</em>, <em>notes=None</em>, <em>placeholders=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.jsonl10n.JsonUnit" title="Permalink to this definition">¶</a></dt>
<dd><p>A JSON entry</p>
<dl class="method">
<dt id="translate.storage.jsonl10n.JsonUnit.adderror">
<code class="descname">adderror</code><span class="sig-paren">(</span><em>errorname</em>, <em>errortext</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.jsonl10n.JsonUnit.adderror" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds an error message to this unit.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>errorname</strong> (<em>string</em>) – A single word to id the error.</li>
<li><strong>errortext</strong> (<em>string</em>) – The text describing the error.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.JsonUnit.addlocation">
<code class="descname">addlocation</code><span class="sig-paren">(</span><em>location</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.jsonl10n.JsonUnit.addlocation" title="Permalink to this definition">¶</a></dt>
<dd><p>Add one location to the list of locations.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Shouldn’t be implemented if the format doesn’t support it.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.JsonUnit.addlocations">
<code class="descname">addlocations</code><span class="sig-paren">(</span><em>location</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.jsonl10n.JsonUnit.addlocations" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a location or a list of locations.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Most classes shouldn’t need to implement this, but should rather
implement <code class="xref py py-meth docutils literal notranslate"><span class="pre">TranslationUnit.addlocation()</span></code>.</p>
</div>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">This method might be removed in future.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.JsonUnit.addnote">
<code class="descname">addnote</code><span class="sig-paren">(</span><em>text</em>, <em>origin=None</em>, <em>position='append'</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.jsonl10n.JsonUnit.addnote" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds a note (comment).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>text</strong> (<em>string</em>) – Usually just a sentence or two.</li>
<li><strong>origin</strong> (<em>string</em>) – Specifies who/where the comment comes from.
Origin can be one of the following text strings:
- ‘translator’
- ‘developer’, ‘programmer’, ‘source code’ (synonyms)</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.jsonl10n.JsonUnit.buildfromunit">
<em class="property">classmethod </em><code class="descname">buildfromunit</code><span class="sig-paren">(</span><em>unit</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.jsonl10n.JsonUnit.buildfromunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Build a native unit from a foreign unit, preserving as much
information as possible.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.JsonUnit.getcontext">
<code class="descname">getcontext</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.jsonl10n.JsonUnit.getcontext" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the message context.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.JsonUnit.geterrors">
<code class="descname">geterrors</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.jsonl10n.JsonUnit.geterrors" title="Permalink to this definition">¶</a></dt>
<dd><p>Get all error messages.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">Dictionary</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.JsonUnit.getid">
<code class="descname">getid</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.jsonl10n.JsonUnit.getid" title="Permalink to this definition">¶</a></dt>
<dd><p>A unique identifier for this unit.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">string</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">an identifier for this unit that is unique in the store</td>
</tr>
</tbody>
</table>
<p>Derived classes should override this in a way that guarantees a unique
identifier for each unit in the store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.JsonUnit.getlocations">
<code class="descname">getlocations</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.jsonl10n.JsonUnit.getlocations" title="Permalink to this definition">¶</a></dt>
<dd><p>A list of source code locations.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">List</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Shouldn’t be implemented if the format doesn’t support it.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.JsonUnit.getnotes">
<code class="descname">getnotes</code><span class="sig-paren">(</span><em>origin=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.jsonl10n.JsonUnit.getnotes" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns all notes about this unit.</p>
<p>It will probably be freeform text or something reasonable that can be
synthesised by the format.
It should not include location comments (see
<a class="reference internal" href="#translate.storage.base.TranslationUnit.getlocations" title="translate.storage.base.TranslationUnit.getlocations"><code class="xref py py-meth docutils literal notranslate"><span class="pre">getlocations()</span></code></a>).</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.JsonUnit.gettargetlen">
<code class="descname">gettargetlen</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.jsonl10n.JsonUnit.gettargetlen" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the length of the target string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">Integer</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Plural forms might be combined.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.JsonUnit.getunits">
<code class="descname">getunits</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.jsonl10n.JsonUnit.getunits" title="Permalink to this definition">¶</a></dt>
<dd><p>This unit in a list.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.JsonUnit.getvalue">
<code class="descname">getvalue</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.jsonl10n.JsonUnit.getvalue" title="Permalink to this definition">¶</a></dt>
<dd><p>Return value to be stored in JSON file.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.JsonUnit.hasplural">
<code class="descname">hasplural</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.jsonl10n.JsonUnit.hasplural" title="Permalink to this definition">¶</a></dt>
<dd><p>Tells whether or not this specific unit has plural strings.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.JsonUnit.infer_state">
<code class="descname">infer_state</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.jsonl10n.JsonUnit.infer_state" title="Permalink to this definition">¶</a></dt>
<dd><p>Empty method that should be overridden in sub-classes to infer the
current state(_n) of the unit from its current state.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.JsonUnit.isblank">
<code class="descname">isblank</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.jsonl10n.JsonUnit.isblank" title="Permalink to this definition">¶</a></dt>
<dd><p>Used to see if this unit has no source or target string.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This is probably used more to find translatable units,
and we might want to move in that direction rather and
get rid of this.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.JsonUnit.isfuzzy">
<code class="descname">isfuzzy</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.jsonl10n.JsonUnit.isfuzzy" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit is fuzzy.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.JsonUnit.isheader">
<code class="descname">isheader</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.jsonl10n.JsonUnit.isheader" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit is a header.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.JsonUnit.isobsolete">
<code class="descname">isobsolete</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.jsonl10n.JsonUnit.isobsolete" title="Permalink to this definition">¶</a></dt>
<dd><p>indicate whether a unit is obsolete</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.JsonUnit.isreview">
<code class="descname">isreview</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.jsonl10n.JsonUnit.isreview" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit needs review.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.JsonUnit.istranslatable">
<code class="descname">istranslatable</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.jsonl10n.JsonUnit.istranslatable" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit can be translated.</p>
<p>This should be used to distinguish real units for translation from
header, obsolete, binary or other blank units.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.JsonUnit.istranslated">
<code class="descname">istranslated</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.jsonl10n.JsonUnit.istranslated" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit is translated.</p>
<p>This should be used rather than deducing it from .target,
to ensure that other classes can implement more functionality
(as XLIFF does).</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.JsonUnit.makeobsolete">
<code class="descname">makeobsolete</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.jsonl10n.JsonUnit.makeobsolete" title="Permalink to this definition">¶</a></dt>
<dd><p>Make a unit obsolete</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.JsonUnit.markfuzzy">
<code class="descname">markfuzzy</code><span class="sig-paren">(</span><em>value=True</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.jsonl10n.JsonUnit.markfuzzy" title="Permalink to this definition">¶</a></dt>
<dd><p>Marks the unit as fuzzy or not.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.JsonUnit.markreviewneeded">
<code class="descname">markreviewneeded</code><span class="sig-paren">(</span><em>needsreview=True</em>, <em>explanation=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.jsonl10n.JsonUnit.markreviewneeded" title="Permalink to this definition">¶</a></dt>
<dd><p>Marks the unit to indicate whether it needs review.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>needsreview</strong> – Defaults to True.</li>
<li><strong>explanation</strong> – Adds an optional explanation as a note.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.JsonUnit.merge">
<code class="descname">merge</code><span class="sig-paren">(</span><em>otherunit</em>, <em>overwrite=False</em>, <em>comments=True</em>, <em>authoritative=False</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.jsonl10n.JsonUnit.merge" title="Permalink to this definition">¶</a></dt>
<dd><p>Do basic format agnostic merging.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.JsonUnit.multistring_to_rich">
<code class="descname">multistring_to_rich</code><span class="sig-paren">(</span><em>mulstring</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.jsonl10n.JsonUnit.multistring_to_rich" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a multistring to a list of “rich” string trees:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">target</span> <span class="o">=</span> <span class="n">multistring</span><span class="p">([</span><span class="sa">u</span><span class="s1">&#39;foo&#39;</span><span class="p">,</span> <span class="sa">u</span><span class="s1">&#39;bar&#39;</span><span class="p">,</span> <span class="sa">u</span><span class="s1">&#39;baz&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">TranslationUnit</span><span class="o">.</span><span class="n">multistring_to_rich</span><span class="p">(</span><span class="n">target</span><span class="p">)</span>
<span class="go">[&lt;StringElem([&lt;StringElem([u&#39;foo&#39;])&gt;])&gt;,</span>
<span class="go"> &lt;StringElem([&lt;StringElem([u&#39;bar&#39;])&gt;])&gt;,</span>
<span class="go"> &lt;StringElem([&lt;StringElem([u&#39;baz&#39;])&gt;])&gt;]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.JsonUnit.removenotes">
<code class="descname">removenotes</code><span class="sig-paren">(</span><em>origin=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.jsonl10n.JsonUnit.removenotes" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove all the translator’s notes.</p>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.jsonl10n.JsonUnit.rich_source">
<code class="descname">rich_source</code><a class="headerlink" href="#translate.storage.jsonl10n.JsonUnit.rich_source" title="Permalink to this definition">¶</a></dt>
<dd><div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="#translate.storage.jsonl10n.JsonUnit.rich_to_multistring" title="translate.storage.jsonl10n.JsonUnit.rich_to_multistring"><code class="xref py py-meth docutils literal notranslate"><span class="pre">rich_to_multistring()</span></code></a>, <a class="reference internal" href="#translate.storage.jsonl10n.JsonUnit.multistring_to_rich" title="translate.storage.jsonl10n.JsonUnit.multistring_to_rich"><code class="xref py py-meth docutils literal notranslate"><span class="pre">multistring_to_rich()</span></code></a></p>
</div>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.jsonl10n.JsonUnit.rich_target">
<code class="descname">rich_target</code><a class="headerlink" href="#translate.storage.jsonl10n.JsonUnit.rich_target" title="Permalink to this definition">¶</a></dt>
<dd><div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="#translate.storage.jsonl10n.JsonUnit.rich_to_multistring" title="translate.storage.jsonl10n.JsonUnit.rich_to_multistring"><code class="xref py py-meth docutils literal notranslate"><span class="pre">rich_to_multistring()</span></code></a>, <a class="reference internal" href="#translate.storage.jsonl10n.JsonUnit.multistring_to_rich" title="translate.storage.jsonl10n.JsonUnit.multistring_to_rich"><code class="xref py py-meth docutils literal notranslate"><span class="pre">multistring_to_rich()</span></code></a></p>
</div>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.jsonl10n.JsonUnit.rich_to_multistring">
<em class="property">classmethod </em><code class="descname">rich_to_multistring</code><span class="sig-paren">(</span><em>elem_list</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.jsonl10n.JsonUnit.rich_to_multistring" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a “rich” string tree to a <code class="docutils literal notranslate"><span class="pre">multistring</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">translate.storage.placeables.interfaces</span> <span class="kn">import</span> <span class="n">X</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rich</span> <span class="o">=</span> <span class="p">[</span><span class="n">StringElem</span><span class="p">([</span><span class="s1">&#39;foo&#39;</span><span class="p">,</span> <span class="n">X</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="s1">&#39;xxx&#39;</span><span class="p">,</span> <span class="n">sub</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39; &#39;</span><span class="p">]),</span> <span class="s1">&#39;bar&#39;</span><span class="p">])]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">TranslationUnit</span><span class="o">.</span><span class="n">rich_to_multistring</span><span class="p">(</span><span class="n">rich</span><span class="p">)</span>
<span class="go">multistring(u&#39;foo bar&#39;)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.JsonUnit.setcontext">
<code class="descname">setcontext</code><span class="sig-paren">(</span><em>context</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.jsonl10n.JsonUnit.setcontext" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the message context</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.JsonUnit.setid">
<code class="descname">setid</code><span class="sig-paren">(</span><em>value</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.jsonl10n.JsonUnit.setid" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the unique identified for this unit.</p>
<p>only implemented if format allows ids independant from other unit
properties like source or context</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.JsonUnit.unit_iter">
<code class="descname">unit_iter</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.jsonl10n.JsonUnit.unit_iter" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterator that only returns this unit.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="translate.storage.jsonl10n.WebExtensionJsonFile">
<em class="property">class </em><code class="descclassname">translate.storage.jsonl10n.</code><code class="descname">WebExtensionJsonFile</code><span class="sig-paren">(</span><em>inputfile=None</em>, <em>filter=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.jsonl10n.WebExtensionJsonFile" title="Permalink to this definition">¶</a></dt>
<dd><p>WebExtension JSON file</p>
<p>See following URLs for doc:</p>
<p><a class="reference external" href="https://developer.chrome.com/extensions/i18n">https://developer.chrome.com/extensions/i18n</a>
<a class="reference external" href="https://developer.mozilla.org/en-US/Add-ons/WebExtensions/Internationalization">https://developer.mozilla.org/en-US/Add-ons/WebExtensions/Internationalization</a></p>
<dl class="attribute">
<dt id="translate.storage.jsonl10n.WebExtensionJsonFile.UnitClass">
<code class="descname">UnitClass</code><a class="headerlink" href="#translate.storage.jsonl10n.WebExtensionJsonFile.UnitClass" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <a class="reference internal" href="#translate.storage.jsonl10n.WebExtensionJsonUnit" title="translate.storage.jsonl10n.WebExtensionJsonUnit"><code class="xref py py-class docutils literal notranslate"><span class="pre">WebExtensionJsonUnit</span></code></a></p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.WebExtensionJsonFile.add_unit_to_index">
<code class="descname">add_unit_to_index</code><span class="sig-paren">(</span><em>unit</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.jsonl10n.WebExtensionJsonFile.add_unit_to_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a unit to source and location idexes</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.WebExtensionJsonFile.addsourceunit">
<code class="descname">addsourceunit</code><span class="sig-paren">(</span><em>source</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.jsonl10n.WebExtensionJsonFile.addsourceunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Add and returns a new unit with the given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><code class="xref py py-class docutils literal notranslate"><span class="pre">TranslationUnit</span></code></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.WebExtensionJsonFile.addunit">
<code class="descname">addunit</code><span class="sig-paren">(</span><em>unit</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.jsonl10n.WebExtensionJsonFile.addunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Append the given unit to the object’s list of units.</p>
<p>This method should always be used rather than trying to modify the
list manually.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>unit</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">TranslationUnit</span></code>) – The unit that will be added.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.WebExtensionJsonFile.detect_encoding">
<code class="descname">detect_encoding</code><span class="sig-paren">(</span><em>text</em>, <em>default_encodings=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.jsonl10n.WebExtensionJsonFile.detect_encoding" title="Permalink to this definition">¶</a></dt>
<dd><p>Try to detect a file encoding from <cite>text</cite>, using either the chardet lib
or by trying to decode the file.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.WebExtensionJsonFile.fallback_detection">
<code class="descname">fallback_detection</code><span class="sig-paren">(</span><em>text</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.jsonl10n.WebExtensionJsonFile.fallback_detection" title="Permalink to this definition">¶</a></dt>
<dd><p>Simple detection based on BOM in case chardet is not available.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.WebExtensionJsonFile.findid">
<code class="descname">findid</code><span class="sig-paren">(</span><em>id</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.jsonl10n.WebExtensionJsonFile.findid" title="Permalink to this definition">¶</a></dt>
<dd><p>find unit with matching id by checking id_index</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.WebExtensionJsonFile.findunit">
<code class="descname">findunit</code><span class="sig-paren">(</span><em>source</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.jsonl10n.WebExtensionJsonFile.findunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the unit with the given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><code class="xref py py-class docutils literal notranslate"><span class="pre">TranslationUnit</span></code> or None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.WebExtensionJsonFile.findunits">
<code class="descname">findunits</code><span class="sig-paren">(</span><em>source</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.jsonl10n.WebExtensionJsonFile.findunits" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the units with the given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><code class="xref py py-class docutils literal notranslate"><span class="pre">TranslationUnit</span></code> or None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.WebExtensionJsonFile.getids">
<code class="descname">getids</code><span class="sig-paren">(</span><em>filename=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.jsonl10n.WebExtensionJsonFile.getids" title="Permalink to this definition">¶</a></dt>
<dd><p>return a list of unit ids</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.WebExtensionJsonFile.getprojectstyle">
<code class="descname">getprojectstyle</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.jsonl10n.WebExtensionJsonFile.getprojectstyle" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the project type for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.WebExtensionJsonFile.getsourcelanguage">
<code class="descname">getsourcelanguage</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.jsonl10n.WebExtensionJsonFile.getsourcelanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the source language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.WebExtensionJsonFile.gettargetlanguage">
<code class="descname">gettargetlanguage</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.jsonl10n.WebExtensionJsonFile.gettargetlanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the target language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.WebExtensionJsonFile.getunits">
<code class="descname">getunits</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.jsonl10n.WebExtensionJsonFile.getunits" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of all units in this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.WebExtensionJsonFile.isempty">
<code class="descname">isempty</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.jsonl10n.WebExtensionJsonFile.isempty" title="Permalink to this definition">¶</a></dt>
<dd><p>Return True if the object doesn’t contain any translation units.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.WebExtensionJsonFile.makeindex">
<code class="descname">makeindex</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.jsonl10n.WebExtensionJsonFile.makeindex" title="Permalink to this definition">¶</a></dt>
<dd><p>Indexes the items in this store. At least .sourceindex should be
useful.</p>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.jsonl10n.WebExtensionJsonFile.merge_on">
<code class="descname">merge_on</code><a class="headerlink" href="#translate.storage.jsonl10n.WebExtensionJsonFile.merge_on" title="Permalink to this definition">¶</a></dt>
<dd><p>The matching criterion to use when merging on.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The default matching criterion for all the subclasses.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">string</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.WebExtensionJsonFile.parse">
<code class="descname">parse</code><span class="sig-paren">(</span><em>input</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.jsonl10n.WebExtensionJsonFile.parse" title="Permalink to this definition">¶</a></dt>
<dd><p>parse the given file or file source string</p>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.jsonl10n.WebExtensionJsonFile.parsefile">
<em class="property">classmethod </em><code class="descname">parsefile</code><span class="sig-paren">(</span><em>storefile</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.jsonl10n.WebExtensionJsonFile.parsefile" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads the given file (or opens the given filename) and parses back
to an object.</p>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.jsonl10n.WebExtensionJsonFile.parsestring">
<em class="property">classmethod </em><code class="descname">parsestring</code><span class="sig-paren">(</span><em>storestring</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.jsonl10n.WebExtensionJsonFile.parsestring" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert the string representation back to an object.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.WebExtensionJsonFile.remove_unit_from_index">
<code class="descname">remove_unit_from_index</code><span class="sig-paren">(</span><em>unit</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.jsonl10n.WebExtensionJsonFile.remove_unit_from_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove a unit from source and locaton indexes</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.WebExtensionJsonFile.require_index">
<code class="descname">require_index</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.jsonl10n.WebExtensionJsonFile.require_index" title="Permalink to this definition">¶</a></dt>
<dd><p>make sure source index exists</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.WebExtensionJsonFile.save">
<code class="descname">save</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.jsonl10n.WebExtensionJsonFile.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Save to the file that data was originally read from, if available.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.WebExtensionJsonFile.savefile">
<code class="descname">savefile</code><span class="sig-paren">(</span><em>storefile</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.jsonl10n.WebExtensionJsonFile.savefile" title="Permalink to this definition">¶</a></dt>
<dd><p>Write the string representation to the given file (or filename).</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.WebExtensionJsonFile.serialize">
<code class="descname">serialize</code><span class="sig-paren">(</span><em>out</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.jsonl10n.WebExtensionJsonFile.serialize" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts to a bytes representation that can be parsed back using
<a class="reference internal" href="#translate.storage.base.TranslationStore.parsestring" title="translate.storage.base.TranslationStore.parsestring"><code class="xref py py-meth docutils literal notranslate"><span class="pre">parsestring()</span></code></a>.
<cite>out</cite> should be an open file-like objects to write to.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.WebExtensionJsonFile.setprojectstyle">
<code class="descname">setprojectstyle</code><span class="sig-paren">(</span><em>project_style</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.jsonl10n.WebExtensionJsonFile.setprojectstyle" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the project type for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.WebExtensionJsonFile.setsourcelanguage">
<code class="descname">setsourcelanguage</code><span class="sig-paren">(</span><em>sourcelanguage</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.jsonl10n.WebExtensionJsonFile.setsourcelanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the source language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.WebExtensionJsonFile.settargetlanguage">
<code class="descname">settargetlanguage</code><span class="sig-paren">(</span><em>targetlanguage</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.jsonl10n.WebExtensionJsonFile.settargetlanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the target language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.WebExtensionJsonFile.translate">
<code class="descname">translate</code><span class="sig-paren">(</span><em>source</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.jsonl10n.WebExtensionJsonFile.translate" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the translated string for a given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">String or <a class="reference external" href="https://docs.python.org/2.7/library/constants.html#None" title="(in Python v2.7)">None</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.WebExtensionJsonFile.unit_iter">
<code class="descname">unit_iter</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.jsonl10n.WebExtensionJsonFile.unit_iter" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterator over all the units in this store.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="translate.storage.jsonl10n.WebExtensionJsonUnit">
<em class="property">class </em><code class="descclassname">translate.storage.jsonl10n.</code><code class="descname">WebExtensionJsonUnit</code><span class="sig-paren">(</span><em>source=None</em>, <em>item=None</em>, <em>notes=None</em>, <em>placeholders=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.jsonl10n.WebExtensionJsonUnit" title="Permalink to this definition">¶</a></dt>
<dd><dl class="method">
<dt id="translate.storage.jsonl10n.WebExtensionJsonUnit.adderror">
<code class="descname">adderror</code><span class="sig-paren">(</span><em>errorname</em>, <em>errortext</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.jsonl10n.WebExtensionJsonUnit.adderror" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds an error message to this unit.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>errorname</strong> (<em>string</em>) – A single word to id the error.</li>
<li><strong>errortext</strong> (<em>string</em>) – The text describing the error.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.WebExtensionJsonUnit.addlocation">
<code class="descname">addlocation</code><span class="sig-paren">(</span><em>location</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.jsonl10n.WebExtensionJsonUnit.addlocation" title="Permalink to this definition">¶</a></dt>
<dd><p>Add one location to the list of locations.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Shouldn’t be implemented if the format doesn’t support it.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.WebExtensionJsonUnit.addlocations">
<code class="descname">addlocations</code><span class="sig-paren">(</span><em>location</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.jsonl10n.WebExtensionJsonUnit.addlocations" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a location or a list of locations.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Most classes shouldn’t need to implement this, but should rather
implement <code class="xref py py-meth docutils literal notranslate"><span class="pre">TranslationUnit.addlocation()</span></code>.</p>
</div>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">This method might be removed in future.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.WebExtensionJsonUnit.addnote">
<code class="descname">addnote</code><span class="sig-paren">(</span><em>text</em>, <em>origin=None</em>, <em>position='append'</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.jsonl10n.WebExtensionJsonUnit.addnote" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds a note (comment).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>text</strong> (<em>string</em>) – Usually just a sentence or two.</li>
<li><strong>origin</strong> (<em>string</em>) – Specifies who/where the comment comes from.
Origin can be one of the following text strings:
- ‘translator’
- ‘developer’, ‘programmer’, ‘source code’ (synonyms)</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.jsonl10n.WebExtensionJsonUnit.buildfromunit">
<em class="property">classmethod </em><code class="descname">buildfromunit</code><span class="sig-paren">(</span><em>unit</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.jsonl10n.WebExtensionJsonUnit.buildfromunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Build a native unit from a foreign unit, preserving as much
information as possible.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.WebExtensionJsonUnit.getcontext">
<code class="descname">getcontext</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.jsonl10n.WebExtensionJsonUnit.getcontext" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the message context.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.WebExtensionJsonUnit.geterrors">
<code class="descname">geterrors</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.jsonl10n.WebExtensionJsonUnit.geterrors" title="Permalink to this definition">¶</a></dt>
<dd><p>Get all error messages.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">Dictionary</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.WebExtensionJsonUnit.getid">
<code class="descname">getid</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.jsonl10n.WebExtensionJsonUnit.getid" title="Permalink to this definition">¶</a></dt>
<dd><p>A unique identifier for this unit.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">string</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">an identifier for this unit that is unique in the store</td>
</tr>
</tbody>
</table>
<p>Derived classes should override this in a way that guarantees a unique
identifier for each unit in the store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.WebExtensionJsonUnit.getlocations">
<code class="descname">getlocations</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.jsonl10n.WebExtensionJsonUnit.getlocations" title="Permalink to this definition">¶</a></dt>
<dd><p>A list of source code locations.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">List</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Shouldn’t be implemented if the format doesn’t support it.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.WebExtensionJsonUnit.getnotes">
<code class="descname">getnotes</code><span class="sig-paren">(</span><em>origin=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.jsonl10n.WebExtensionJsonUnit.getnotes" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns all notes about this unit.</p>
<p>It will probably be freeform text or something reasonable that can be
synthesised by the format.
It should not include location comments (see
<a class="reference internal" href="#translate.storage.base.TranslationUnit.getlocations" title="translate.storage.base.TranslationUnit.getlocations"><code class="xref py py-meth docutils literal notranslate"><span class="pre">getlocations()</span></code></a>).</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.WebExtensionJsonUnit.gettargetlen">
<code class="descname">gettargetlen</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.jsonl10n.WebExtensionJsonUnit.gettargetlen" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the length of the target string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">Integer</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Plural forms might be combined.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.WebExtensionJsonUnit.getunits">
<code class="descname">getunits</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.jsonl10n.WebExtensionJsonUnit.getunits" title="Permalink to this definition">¶</a></dt>
<dd><p>This unit in a list.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.WebExtensionJsonUnit.getvalue">
<code class="descname">getvalue</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.jsonl10n.WebExtensionJsonUnit.getvalue" title="Permalink to this definition">¶</a></dt>
<dd><p>Return value to be stored in JSON file.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.WebExtensionJsonUnit.hasplural">
<code class="descname">hasplural</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.jsonl10n.WebExtensionJsonUnit.hasplural" title="Permalink to this definition">¶</a></dt>
<dd><p>Tells whether or not this specific unit has plural strings.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.WebExtensionJsonUnit.infer_state">
<code class="descname">infer_state</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.jsonl10n.WebExtensionJsonUnit.infer_state" title="Permalink to this definition">¶</a></dt>
<dd><p>Empty method that should be overridden in sub-classes to infer the
current state(_n) of the unit from its current state.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.WebExtensionJsonUnit.isblank">
<code class="descname">isblank</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.jsonl10n.WebExtensionJsonUnit.isblank" title="Permalink to this definition">¶</a></dt>
<dd><p>Used to see if this unit has no source or target string.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This is probably used more to find translatable units,
and we might want to move in that direction rather and
get rid of this.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.WebExtensionJsonUnit.isfuzzy">
<code class="descname">isfuzzy</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.jsonl10n.WebExtensionJsonUnit.isfuzzy" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit is fuzzy.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.WebExtensionJsonUnit.isheader">
<code class="descname">isheader</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.jsonl10n.WebExtensionJsonUnit.isheader" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit is a header.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.WebExtensionJsonUnit.isobsolete">
<code class="descname">isobsolete</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.jsonl10n.WebExtensionJsonUnit.isobsolete" title="Permalink to this definition">¶</a></dt>
<dd><p>indicate whether a unit is obsolete</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.WebExtensionJsonUnit.isreview">
<code class="descname">isreview</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.jsonl10n.WebExtensionJsonUnit.isreview" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit needs review.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.WebExtensionJsonUnit.istranslatable">
<code class="descname">istranslatable</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.jsonl10n.WebExtensionJsonUnit.istranslatable" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit can be translated.</p>
<p>This should be used to distinguish real units for translation from
header, obsolete, binary or other blank units.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.WebExtensionJsonUnit.istranslated">
<code class="descname">istranslated</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.jsonl10n.WebExtensionJsonUnit.istranslated" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit is translated.</p>
<p>This should be used rather than deducing it from .target,
to ensure that other classes can implement more functionality
(as XLIFF does).</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.WebExtensionJsonUnit.makeobsolete">
<code class="descname">makeobsolete</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.jsonl10n.WebExtensionJsonUnit.makeobsolete" title="Permalink to this definition">¶</a></dt>
<dd><p>Make a unit obsolete</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.WebExtensionJsonUnit.markfuzzy">
<code class="descname">markfuzzy</code><span class="sig-paren">(</span><em>value=True</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.jsonl10n.WebExtensionJsonUnit.markfuzzy" title="Permalink to this definition">¶</a></dt>
<dd><p>Marks the unit as fuzzy or not.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.WebExtensionJsonUnit.markreviewneeded">
<code class="descname">markreviewneeded</code><span class="sig-paren">(</span><em>needsreview=True</em>, <em>explanation=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.jsonl10n.WebExtensionJsonUnit.markreviewneeded" title="Permalink to this definition">¶</a></dt>
<dd><p>Marks the unit to indicate whether it needs review.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>needsreview</strong> – Defaults to True.</li>
<li><strong>explanation</strong> – Adds an optional explanation as a note.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.WebExtensionJsonUnit.merge">
<code class="descname">merge</code><span class="sig-paren">(</span><em>otherunit</em>, <em>overwrite=False</em>, <em>comments=True</em>, <em>authoritative=False</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.jsonl10n.WebExtensionJsonUnit.merge" title="Permalink to this definition">¶</a></dt>
<dd><p>Do basic format agnostic merging.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.WebExtensionJsonUnit.multistring_to_rich">
<code class="descname">multistring_to_rich</code><span class="sig-paren">(</span><em>mulstring</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.jsonl10n.WebExtensionJsonUnit.multistring_to_rich" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a multistring to a list of “rich” string trees:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">target</span> <span class="o">=</span> <span class="n">multistring</span><span class="p">([</span><span class="sa">u</span><span class="s1">&#39;foo&#39;</span><span class="p">,</span> <span class="sa">u</span><span class="s1">&#39;bar&#39;</span><span class="p">,</span> <span class="sa">u</span><span class="s1">&#39;baz&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">TranslationUnit</span><span class="o">.</span><span class="n">multistring_to_rich</span><span class="p">(</span><span class="n">target</span><span class="p">)</span>
<span class="go">[&lt;StringElem([&lt;StringElem([u&#39;foo&#39;])&gt;])&gt;,</span>
<span class="go"> &lt;StringElem([&lt;StringElem([u&#39;bar&#39;])&gt;])&gt;,</span>
<span class="go"> &lt;StringElem([&lt;StringElem([u&#39;baz&#39;])&gt;])&gt;]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.WebExtensionJsonUnit.removenotes">
<code class="descname">removenotes</code><span class="sig-paren">(</span><em>origin=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.jsonl10n.WebExtensionJsonUnit.removenotes" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove all the translator’s notes.</p>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.jsonl10n.WebExtensionJsonUnit.rich_source">
<code class="descname">rich_source</code><a class="headerlink" href="#translate.storage.jsonl10n.WebExtensionJsonUnit.rich_source" title="Permalink to this definition">¶</a></dt>
<dd><div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="#translate.storage.jsonl10n.WebExtensionJsonUnit.rich_to_multistring" title="translate.storage.jsonl10n.WebExtensionJsonUnit.rich_to_multistring"><code class="xref py py-meth docutils literal notranslate"><span class="pre">rich_to_multistring()</span></code></a>, <a class="reference internal" href="#translate.storage.jsonl10n.WebExtensionJsonUnit.multistring_to_rich" title="translate.storage.jsonl10n.WebExtensionJsonUnit.multistring_to_rich"><code class="xref py py-meth docutils literal notranslate"><span class="pre">multistring_to_rich()</span></code></a></p>
</div>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.jsonl10n.WebExtensionJsonUnit.rich_target">
<code class="descname">rich_target</code><a class="headerlink" href="#translate.storage.jsonl10n.WebExtensionJsonUnit.rich_target" title="Permalink to this definition">¶</a></dt>
<dd><div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="#translate.storage.jsonl10n.WebExtensionJsonUnit.rich_to_multistring" title="translate.storage.jsonl10n.WebExtensionJsonUnit.rich_to_multistring"><code class="xref py py-meth docutils literal notranslate"><span class="pre">rich_to_multistring()</span></code></a>, <a class="reference internal" href="#translate.storage.jsonl10n.WebExtensionJsonUnit.multistring_to_rich" title="translate.storage.jsonl10n.WebExtensionJsonUnit.multistring_to_rich"><code class="xref py py-meth docutils literal notranslate"><span class="pre">multistring_to_rich()</span></code></a></p>
</div>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.jsonl10n.WebExtensionJsonUnit.rich_to_multistring">
<em class="property">classmethod </em><code class="descname">rich_to_multistring</code><span class="sig-paren">(</span><em>elem_list</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.jsonl10n.WebExtensionJsonUnit.rich_to_multistring" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a “rich” string tree to a <code class="docutils literal notranslate"><span class="pre">multistring</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">translate.storage.placeables.interfaces</span> <span class="kn">import</span> <span class="n">X</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rich</span> <span class="o">=</span> <span class="p">[</span><span class="n">StringElem</span><span class="p">([</span><span class="s1">&#39;foo&#39;</span><span class="p">,</span> <span class="n">X</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="s1">&#39;xxx&#39;</span><span class="p">,</span> <span class="n">sub</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39; &#39;</span><span class="p">]),</span> <span class="s1">&#39;bar&#39;</span><span class="p">])]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">TranslationUnit</span><span class="o">.</span><span class="n">rich_to_multistring</span><span class="p">(</span><span class="n">rich</span><span class="p">)</span>
<span class="go">multistring(u&#39;foo bar&#39;)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.WebExtensionJsonUnit.setcontext">
<code class="descname">setcontext</code><span class="sig-paren">(</span><em>context</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.jsonl10n.WebExtensionJsonUnit.setcontext" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the message context</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.WebExtensionJsonUnit.setid">
<code class="descname">setid</code><span class="sig-paren">(</span><em>value</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.jsonl10n.WebExtensionJsonUnit.setid" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the unique identified for this unit.</p>
<p>only implemented if format allows ids independant from other unit
properties like source or context</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.jsonl10n.WebExtensionJsonUnit.unit_iter">
<code class="descname">unit_iter</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.jsonl10n.WebExtensionJsonUnit.unit_iter" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterator that only returns this unit.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-translate.storage.lisa">
<span id="lisa"></span><h2>lisa<a class="headerlink" href="#module-translate.storage.lisa" title="Permalink to this headline">¶</a></h2>
<p>Parent class for LISA standards (TMX, TBX, XLIFF)</p>
<dl class="class">
<dt id="translate.storage.lisa.LISAfile">
<em class="property">class </em><code class="descclassname">translate.storage.lisa.</code><code class="descname">LISAfile</code><span class="sig-paren">(</span><em>inputfile=None</em>, <em>sourcelanguage='en'</em>, <em>targetlanguage=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.lisa.LISAfile" title="Permalink to this definition">¶</a></dt>
<dd><p>A class representing a file store for one of the LISA file formats.</p>
<dl class="attribute">
<dt id="translate.storage.lisa.LISAfile.UnitClass">
<code class="descname">UnitClass</code><a class="headerlink" href="#translate.storage.lisa.LISAfile.UnitClass" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <a class="reference internal" href="#translate.storage.lisa.LISAunit" title="translate.storage.lisa.LISAunit"><code class="xref py py-class docutils literal notranslate"><span class="pre">LISAunit</span></code></a></p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.lisa.LISAfile.add_unit_to_index">
<code class="descname">add_unit_to_index</code><span class="sig-paren">(</span><em>unit</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.lisa.LISAfile.add_unit_to_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a unit to source and location idexes</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.lisa.LISAfile.addheader">
<code class="descname">addheader</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.lisa.LISAfile.addheader" title="Permalink to this definition">¶</a></dt>
<dd><p>Method to be overridden to initialise headers, etc.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.lisa.LISAfile.addsourceunit">
<code class="descname">addsourceunit</code><span class="sig-paren">(</span><em>source</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.lisa.LISAfile.addsourceunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds and returns a new unit with the given string as first entry.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.lisa.LISAfile.addunit">
<code class="descname">addunit</code><span class="sig-paren">(</span><em>unit</em>, <em>new=True</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.lisa.LISAfile.addunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Append the given unit to the object’s list of units.</p>
<p>This method should always be used rather than trying to modify the
list manually.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>unit</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">TranslationUnit</span></code>) – The unit that will be added.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.lisa.LISAfile.detect_encoding">
<code class="descname">detect_encoding</code><span class="sig-paren">(</span><em>text</em>, <em>default_encodings=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.lisa.LISAfile.detect_encoding" title="Permalink to this definition">¶</a></dt>
<dd><p>Try to detect a file encoding from <cite>text</cite>, using either the chardet lib
or by trying to decode the file.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.lisa.LISAfile.fallback_detection">
<code class="descname">fallback_detection</code><span class="sig-paren">(</span><em>text</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.lisa.LISAfile.fallback_detection" title="Permalink to this definition">¶</a></dt>
<dd><p>Simple detection based on BOM in case chardet is not available.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.lisa.LISAfile.findid">
<code class="descname">findid</code><span class="sig-paren">(</span><em>id</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.lisa.LISAfile.findid" title="Permalink to this definition">¶</a></dt>
<dd><p>find unit with matching id by checking id_index</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.lisa.LISAfile.findunit">
<code class="descname">findunit</code><span class="sig-paren">(</span><em>source</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.lisa.LISAfile.findunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the unit with the given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><code class="xref py py-class docutils literal notranslate"><span class="pre">TranslationUnit</span></code> or None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.lisa.LISAfile.findunits">
<code class="descname">findunits</code><span class="sig-paren">(</span><em>source</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.lisa.LISAfile.findunits" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the units with the given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><code class="xref py py-class docutils literal notranslate"><span class="pre">TranslationUnit</span></code> or None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.lisa.LISAfile.getids">
<code class="descname">getids</code><span class="sig-paren">(</span><em>filename=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.lisa.LISAfile.getids" title="Permalink to this definition">¶</a></dt>
<dd><p>return a list of unit ids</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.lisa.LISAfile.getprojectstyle">
<code class="descname">getprojectstyle</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.lisa.LISAfile.getprojectstyle" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the project type for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.lisa.LISAfile.getsourcelanguage">
<code class="descname">getsourcelanguage</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.lisa.LISAfile.getsourcelanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the source language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.lisa.LISAfile.gettargetlanguage">
<code class="descname">gettargetlanguage</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.lisa.LISAfile.gettargetlanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the target language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.lisa.LISAfile.getunits">
<code class="descname">getunits</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.lisa.LISAfile.getunits" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of all units in this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.lisa.LISAfile.initbody">
<code class="descname">initbody</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.lisa.LISAfile.initbody" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialises self.body so it never needs to be retrieved from the XML
again.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.lisa.LISAfile.isempty">
<code class="descname">isempty</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.lisa.LISAfile.isempty" title="Permalink to this definition">¶</a></dt>
<dd><p>Return True if the object doesn’t contain any translation units.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.lisa.LISAfile.makeindex">
<code class="descname">makeindex</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.lisa.LISAfile.makeindex" title="Permalink to this definition">¶</a></dt>
<dd><p>Indexes the items in this store. At least .sourceindex should be
useful.</p>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.lisa.LISAfile.merge_on">
<code class="descname">merge_on</code><a class="headerlink" href="#translate.storage.lisa.LISAfile.merge_on" title="Permalink to this definition">¶</a></dt>
<dd><p>The matching criterion to use when merging on.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The default matching criterion for all the subclasses.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">string</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.lisa.LISAfile.namespaced">
<code class="descname">namespaced</code><span class="sig-paren">(</span><em>name</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.lisa.LISAfile.namespaced" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns name in Clark notation.</p>
<p>For example <code class="docutils literal notranslate"><span class="pre">namespaced(&quot;source&quot;)</span></code> in an XLIFF document
might return:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span><span class="n">urn</span><span class="p">:</span><span class="n">oasis</span><span class="p">:</span><span class="n">names</span><span class="p">:</span><span class="n">tc</span><span class="p">:</span><span class="n">xliff</span><span class="p">:</span><span class="n">document</span><span class="p">:</span><span class="mf">1.1</span><span class="p">}</span><span class="n">source</span>
</pre></div>
</div>
<p>This is needed throughout lxml.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.lisa.LISAfile.parse">
<code class="descname">parse</code><span class="sig-paren">(</span><em>xml</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.lisa.LISAfile.parse" title="Permalink to this definition">¶</a></dt>
<dd><p>Populates this object from the given xml string</p>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.lisa.LISAfile.parsefile">
<em class="property">classmethod </em><code class="descname">parsefile</code><span class="sig-paren">(</span><em>storefile</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.lisa.LISAfile.parsefile" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads the given file (or opens the given filename) and parses back
to an object.</p>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.lisa.LISAfile.parsestring">
<em class="property">classmethod </em><code class="descname">parsestring</code><span class="sig-paren">(</span><em>storestring</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.lisa.LISAfile.parsestring" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert the string representation back to an object.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.lisa.LISAfile.remove_unit_from_index">
<code class="descname">remove_unit_from_index</code><span class="sig-paren">(</span><em>unit</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.lisa.LISAfile.remove_unit_from_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove a unit from source and locaton indexes</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.lisa.LISAfile.require_index">
<code class="descname">require_index</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.lisa.LISAfile.require_index" title="Permalink to this definition">¶</a></dt>
<dd><p>make sure source index exists</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.lisa.LISAfile.save">
<code class="descname">save</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.lisa.LISAfile.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Save to the file that data was originally read from, if available.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.lisa.LISAfile.savefile">
<code class="descname">savefile</code><span class="sig-paren">(</span><em>storefile</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.lisa.LISAfile.savefile" title="Permalink to this definition">¶</a></dt>
<dd><p>Write the string representation to the given file (or filename).</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.lisa.LISAfile.serialize">
<code class="descname">serialize</code><span class="sig-paren">(</span><em>out=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.lisa.LISAfile.serialize" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts to a string containing the file’s XML</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.lisa.LISAfile.setprojectstyle">
<code class="descname">setprojectstyle</code><span class="sig-paren">(</span><em>project_style</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.lisa.LISAfile.setprojectstyle" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the project type for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.lisa.LISAfile.setsourcelanguage">
<code class="descname">setsourcelanguage</code><span class="sig-paren">(</span><em>sourcelanguage</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.lisa.LISAfile.setsourcelanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the source language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.lisa.LISAfile.settargetlanguage">
<code class="descname">settargetlanguage</code><span class="sig-paren">(</span><em>targetlanguage</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.lisa.LISAfile.settargetlanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the target language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.lisa.LISAfile.translate">
<code class="descname">translate</code><span class="sig-paren">(</span><em>source</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.lisa.LISAfile.translate" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the translated string for a given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">String or <a class="reference external" href="https://docs.python.org/2.7/library/constants.html#None" title="(in Python v2.7)">None</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.lisa.LISAfile.unit_iter">
<code class="descname">unit_iter</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.lisa.LISAfile.unit_iter" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterator over all the units in this store.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="translate.storage.lisa.LISAunit">
<em class="property">class </em><code class="descclassname">translate.storage.lisa.</code><code class="descname">LISAunit</code><span class="sig-paren">(</span><em>source</em>, <em>empty=False</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.lisa.LISAunit" title="Permalink to this definition">¶</a></dt>
<dd><p>A single unit in the file.  Provisional work is done to make several
languages possible.</p>
<dl class="method">
<dt id="translate.storage.lisa.LISAunit.adderror">
<code class="descname">adderror</code><span class="sig-paren">(</span><em>errorname</em>, <em>errortext</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.lisa.LISAunit.adderror" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds an error message to this unit.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>errorname</strong> (<em>string</em>) – A single word to id the error.</li>
<li><strong>errortext</strong> (<em>string</em>) – The text describing the error.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.lisa.LISAunit.addlocation">
<code class="descname">addlocation</code><span class="sig-paren">(</span><em>location</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.lisa.LISAunit.addlocation" title="Permalink to this definition">¶</a></dt>
<dd><p>Add one location to the list of locations.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Shouldn’t be implemented if the format doesn’t support it.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.lisa.LISAunit.addlocations">
<code class="descname">addlocations</code><span class="sig-paren">(</span><em>location</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.lisa.LISAunit.addlocations" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a location or a list of locations.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Most classes shouldn’t need to implement this, but should rather
implement <code class="xref py py-meth docutils literal notranslate"><span class="pre">TranslationUnit.addlocation()</span></code>.</p>
</div>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">This method might be removed in future.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.lisa.LISAunit.addnote">
<code class="descname">addnote</code><span class="sig-paren">(</span><em>text</em>, <em>origin=None</em>, <em>position='append'</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.lisa.LISAunit.addnote" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds a note (comment).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>text</strong> (<em>string</em>) – Usually just a sentence or two.</li>
<li><strong>origin</strong> (<em>string</em>) – Specifies who/where the comment comes from.
Origin can be one of the following text strings:
- ‘translator’
- ‘developer’, ‘programmer’, ‘source code’ (synonyms)</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.lisa.LISAunit.buildfromunit">
<em class="property">classmethod </em><code class="descname">buildfromunit</code><span class="sig-paren">(</span><em>unit</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.lisa.LISAunit.buildfromunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Build a native unit from a foreign unit, preserving as much
information as possible.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.lisa.LISAunit.createlanguageNode">
<code class="descname">createlanguageNode</code><span class="sig-paren">(</span><em>lang</em>, <em>text</em>, <em>purpose=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.lisa.LISAunit.createlanguageNode" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a xml Element setup with given parameters to represent a
single language entry. Has to be overridden.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.lisa.LISAunit.getNodeText">
<code class="descname">getNodeText</code><span class="sig-paren">(</span><em>languageNode</em>, <em>xml_space='preserve'</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.lisa.LISAunit.getNodeText" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieves the term from the given <code class="xref py py-attr docutils literal notranslate"><span class="pre">languageNode</span></code>.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.lisa.LISAunit.getcontext">
<code class="descname">getcontext</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.lisa.LISAunit.getcontext" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the message context.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.lisa.LISAunit.geterrors">
<code class="descname">geterrors</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.lisa.LISAunit.geterrors" title="Permalink to this definition">¶</a></dt>
<dd><p>Get all error messages.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">Dictionary</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.lisa.LISAunit.getid">
<code class="descname">getid</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.lisa.LISAunit.getid" title="Permalink to this definition">¶</a></dt>
<dd><p>A unique identifier for this unit.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">string</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">an identifier for this unit that is unique in the store</td>
</tr>
</tbody>
</table>
<p>Derived classes should override this in a way that guarantees a unique
identifier for each unit in the store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.lisa.LISAunit.getlanguageNode">
<code class="descname">getlanguageNode</code><span class="sig-paren">(</span><em>lang=None</em>, <em>index=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.lisa.LISAunit.getlanguageNode" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieves a <code class="xref py py-attr docutils literal notranslate"><span class="pre">languageNode</span></code> either by language or by index.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.lisa.LISAunit.getlanguageNodes">
<code class="descname">getlanguageNodes</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.lisa.LISAunit.getlanguageNodes" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a list of all nodes that contain per language information.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.lisa.LISAunit.getlocations">
<code class="descname">getlocations</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.lisa.LISAunit.getlocations" title="Permalink to this definition">¶</a></dt>
<dd><p>A list of source code locations.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">List</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Shouldn’t be implemented if the format doesn’t support it.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.lisa.LISAunit.getnotes">
<code class="descname">getnotes</code><span class="sig-paren">(</span><em>origin=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.lisa.LISAunit.getnotes" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns all notes about this unit.</p>
<p>It will probably be freeform text or something reasonable that can be
synthesised by the format.
It should not include location comments (see
<a class="reference internal" href="#translate.storage.base.TranslationUnit.getlocations" title="translate.storage.base.TranslationUnit.getlocations"><code class="xref py py-meth docutils literal notranslate"><span class="pre">getlocations()</span></code></a>).</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.lisa.LISAunit.gettarget">
<code class="descname">gettarget</code><span class="sig-paren">(</span><em>lang=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.lisa.LISAunit.gettarget" title="Permalink to this definition">¶</a></dt>
<dd><p>retrieves the “target” text (second entry), or the entry in the
specified language, if it exists</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.lisa.LISAunit.gettargetlen">
<code class="descname">gettargetlen</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.lisa.LISAunit.gettargetlen" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the length of the target string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">Integer</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Plural forms might be combined.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.lisa.LISAunit.getunits">
<code class="descname">getunits</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.lisa.LISAunit.getunits" title="Permalink to this definition">¶</a></dt>
<dd><p>This unit in a list.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.lisa.LISAunit.hasplural">
<code class="descname">hasplural</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.lisa.LISAunit.hasplural" title="Permalink to this definition">¶</a></dt>
<dd><p>Tells whether or not this specific unit has plural strings.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.lisa.LISAunit.infer_state">
<code class="descname">infer_state</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.lisa.LISAunit.infer_state" title="Permalink to this definition">¶</a></dt>
<dd><p>Empty method that should be overridden in sub-classes to infer the
current state(_n) of the unit from its current state.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.lisa.LISAunit.isblank">
<code class="descname">isblank</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.lisa.LISAunit.isblank" title="Permalink to this definition">¶</a></dt>
<dd><p>Used to see if this unit has no source or target string.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This is probably used more to find translatable units,
and we might want to move in that direction rather and
get rid of this.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.lisa.LISAunit.isfuzzy">
<code class="descname">isfuzzy</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.lisa.LISAunit.isfuzzy" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit is fuzzy.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.lisa.LISAunit.isheader">
<code class="descname">isheader</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.lisa.LISAunit.isheader" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit is a header.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.lisa.LISAunit.isobsolete">
<code class="descname">isobsolete</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.lisa.LISAunit.isobsolete" title="Permalink to this definition">¶</a></dt>
<dd><p>indicate whether a unit is obsolete</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.lisa.LISAunit.isreview">
<code class="descname">isreview</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.lisa.LISAunit.isreview" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit needs review.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.lisa.LISAunit.istranslatable">
<code class="descname">istranslatable</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.lisa.LISAunit.istranslatable" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit can be translated.</p>
<p>This should be used to distinguish real units for translation from
header, obsolete, binary or other blank units.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.lisa.LISAunit.istranslated">
<code class="descname">istranslated</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.lisa.LISAunit.istranslated" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit is translated.</p>
<p>This should be used rather than deducing it from .target,
to ensure that other classes can implement more functionality
(as XLIFF does).</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.lisa.LISAunit.makeobsolete">
<code class="descname">makeobsolete</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.lisa.LISAunit.makeobsolete" title="Permalink to this definition">¶</a></dt>
<dd><p>Make a unit obsolete</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.lisa.LISAunit.markfuzzy">
<code class="descname">markfuzzy</code><span class="sig-paren">(</span><em>value=True</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.lisa.LISAunit.markfuzzy" title="Permalink to this definition">¶</a></dt>
<dd><p>Marks the unit as fuzzy or not.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.lisa.LISAunit.markreviewneeded">
<code class="descname">markreviewneeded</code><span class="sig-paren">(</span><em>needsreview=True</em>, <em>explanation=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.lisa.LISAunit.markreviewneeded" title="Permalink to this definition">¶</a></dt>
<dd><p>Marks the unit to indicate whether it needs review.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>needsreview</strong> – Defaults to True.</li>
<li><strong>explanation</strong> – Adds an optional explanation as a note.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.lisa.LISAunit.merge">
<code class="descname">merge</code><span class="sig-paren">(</span><em>otherunit</em>, <em>overwrite=False</em>, <em>comments=True</em>, <em>authoritative=False</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.lisa.LISAunit.merge" title="Permalink to this definition">¶</a></dt>
<dd><p>Do basic format agnostic merging.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.lisa.LISAunit.multistring_to_rich">
<code class="descname">multistring_to_rich</code><span class="sig-paren">(</span><em>mulstring</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.lisa.LISAunit.multistring_to_rich" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a multistring to a list of “rich” string trees:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">target</span> <span class="o">=</span> <span class="n">multistring</span><span class="p">([</span><span class="sa">u</span><span class="s1">&#39;foo&#39;</span><span class="p">,</span> <span class="sa">u</span><span class="s1">&#39;bar&#39;</span><span class="p">,</span> <span class="sa">u</span><span class="s1">&#39;baz&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">TranslationUnit</span><span class="o">.</span><span class="n">multistring_to_rich</span><span class="p">(</span><span class="n">target</span><span class="p">)</span>
<span class="go">[&lt;StringElem([&lt;StringElem([u&#39;foo&#39;])&gt;])&gt;,</span>
<span class="go"> &lt;StringElem([&lt;StringElem([u&#39;bar&#39;])&gt;])&gt;,</span>
<span class="go"> &lt;StringElem([&lt;StringElem([u&#39;baz&#39;])&gt;])&gt;]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.lisa.LISAunit.namespaced">
<code class="descname">namespaced</code><span class="sig-paren">(</span><em>name</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.lisa.LISAunit.namespaced" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns name in Clark notation.</p>
<p>For example <code class="docutils literal notranslate"><span class="pre">namespaced(&quot;source&quot;)</span></code> in an XLIFF document
might return:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span><span class="n">urn</span><span class="p">:</span><span class="n">oasis</span><span class="p">:</span><span class="n">names</span><span class="p">:</span><span class="n">tc</span><span class="p">:</span><span class="n">xliff</span><span class="p">:</span><span class="n">document</span><span class="p">:</span><span class="mf">1.1</span><span class="p">}</span><span class="n">source</span>
</pre></div>
</div>
<p>This is needed throughout lxml.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.lisa.LISAunit.removenotes">
<code class="descname">removenotes</code><span class="sig-paren">(</span><em>origin=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.lisa.LISAunit.removenotes" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove all the translator’s notes.</p>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.lisa.LISAunit.rich_source">
<code class="descname">rich_source</code><a class="headerlink" href="#translate.storage.lisa.LISAunit.rich_source" title="Permalink to this definition">¶</a></dt>
<dd><div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="#translate.storage.lisa.LISAunit.rich_to_multistring" title="translate.storage.lisa.LISAunit.rich_to_multistring"><code class="xref py py-meth docutils literal notranslate"><span class="pre">rich_to_multistring()</span></code></a>, <a class="reference internal" href="#translate.storage.lisa.LISAunit.multistring_to_rich" title="translate.storage.lisa.LISAunit.multistring_to_rich"><code class="xref py py-meth docutils literal notranslate"><span class="pre">multistring_to_rich()</span></code></a></p>
</div>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.lisa.LISAunit.rich_target">
<code class="descname">rich_target</code><a class="headerlink" href="#translate.storage.lisa.LISAunit.rich_target" title="Permalink to this definition">¶</a></dt>
<dd><div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="#translate.storage.lisa.LISAunit.rich_to_multistring" title="translate.storage.lisa.LISAunit.rich_to_multistring"><code class="xref py py-meth docutils literal notranslate"><span class="pre">rich_to_multistring()</span></code></a>, <a class="reference internal" href="#translate.storage.lisa.LISAunit.multistring_to_rich" title="translate.storage.lisa.LISAunit.multistring_to_rich"><code class="xref py py-meth docutils literal notranslate"><span class="pre">multistring_to_rich()</span></code></a></p>
</div>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.lisa.LISAunit.rich_to_multistring">
<em class="property">classmethod </em><code class="descname">rich_to_multistring</code><span class="sig-paren">(</span><em>elem_list</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.lisa.LISAunit.rich_to_multistring" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a “rich” string tree to a <code class="docutils literal notranslate"><span class="pre">multistring</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">translate.storage.placeables.interfaces</span> <span class="kn">import</span> <span class="n">X</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rich</span> <span class="o">=</span> <span class="p">[</span><span class="n">StringElem</span><span class="p">([</span><span class="s1">&#39;foo&#39;</span><span class="p">,</span> <span class="n">X</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="s1">&#39;xxx&#39;</span><span class="p">,</span> <span class="n">sub</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39; &#39;</span><span class="p">]),</span> <span class="s1">&#39;bar&#39;</span><span class="p">])]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">TranslationUnit</span><span class="o">.</span><span class="n">rich_to_multistring</span><span class="p">(</span><span class="n">rich</span><span class="p">)</span>
<span class="go">multistring(u&#39;foo bar&#39;)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.lisa.LISAunit.setcontext">
<code class="descname">setcontext</code><span class="sig-paren">(</span><em>context</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.lisa.LISAunit.setcontext" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the message context</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.lisa.LISAunit.setid">
<code class="descname">setid</code><span class="sig-paren">(</span><em>value</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.lisa.LISAunit.setid" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the unique identified for this unit.</p>
<p>only implemented if format allows ids independant from other unit
properties like source or context</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.lisa.LISAunit.settarget">
<code class="descname">settarget</code><span class="sig-paren">(</span><em>target</em>, <em>lang='xx'</em>, <em>append=False</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.lisa.LISAunit.settarget" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the “target” string (second language), or alternatively appends
to the list</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.lisa.LISAunit.unit_iter">
<code class="descname">unit_iter</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.lisa.LISAunit.unit_iter" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterator that only returns this unit.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-translate.storage.mo">
<span id="mo"></span><h2>mo<a class="headerlink" href="#module-translate.storage.mo" title="Permalink to this headline">¶</a></h2>
<p>Module for parsing Gettext .mo files for translation.</p>
<p>The coding of .mo files was produced from <a class="reference external" href="http://www.gnu.org/software/gettext/manual/gettext.html#MO-Files">Gettext documentation</a>,
Pythons msgfmt.py and by observing and testing existing .mo files in the wild.</p>
<p>The hash algorithm is implemented for MO files, this should result in
faster access of the MO file.  The hash is optional for Gettext
and is not needed for reading or writing MO files, in this implementation
it is always on and does produce sometimes different results to Gettext
in very small files.</p>
<dl class="class">
<dt id="translate.storage.mo.mofile">
<em class="property">class </em><code class="descclassname">translate.storage.mo.</code><code class="descname">mofile</code><span class="sig-paren">(</span><em>inputfile=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.mo.mofile" title="Permalink to this definition">¶</a></dt>
<dd><p>A class representing a .mo file.</p>
<dl class="attribute">
<dt id="translate.storage.mo.mofile.UnitClass">
<code class="descname">UnitClass</code><a class="headerlink" href="#translate.storage.mo.mofile.UnitClass" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <a class="reference internal" href="#translate.storage.mo.mounit" title="translate.storage.mo.mounit"><code class="xref py py-class docutils literal notranslate"><span class="pre">mounit</span></code></a></p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.mo.mofile.add_unit_to_index">
<code class="descname">add_unit_to_index</code><span class="sig-paren">(</span><em>unit</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.mo.mofile.add_unit_to_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a unit to source and location idexes</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.mo.mofile.addsourceunit">
<code class="descname">addsourceunit</code><span class="sig-paren">(</span><em>source</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.mo.mofile.addsourceunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Add and returns a new unit with the given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><code class="xref py py-class docutils literal notranslate"><span class="pre">TranslationUnit</span></code></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.mo.mofile.addunit">
<code class="descname">addunit</code><span class="sig-paren">(</span><em>unit</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.mo.mofile.addunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Append the given unit to the object’s list of units.</p>
<p>This method should always be used rather than trying to modify the
list manually.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>unit</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">TranslationUnit</span></code>) – The unit that will be added.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.mo.mofile.detect_encoding">
<code class="descname">detect_encoding</code><span class="sig-paren">(</span><em>text</em>, <em>default_encodings=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.mo.mofile.detect_encoding" title="Permalink to this definition">¶</a></dt>
<dd><p>Try to detect a file encoding from <cite>text</cite>, using either the chardet lib
or by trying to decode the file.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.mo.mofile.fallback_detection">
<code class="descname">fallback_detection</code><span class="sig-paren">(</span><em>text</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.mo.mofile.fallback_detection" title="Permalink to this definition">¶</a></dt>
<dd><p>Simple detection based on BOM in case chardet is not available.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.mo.mofile.findid">
<code class="descname">findid</code><span class="sig-paren">(</span><em>id</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.mo.mofile.findid" title="Permalink to this definition">¶</a></dt>
<dd><p>find unit with matching id by checking id_index</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.mo.mofile.findunit">
<code class="descname">findunit</code><span class="sig-paren">(</span><em>source</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.mo.mofile.findunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the unit with the given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><code class="xref py py-class docutils literal notranslate"><span class="pre">TranslationUnit</span></code> or None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.mo.mofile.findunits">
<code class="descname">findunits</code><span class="sig-paren">(</span><em>source</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.mo.mofile.findunits" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the units with the given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><code class="xref py py-class docutils literal notranslate"><span class="pre">TranslationUnit</span></code> or None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.mo.mofile.getheaderplural">
<code class="descname">getheaderplural</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.mo.mofile.getheaderplural" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the nplural and plural values from the header.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.mo.mofile.getids">
<code class="descname">getids</code><span class="sig-paren">(</span><em>filename=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.mo.mofile.getids" title="Permalink to this definition">¶</a></dt>
<dd><p>return a list of unit ids</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.mo.mofile.getprojectstyle">
<code class="descname">getprojectstyle</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.mo.mofile.getprojectstyle" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the project based on information in the header.</p>
<dl class="docutils">
<dt>The project is determined in the following sequence:</dt>
<dd><ol class="first last arabic simple">
<li>Use the ‘X-Project-Style’ entry in the header.</li>
<li>Use ‘Report-Msgid-Bug-To’ entry</li>
<li>Use the ‘X-Accelerator’ entry</li>
<li>Use the Project ID</li>
<li>Analyse the file itself (not yet implemented)</li>
</ol>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="translate.storage.mo.mofile.getsourcelanguage">
<code class="descname">getsourcelanguage</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.mo.mofile.getsourcelanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the source language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.mo.mofile.gettargetlanguage">
<code class="descname">gettargetlanguage</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.mo.mofile.gettargetlanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the target language based on information in the header.</p>
<dl class="docutils">
<dt>The target language is determined in the following sequence:</dt>
<dd><ol class="first last arabic simple">
<li>Use the ‘Language’ entry in the header.</li>
<li>Poedit’s custom headers.</li>
<li>Analysing the ‘Language-Team’ entry.</li>
</ol>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="translate.storage.mo.mofile.getunits">
<code class="descname">getunits</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.mo.mofile.getunits" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of all units in this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.mo.mofile.header">
<code class="descname">header</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.mo.mofile.header" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the header element, or None. Only the first element is
allowed to be a header. Note that this could still return an empty
header element, if present.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.mo.mofile.init_headers">
<code class="descname">init_headers</code><span class="sig-paren">(</span><em>charset='UTF-8'</em>, <em>encoding='8bit'</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.mo.mofile.init_headers" title="Permalink to this definition">¶</a></dt>
<dd><p>sets default values for po headers</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.mo.mofile.isempty">
<code class="descname">isempty</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.mo.mofile.isempty" title="Permalink to this definition">¶</a></dt>
<dd><p>Return True if the object doesn’t contain any translation units.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.mo.mofile.makeheader">
<code class="descname">makeheader</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.mo.mofile.makeheader" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a header for the given filename.</p>
<p>Check .makeheaderdict() for information on parameters.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.mo.mofile.makeheaderdict">
<code class="descname">makeheaderdict</code><span class="sig-paren">(</span><em>charset='CHARSET'</em>, <em>encoding='ENCODING'</em>, <em>project_id_version=None</em>, <em>pot_creation_date=None</em>, <em>po_revision_date=None</em>, <em>last_translator=None</em>, <em>language_team=None</em>, <em>mime_version=None</em>, <em>plural_forms=None</em>, <em>report_msgid_bugs_to=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.mo.mofile.makeheaderdict" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a header dictionary with useful defaults.</p>
<p>pot_creation_date can be None (current date) or a value (datetime or string)
po_revision_date can be None (form), False (=pot_creation_date), True (=now),
or a value (datetime or string)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">Dictionary with the header items</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">dict of strings</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.mo.mofile.makeindex">
<code class="descname">makeindex</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.mo.mofile.makeindex" title="Permalink to this definition">¶</a></dt>
<dd><p>Indexes the items in this store. At least .sourceindex should be
useful.</p>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.mo.mofile.merge_on">
<code class="descname">merge_on</code><a class="headerlink" href="#translate.storage.mo.mofile.merge_on" title="Permalink to this definition">¶</a></dt>
<dd><p>The matching criterion to use when merging on.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The default matching criterion for all the subclasses.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">string</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.mo.mofile.mergeheaders">
<code class="descname">mergeheaders</code><span class="sig-paren">(</span><em>otherstore</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.mo.mofile.mergeheaders" title="Permalink to this definition">¶</a></dt>
<dd><p>Merges another header with this header.</p>
<p>This header is assumed to be the template.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.mo.mofile.parse">
<code class="descname">parse</code><span class="sig-paren">(</span><em>input</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.mo.mofile.parse" title="Permalink to this definition">¶</a></dt>
<dd><p>parses the given file or file source string</p>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.mo.mofile.parsefile">
<em class="property">classmethod </em><code class="descname">parsefile</code><span class="sig-paren">(</span><em>storefile</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.mo.mofile.parsefile" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads the given file (or opens the given filename) and parses back
to an object.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.mo.mofile.parseheader">
<code class="descname">parseheader</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.mo.mofile.parseheader" title="Permalink to this definition">¶</a></dt>
<dd><p>Parses the PO header and returns the interpreted values as a
dictionary.</p>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.mo.mofile.parsestring">
<em class="property">classmethod </em><code class="descname">parsestring</code><span class="sig-paren">(</span><em>storestring</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.mo.mofile.parsestring" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert the string representation back to an object.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.mo.mofile.remove_unit_from_index">
<code class="descname">remove_unit_from_index</code><span class="sig-paren">(</span><em>unit</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.mo.mofile.remove_unit_from_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove a unit from source and locaton indexes</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.mo.mofile.require_index">
<code class="descname">require_index</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.mo.mofile.require_index" title="Permalink to this definition">¶</a></dt>
<dd><p>make sure source index exists</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.mo.mofile.save">
<code class="descname">save</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.mo.mofile.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Save to the file that data was originally read from, if available.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.mo.mofile.savefile">
<code class="descname">savefile</code><span class="sig-paren">(</span><em>storefile</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.mo.mofile.savefile" title="Permalink to this definition">¶</a></dt>
<dd><p>Write the string representation to the given file (or filename).</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.mo.mofile.serialize">
<code class="descname">serialize</code><span class="sig-paren">(</span><em>out</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.mo.mofile.serialize" title="Permalink to this definition">¶</a></dt>
<dd><p>Output a string representation of the MO data file</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.mo.mofile.setprojectstyle">
<code class="descname">setprojectstyle</code><span class="sig-paren">(</span><em>project_style</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.mo.mofile.setprojectstyle" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the project in the header.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>project_style</strong> (<a class="reference external" href="https://docs.python.org/2.7/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) – the new project</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.mo.mofile.setsourcelanguage">
<code class="descname">setsourcelanguage</code><span class="sig-paren">(</span><em>sourcelanguage</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.mo.mofile.setsourcelanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the source language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.mo.mofile.settargetlanguage">
<code class="descname">settargetlanguage</code><span class="sig-paren">(</span><em>lang</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.mo.mofile.settargetlanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the target language in the header.</p>
<p>This removes any custom Poedit headers if they exist.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>lang</strong> (<a class="reference external" href="https://docs.python.org/2.7/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) – the new target language code</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.mo.mofile.translate">
<code class="descname">translate</code><span class="sig-paren">(</span><em>source</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.mo.mofile.translate" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the translated string for a given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">String or <a class="reference external" href="https://docs.python.org/2.7/library/constants.html#None" title="(in Python v2.7)">None</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.mo.mofile.unit_iter">
<code class="descname">unit_iter</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.mo.mofile.unit_iter" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterator over all the units in this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.mo.mofile.updatecontributor">
<code class="descname">updatecontributor</code><span class="sig-paren">(</span><em>name</em>, <em>email=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.mo.mofile.updatecontributor" title="Permalink to this definition">¶</a></dt>
<dd><p>Add contribution comments if necessary.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.mo.mofile.updateheader">
<code class="descname">updateheader</code><span class="sig-paren">(</span><em>add=False</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.mo.mofile.updateheader" title="Permalink to this definition">¶</a></dt>
<dd><p>Updates the fields in the PO style header.</p>
<p>This will create a header if add == True.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.mo.mofile.updateheaderplural">
<code class="descname">updateheaderplural</code><span class="sig-paren">(</span><em>nplurals</em>, <em>plural</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.mo.mofile.updateheaderplural" title="Permalink to this definition">¶</a></dt>
<dd><p>Update the Plural-Form PO header.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="translate.storage.mo.mounit">
<em class="property">class </em><code class="descclassname">translate.storage.mo.</code><code class="descname">mounit</code><span class="sig-paren">(</span><em>source=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.mo.mounit" title="Permalink to this definition">¶</a></dt>
<dd><p>A class representing a .mo translation message.</p>
<dl class="method">
<dt id="translate.storage.mo.mounit.adderror">
<code class="descname">adderror</code><span class="sig-paren">(</span><em>errorname</em>, <em>errortext</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.mo.mounit.adderror" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds an error message to this unit.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>errorname</strong> (<em>string</em>) – A single word to id the error.</li>
<li><strong>errortext</strong> (<em>string</em>) – The text describing the error.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.mo.mounit.addlocation">
<code class="descname">addlocation</code><span class="sig-paren">(</span><em>location</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.mo.mounit.addlocation" title="Permalink to this definition">¶</a></dt>
<dd><p>Add one location to the list of locations.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Shouldn’t be implemented if the format doesn’t support it.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.mo.mounit.addlocations">
<code class="descname">addlocations</code><span class="sig-paren">(</span><em>location</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.mo.mounit.addlocations" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a location or a list of locations.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Most classes shouldn’t need to implement this, but should rather
implement <code class="xref py py-meth docutils literal notranslate"><span class="pre">TranslationUnit.addlocation()</span></code>.</p>
</div>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">This method might be removed in future.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.mo.mounit.addnote">
<code class="descname">addnote</code><span class="sig-paren">(</span><em>text</em>, <em>origin=None</em>, <em>position='append'</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.mo.mounit.addnote" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds a note (comment).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>text</strong> (<em>string</em>) – Usually just a sentence or two.</li>
<li><strong>origin</strong> (<em>string</em>) – Specifies who/where the comment comes from.
Origin can be one of the following text strings:
- ‘translator’
- ‘developer’, ‘programmer’, ‘source code’ (synonyms)</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.mo.mounit.buildfromunit">
<em class="property">classmethod </em><code class="descname">buildfromunit</code><span class="sig-paren">(</span><em>unit</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.mo.mounit.buildfromunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Build a native unit from a foreign unit, preserving as much
information as possible.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.mo.mounit.getcontext">
<code class="descname">getcontext</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.mo.mounit.getcontext" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the message context</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.mo.mounit.geterrors">
<code class="descname">geterrors</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.mo.mounit.geterrors" title="Permalink to this definition">¶</a></dt>
<dd><p>Get all error messages.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">Dictionary</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.mo.mounit.getid">
<code class="descname">getid</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.mo.mounit.getid" title="Permalink to this definition">¶</a></dt>
<dd><p>A unique identifier for this unit.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">string</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">an identifier for this unit that is unique in the store</td>
</tr>
</tbody>
</table>
<p>Derived classes should override this in a way that guarantees a unique
identifier for each unit in the store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.mo.mounit.getlocations">
<code class="descname">getlocations</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.mo.mounit.getlocations" title="Permalink to this definition">¶</a></dt>
<dd><p>A list of source code locations.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">List</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Shouldn’t be implemented if the format doesn’t support it.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.mo.mounit.getnotes">
<code class="descname">getnotes</code><span class="sig-paren">(</span><em>origin=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.mo.mounit.getnotes" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns all notes about this unit.</p>
<p>It will probably be freeform text or something reasonable that can be
synthesised by the format.
It should not include location comments (see
<a class="reference internal" href="#translate.storage.base.TranslationUnit.getlocations" title="translate.storage.base.TranslationUnit.getlocations"><code class="xref py py-meth docutils literal notranslate"><span class="pre">getlocations()</span></code></a>).</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.mo.mounit.gettargetlen">
<code class="descname">gettargetlen</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.mo.mounit.gettargetlen" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the length of the target string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">Integer</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Plural forms might be combined.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.mo.mounit.getunits">
<code class="descname">getunits</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.mo.mounit.getunits" title="Permalink to this definition">¶</a></dt>
<dd><p>This unit in a list.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.mo.mounit.hasplural">
<code class="descname">hasplural</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.mo.mounit.hasplural" title="Permalink to this definition">¶</a></dt>
<dd><p>Tells whether or not this specific unit has plural strings.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.mo.mounit.infer_state">
<code class="descname">infer_state</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.mo.mounit.infer_state" title="Permalink to this definition">¶</a></dt>
<dd><p>Empty method that should be overridden in sub-classes to infer the
current state(_n) of the unit from its current state.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.mo.mounit.isblank">
<code class="descname">isblank</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.mo.mounit.isblank" title="Permalink to this definition">¶</a></dt>
<dd><p>Used to see if this unit has no source or target string.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This is probably used more to find translatable units,
and we might want to move in that direction rather and
get rid of this.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.mo.mounit.isfuzzy">
<code class="descname">isfuzzy</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.mo.mounit.isfuzzy" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit is fuzzy.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.mo.mounit.isheader">
<code class="descname">isheader</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.mo.mounit.isheader" title="Permalink to this definition">¶</a></dt>
<dd><p>Is this a header entry?</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.mo.mounit.isobsolete">
<code class="descname">isobsolete</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.mo.mounit.isobsolete" title="Permalink to this definition">¶</a></dt>
<dd><p>indicate whether a unit is obsolete</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.mo.mounit.isreview">
<code class="descname">isreview</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.mo.mounit.isreview" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit needs review.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.mo.mounit.istranslatable">
<code class="descname">istranslatable</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.mo.mounit.istranslatable" title="Permalink to this definition">¶</a></dt>
<dd><p>Is this message translateable?</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.mo.mounit.istranslated">
<code class="descname">istranslated</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.mo.mounit.istranslated" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit is translated.</p>
<p>This should be used rather than deducing it from .target,
to ensure that other classes can implement more functionality
(as XLIFF does).</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.mo.mounit.makeobsolete">
<code class="descname">makeobsolete</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.mo.mounit.makeobsolete" title="Permalink to this definition">¶</a></dt>
<dd><p>Make a unit obsolete</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.mo.mounit.markfuzzy">
<code class="descname">markfuzzy</code><span class="sig-paren">(</span><em>value=True</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.mo.mounit.markfuzzy" title="Permalink to this definition">¶</a></dt>
<dd><p>Marks the unit as fuzzy or not.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.mo.mounit.markreviewneeded">
<code class="descname">markreviewneeded</code><span class="sig-paren">(</span><em>needsreview=True</em>, <em>explanation=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.mo.mounit.markreviewneeded" title="Permalink to this definition">¶</a></dt>
<dd><p>Marks the unit to indicate whether it needs review.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>needsreview</strong> – Defaults to True.</li>
<li><strong>explanation</strong> – Adds an optional explanation as a note.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.mo.mounit.merge">
<code class="descname">merge</code><span class="sig-paren">(</span><em>otherunit</em>, <em>overwrite=False</em>, <em>comments=True</em>, <em>authoritative=False</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.mo.mounit.merge" title="Permalink to this definition">¶</a></dt>
<dd><p>Do basic format agnostic merging.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.mo.mounit.multistring_to_rich">
<code class="descname">multistring_to_rich</code><span class="sig-paren">(</span><em>mulstring</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.mo.mounit.multistring_to_rich" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a multistring to a list of “rich” string trees:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">target</span> <span class="o">=</span> <span class="n">multistring</span><span class="p">([</span><span class="sa">u</span><span class="s1">&#39;foo&#39;</span><span class="p">,</span> <span class="sa">u</span><span class="s1">&#39;bar&#39;</span><span class="p">,</span> <span class="sa">u</span><span class="s1">&#39;baz&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">TranslationUnit</span><span class="o">.</span><span class="n">multistring_to_rich</span><span class="p">(</span><span class="n">target</span><span class="p">)</span>
<span class="go">[&lt;StringElem([&lt;StringElem([u&#39;foo&#39;])&gt;])&gt;,</span>
<span class="go"> &lt;StringElem([&lt;StringElem([u&#39;bar&#39;])&gt;])&gt;,</span>
<span class="go"> &lt;StringElem([&lt;StringElem([u&#39;baz&#39;])&gt;])&gt;]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.mo.mounit.removenotes">
<code class="descname">removenotes</code><span class="sig-paren">(</span><em>origin=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.mo.mounit.removenotes" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove all the translator’s notes.</p>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.mo.mounit.rich_source">
<code class="descname">rich_source</code><a class="headerlink" href="#translate.storage.mo.mounit.rich_source" title="Permalink to this definition">¶</a></dt>
<dd><div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="#translate.storage.mo.mounit.rich_to_multistring" title="translate.storage.mo.mounit.rich_to_multistring"><code class="xref py py-meth docutils literal notranslate"><span class="pre">rich_to_multistring()</span></code></a>, <a class="reference internal" href="#translate.storage.mo.mounit.multistring_to_rich" title="translate.storage.mo.mounit.multistring_to_rich"><code class="xref py py-meth docutils literal notranslate"><span class="pre">multistring_to_rich()</span></code></a></p>
</div>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.mo.mounit.rich_target">
<code class="descname">rich_target</code><a class="headerlink" href="#translate.storage.mo.mounit.rich_target" title="Permalink to this definition">¶</a></dt>
<dd><div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="#translate.storage.mo.mounit.rich_to_multistring" title="translate.storage.mo.mounit.rich_to_multistring"><code class="xref py py-meth docutils literal notranslate"><span class="pre">rich_to_multistring()</span></code></a>, <a class="reference internal" href="#translate.storage.mo.mounit.multistring_to_rich" title="translate.storage.mo.mounit.multistring_to_rich"><code class="xref py py-meth docutils literal notranslate"><span class="pre">multistring_to_rich()</span></code></a></p>
</div>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.mo.mounit.rich_to_multistring">
<em class="property">classmethod </em><code class="descname">rich_to_multistring</code><span class="sig-paren">(</span><em>elem_list</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.mo.mounit.rich_to_multistring" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a “rich” string tree to a <code class="docutils literal notranslate"><span class="pre">multistring</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">translate.storage.placeables.interfaces</span> <span class="kn">import</span> <span class="n">X</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rich</span> <span class="o">=</span> <span class="p">[</span><span class="n">StringElem</span><span class="p">([</span><span class="s1">&#39;foo&#39;</span><span class="p">,</span> <span class="n">X</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="s1">&#39;xxx&#39;</span><span class="p">,</span> <span class="n">sub</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39; &#39;</span><span class="p">]),</span> <span class="s1">&#39;bar&#39;</span><span class="p">])]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">TranslationUnit</span><span class="o">.</span><span class="n">rich_to_multistring</span><span class="p">(</span><span class="n">rich</span><span class="p">)</span>
<span class="go">multistring(u&#39;foo bar&#39;)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.mo.mounit.setcontext">
<code class="descname">setcontext</code><span class="sig-paren">(</span><em>context</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.mo.mounit.setcontext" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the message context</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.mo.mounit.setid">
<code class="descname">setid</code><span class="sig-paren">(</span><em>value</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.mo.mounit.setid" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the unique identified for this unit.</p>
<p>only implemented if format allows ids independant from other unit
properties like source or context</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.mo.mounit.unit_iter">
<code class="descname">unit_iter</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.mo.mounit.unit_iter" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterator that only returns this unit.</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="translate.storage.mo.mounpack">
<code class="descclassname">translate.storage.mo.</code><code class="descname">mounpack</code><span class="sig-paren">(</span><em>filename='messages.mo'</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.mo.mounpack" title="Permalink to this definition">¶</a></dt>
<dd><p>Helper to unpack Gettext MO files into a Python string</p>
</dd></dl>

</div>
<div class="section" id="module-translate.storage.mozilla_lang">
<span id="mozilla-lang"></span><h2>mozilla_lang<a class="headerlink" href="#module-translate.storage.mozilla_lang" title="Permalink to this headline">¶</a></h2>
<p>A class to manage Mozilla .lang files.</p>
<p>See <a class="reference external" href="https://github.com/mozilla-l10n/langchecker/wiki/.lang-files-format">https://github.com/mozilla-l10n/langchecker/wiki/.lang-files-format</a> for
specifications on the format.</p>
<dl class="class">
<dt id="translate.storage.mozilla_lang.LangStore">
<em class="property">class </em><code class="descclassname">translate.storage.mozilla_lang.</code><code class="descname">LangStore</code><span class="sig-paren">(</span><em>inputfile=None</em>, <em>mark_active=False</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.mozilla_lang.LangStore" title="Permalink to this definition">¶</a></dt>
<dd><p>We extend TxtFile, since that has a lot of useful stuff for encoding</p>
<dl class="attribute">
<dt id="translate.storage.mozilla_lang.LangStore.UnitClass">
<code class="descname">UnitClass</code><a class="headerlink" href="#translate.storage.mozilla_lang.LangStore.UnitClass" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <a class="reference internal" href="#translate.storage.mozilla_lang.LangUnit" title="translate.storage.mozilla_lang.LangUnit"><code class="xref py py-class docutils literal notranslate"><span class="pre">LangUnit</span></code></a></p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.mozilla_lang.LangStore.add_unit_to_index">
<code class="descname">add_unit_to_index</code><span class="sig-paren">(</span><em>unit</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.mozilla_lang.LangStore.add_unit_to_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a unit to source and location idexes</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.mozilla_lang.LangStore.addsourceunit">
<code class="descname">addsourceunit</code><span class="sig-paren">(</span><em>source</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.mozilla_lang.LangStore.addsourceunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Add and returns a new unit with the given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><code class="xref py py-class docutils literal notranslate"><span class="pre">TranslationUnit</span></code></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.mozilla_lang.LangStore.addunit">
<code class="descname">addunit</code><span class="sig-paren">(</span><em>unit</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.mozilla_lang.LangStore.addunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Append the given unit to the object’s list of units.</p>
<p>This method should always be used rather than trying to modify the
list manually.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>unit</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">TranslationUnit</span></code>) – The unit that will be added.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.mozilla_lang.LangStore.detect_encoding">
<code class="descname">detect_encoding</code><span class="sig-paren">(</span><em>text</em>, <em>default_encodings=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.mozilla_lang.LangStore.detect_encoding" title="Permalink to this definition">¶</a></dt>
<dd><p>Try to detect a file encoding from <cite>text</cite>, using either the chardet lib
or by trying to decode the file.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.mozilla_lang.LangStore.fallback_detection">
<code class="descname">fallback_detection</code><span class="sig-paren">(</span><em>text</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.mozilla_lang.LangStore.fallback_detection" title="Permalink to this definition">¶</a></dt>
<dd><p>Simple detection based on BOM in case chardet is not available.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.mozilla_lang.LangStore.findid">
<code class="descname">findid</code><span class="sig-paren">(</span><em>id</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.mozilla_lang.LangStore.findid" title="Permalink to this definition">¶</a></dt>
<dd><p>find unit with matching id by checking id_index</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.mozilla_lang.LangStore.findunit">
<code class="descname">findunit</code><span class="sig-paren">(</span><em>source</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.mozilla_lang.LangStore.findunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the unit with the given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><code class="xref py py-class docutils literal notranslate"><span class="pre">TranslationUnit</span></code> or None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.mozilla_lang.LangStore.findunits">
<code class="descname">findunits</code><span class="sig-paren">(</span><em>source</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.mozilla_lang.LangStore.findunits" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the units with the given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><code class="xref py py-class docutils literal notranslate"><span class="pre">TranslationUnit</span></code> or None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.mozilla_lang.LangStore.getids">
<code class="descname">getids</code><span class="sig-paren">(</span><em>filename=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.mozilla_lang.LangStore.getids" title="Permalink to this definition">¶</a></dt>
<dd><p>return a list of unit ids</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.mozilla_lang.LangStore.getprojectstyle">
<code class="descname">getprojectstyle</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.mozilla_lang.LangStore.getprojectstyle" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the project type for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.mozilla_lang.LangStore.getsourcelanguage">
<code class="descname">getsourcelanguage</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.mozilla_lang.LangStore.getsourcelanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the source language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.mozilla_lang.LangStore.gettargetlanguage">
<code class="descname">gettargetlanguage</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.mozilla_lang.LangStore.gettargetlanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the target language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.mozilla_lang.LangStore.getunits">
<code class="descname">getunits</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.mozilla_lang.LangStore.getunits" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of all units in this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.mozilla_lang.LangStore.isempty">
<code class="descname">isempty</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.mozilla_lang.LangStore.isempty" title="Permalink to this definition">¶</a></dt>
<dd><p>Return True if the object doesn’t contain any translation units.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.mozilla_lang.LangStore.makeindex">
<code class="descname">makeindex</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.mozilla_lang.LangStore.makeindex" title="Permalink to this definition">¶</a></dt>
<dd><p>Indexes the items in this store. At least .sourceindex should be
useful.</p>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.mozilla_lang.LangStore.merge_on">
<code class="descname">merge_on</code><a class="headerlink" href="#translate.storage.mozilla_lang.LangStore.merge_on" title="Permalink to this definition">¶</a></dt>
<dd><p>The matching criterion to use when merging on.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The default matching criterion for all the subclasses.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">string</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.mozilla_lang.LangStore.parse">
<code class="descname">parse</code><span class="sig-paren">(</span><em>lines</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.mozilla_lang.LangStore.parse" title="Permalink to this definition">¶</a></dt>
<dd><p>Read in text lines and create txtunits from the blocks of text</p>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.mozilla_lang.LangStore.parsefile">
<em class="property">classmethod </em><code class="descname">parsefile</code><span class="sig-paren">(</span><em>storefile</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.mozilla_lang.LangStore.parsefile" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads the given file (or opens the given filename) and parses back
to an object.</p>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.mozilla_lang.LangStore.parsestring">
<em class="property">classmethod </em><code class="descname">parsestring</code><span class="sig-paren">(</span><em>storestring</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.mozilla_lang.LangStore.parsestring" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert the string representation back to an object.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.mozilla_lang.LangStore.remove_unit_from_index">
<code class="descname">remove_unit_from_index</code><span class="sig-paren">(</span><em>unit</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.mozilla_lang.LangStore.remove_unit_from_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove a unit from source and locaton indexes</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.mozilla_lang.LangStore.require_index">
<code class="descname">require_index</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.mozilla_lang.LangStore.require_index" title="Permalink to this definition">¶</a></dt>
<dd><p>make sure source index exists</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.mozilla_lang.LangStore.save">
<code class="descname">save</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.mozilla_lang.LangStore.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Save to the file that data was originally read from, if available.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.mozilla_lang.LangStore.savefile">
<code class="descname">savefile</code><span class="sig-paren">(</span><em>storefile</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.mozilla_lang.LangStore.savefile" title="Permalink to this definition">¶</a></dt>
<dd><p>Write the string representation to the given file (or filename).</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.mozilla_lang.LangStore.serialize">
<code class="descname">serialize</code><span class="sig-paren">(</span><em>out</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.mozilla_lang.LangStore.serialize" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts to a bytes representation that can be parsed back using
<a class="reference internal" href="#translate.storage.base.TranslationStore.parsestring" title="translate.storage.base.TranslationStore.parsestring"><code class="xref py py-meth docutils literal notranslate"><span class="pre">parsestring()</span></code></a>.
<cite>out</cite> should be an open file-like objects to write to.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.mozilla_lang.LangStore.setprojectstyle">
<code class="descname">setprojectstyle</code><span class="sig-paren">(</span><em>project_style</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.mozilla_lang.LangStore.setprojectstyle" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the project type for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.mozilla_lang.LangStore.setsourcelanguage">
<code class="descname">setsourcelanguage</code><span class="sig-paren">(</span><em>sourcelanguage</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.mozilla_lang.LangStore.setsourcelanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the source language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.mozilla_lang.LangStore.settargetlanguage">
<code class="descname">settargetlanguage</code><span class="sig-paren">(</span><em>targetlanguage</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.mozilla_lang.LangStore.settargetlanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the target language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.mozilla_lang.LangStore.translate">
<code class="descname">translate</code><span class="sig-paren">(</span><em>source</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.mozilla_lang.LangStore.translate" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the translated string for a given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">String or <a class="reference external" href="https://docs.python.org/2.7/library/constants.html#None" title="(in Python v2.7)">None</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.mozilla_lang.LangStore.unit_iter">
<code class="descname">unit_iter</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.mozilla_lang.LangStore.unit_iter" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterator over all the units in this store.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="translate.storage.mozilla_lang.LangUnit">
<em class="property">class </em><code class="descclassname">translate.storage.mozilla_lang.</code><code class="descname">LangUnit</code><span class="sig-paren">(</span><em>source=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.mozilla_lang.LangUnit" title="Permalink to this definition">¶</a></dt>
<dd><p>This is just a normal unit with a weird string output</p>
<dl class="method">
<dt id="translate.storage.mozilla_lang.LangUnit.adderror">
<code class="descname">adderror</code><span class="sig-paren">(</span><em>errorname</em>, <em>errortext</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.mozilla_lang.LangUnit.adderror" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds an error message to this unit.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>errorname</strong> (<em>string</em>) – A single word to id the error.</li>
<li><strong>errortext</strong> (<em>string</em>) – The text describing the error.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.mozilla_lang.LangUnit.addlocation">
<code class="descname">addlocation</code><span class="sig-paren">(</span><em>location</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.mozilla_lang.LangUnit.addlocation" title="Permalink to this definition">¶</a></dt>
<dd><p>Add one location to the list of locations.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Shouldn’t be implemented if the format doesn’t support it.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.mozilla_lang.LangUnit.addlocations">
<code class="descname">addlocations</code><span class="sig-paren">(</span><em>location</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.mozilla_lang.LangUnit.addlocations" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a location or a list of locations.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Most classes shouldn’t need to implement this, but should rather
implement <code class="xref py py-meth docutils literal notranslate"><span class="pre">TranslationUnit.addlocation()</span></code>.</p>
</div>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">This method might be removed in future.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.mozilla_lang.LangUnit.addnote">
<code class="descname">addnote</code><span class="sig-paren">(</span><em>text</em>, <em>origin=None</em>, <em>position='append'</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.mozilla_lang.LangUnit.addnote" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds a note (comment).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>text</strong> (<em>string</em>) – Usually just a sentence or two.</li>
<li><strong>origin</strong> (<em>string</em>) – Specifies who/where the comment comes from.
Origin can be one of the following text strings:
- ‘translator’
- ‘developer’, ‘programmer’, ‘source code’ (synonyms)</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.mozilla_lang.LangUnit.buildfromunit">
<em class="property">classmethod </em><code class="descname">buildfromunit</code><span class="sig-paren">(</span><em>unit</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.mozilla_lang.LangUnit.buildfromunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Build a native unit from a foreign unit, preserving as much
information as possible.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.mozilla_lang.LangUnit.getcontext">
<code class="descname">getcontext</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.mozilla_lang.LangUnit.getcontext" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the message context.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.mozilla_lang.LangUnit.geterrors">
<code class="descname">geterrors</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.mozilla_lang.LangUnit.geterrors" title="Permalink to this definition">¶</a></dt>
<dd><p>Get all error messages.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">Dictionary</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.mozilla_lang.LangUnit.getid">
<code class="descname">getid</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.mozilla_lang.LangUnit.getid" title="Permalink to this definition">¶</a></dt>
<dd><p>A unique identifier for this unit.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">string</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">an identifier for this unit that is unique in the store</td>
</tr>
</tbody>
</table>
<p>Derived classes should override this in a way that guarantees a unique
identifier for each unit in the store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.mozilla_lang.LangUnit.getlocations">
<code class="descname">getlocations</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.mozilla_lang.LangUnit.getlocations" title="Permalink to this definition">¶</a></dt>
<dd><p>A list of source code locations.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">List</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Shouldn’t be implemented if the format doesn’t support it.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.mozilla_lang.LangUnit.getnotes">
<code class="descname">getnotes</code><span class="sig-paren">(</span><em>origin=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.mozilla_lang.LangUnit.getnotes" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns all notes about this unit.</p>
<p>It will probably be freeform text or something reasonable that can be
synthesised by the format.
It should not include location comments (see
<a class="reference internal" href="#translate.storage.base.TranslationUnit.getlocations" title="translate.storage.base.TranslationUnit.getlocations"><code class="xref py py-meth docutils literal notranslate"><span class="pre">getlocations()</span></code></a>).</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.mozilla_lang.LangUnit.gettargetlen">
<code class="descname">gettargetlen</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.mozilla_lang.LangUnit.gettargetlen" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the length of the target string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">Integer</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Plural forms might be combined.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.mozilla_lang.LangUnit.getunits">
<code class="descname">getunits</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.mozilla_lang.LangUnit.getunits" title="Permalink to this definition">¶</a></dt>
<dd><p>This unit in a list.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.mozilla_lang.LangUnit.hasplural">
<code class="descname">hasplural</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.mozilla_lang.LangUnit.hasplural" title="Permalink to this definition">¶</a></dt>
<dd><p>Tells whether or not this specific unit has plural strings.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.mozilla_lang.LangUnit.infer_state">
<code class="descname">infer_state</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.mozilla_lang.LangUnit.infer_state" title="Permalink to this definition">¶</a></dt>
<dd><p>Empty method that should be overridden in sub-classes to infer the
current state(_n) of the unit from its current state.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.mozilla_lang.LangUnit.isblank">
<code class="descname">isblank</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.mozilla_lang.LangUnit.isblank" title="Permalink to this definition">¶</a></dt>
<dd><p>Used to see if this unit has no source or target string.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This is probably used more to find translatable units,
and we might want to move in that direction rather and
get rid of this.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.mozilla_lang.LangUnit.isfuzzy">
<code class="descname">isfuzzy</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.mozilla_lang.LangUnit.isfuzzy" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit is fuzzy.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.mozilla_lang.LangUnit.isheader">
<code class="descname">isheader</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.mozilla_lang.LangUnit.isheader" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit is a header.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.mozilla_lang.LangUnit.isobsolete">
<code class="descname">isobsolete</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.mozilla_lang.LangUnit.isobsolete" title="Permalink to this definition">¶</a></dt>
<dd><p>indicate whether a unit is obsolete</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.mozilla_lang.LangUnit.isreview">
<code class="descname">isreview</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.mozilla_lang.LangUnit.isreview" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit needs review.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.mozilla_lang.LangUnit.istranslatable">
<code class="descname">istranslatable</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.mozilla_lang.LangUnit.istranslatable" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit can be translated.</p>
<p>This should be used to distinguish real units for translation from
header, obsolete, binary or other blank units.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.mozilla_lang.LangUnit.istranslated">
<code class="descname">istranslated</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.mozilla_lang.LangUnit.istranslated" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit is translated.</p>
<p>This should be used rather than deducing it from .target,
to ensure that other classes can implement more functionality
(as XLIFF does).</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.mozilla_lang.LangUnit.makeobsolete">
<code class="descname">makeobsolete</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.mozilla_lang.LangUnit.makeobsolete" title="Permalink to this definition">¶</a></dt>
<dd><p>Make a unit obsolete</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.mozilla_lang.LangUnit.markfuzzy">
<code class="descname">markfuzzy</code><span class="sig-paren">(</span><em>value=True</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.mozilla_lang.LangUnit.markfuzzy" title="Permalink to this definition">¶</a></dt>
<dd><p>Marks the unit as fuzzy or not.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.mozilla_lang.LangUnit.markreviewneeded">
<code class="descname">markreviewneeded</code><span class="sig-paren">(</span><em>needsreview=True</em>, <em>explanation=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.mozilla_lang.LangUnit.markreviewneeded" title="Permalink to this definition">¶</a></dt>
<dd><p>Marks the unit to indicate whether it needs review.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>needsreview</strong> – Defaults to True.</li>
<li><strong>explanation</strong> – Adds an optional explanation as a note.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.mozilla_lang.LangUnit.merge">
<code class="descname">merge</code><span class="sig-paren">(</span><em>otherunit</em>, <em>overwrite=False</em>, <em>comments=True</em>, <em>authoritative=False</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.mozilla_lang.LangUnit.merge" title="Permalink to this definition">¶</a></dt>
<dd><p>Do basic format agnostic merging.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.mozilla_lang.LangUnit.multistring_to_rich">
<code class="descname">multistring_to_rich</code><span class="sig-paren">(</span><em>mulstring</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.mozilla_lang.LangUnit.multistring_to_rich" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a multistring to a list of “rich” string trees:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">target</span> <span class="o">=</span> <span class="n">multistring</span><span class="p">([</span><span class="sa">u</span><span class="s1">&#39;foo&#39;</span><span class="p">,</span> <span class="sa">u</span><span class="s1">&#39;bar&#39;</span><span class="p">,</span> <span class="sa">u</span><span class="s1">&#39;baz&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">TranslationUnit</span><span class="o">.</span><span class="n">multistring_to_rich</span><span class="p">(</span><span class="n">target</span><span class="p">)</span>
<span class="go">[&lt;StringElem([&lt;StringElem([u&#39;foo&#39;])&gt;])&gt;,</span>
<span class="go"> &lt;StringElem([&lt;StringElem([u&#39;bar&#39;])&gt;])&gt;,</span>
<span class="go"> &lt;StringElem([&lt;StringElem([u&#39;baz&#39;])&gt;])&gt;]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.mozilla_lang.LangUnit.removenotes">
<code class="descname">removenotes</code><span class="sig-paren">(</span><em>origin=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.mozilla_lang.LangUnit.removenotes" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove all the translator’s notes.</p>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.mozilla_lang.LangUnit.rich_source">
<code class="descname">rich_source</code><a class="headerlink" href="#translate.storage.mozilla_lang.LangUnit.rich_source" title="Permalink to this definition">¶</a></dt>
<dd><div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="#translate.storage.mozilla_lang.LangUnit.rich_to_multistring" title="translate.storage.mozilla_lang.LangUnit.rich_to_multistring"><code class="xref py py-meth docutils literal notranslate"><span class="pre">rich_to_multistring()</span></code></a>, <a class="reference internal" href="#translate.storage.mozilla_lang.LangUnit.multistring_to_rich" title="translate.storage.mozilla_lang.LangUnit.multistring_to_rich"><code class="xref py py-meth docutils literal notranslate"><span class="pre">multistring_to_rich()</span></code></a></p>
</div>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.mozilla_lang.LangUnit.rich_target">
<code class="descname">rich_target</code><a class="headerlink" href="#translate.storage.mozilla_lang.LangUnit.rich_target" title="Permalink to this definition">¶</a></dt>
<dd><div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="#translate.storage.mozilla_lang.LangUnit.rich_to_multistring" title="translate.storage.mozilla_lang.LangUnit.rich_to_multistring"><code class="xref py py-meth docutils literal notranslate"><span class="pre">rich_to_multistring()</span></code></a>, <a class="reference internal" href="#translate.storage.mozilla_lang.LangUnit.multistring_to_rich" title="translate.storage.mozilla_lang.LangUnit.multistring_to_rich"><code class="xref py py-meth docutils literal notranslate"><span class="pre">multistring_to_rich()</span></code></a></p>
</div>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.mozilla_lang.LangUnit.rich_to_multistring">
<em class="property">classmethod </em><code class="descname">rich_to_multistring</code><span class="sig-paren">(</span><em>elem_list</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.mozilla_lang.LangUnit.rich_to_multistring" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a “rich” string tree to a <code class="docutils literal notranslate"><span class="pre">multistring</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">translate.storage.placeables.interfaces</span> <span class="kn">import</span> <span class="n">X</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rich</span> <span class="o">=</span> <span class="p">[</span><span class="n">StringElem</span><span class="p">([</span><span class="s1">&#39;foo&#39;</span><span class="p">,</span> <span class="n">X</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="s1">&#39;xxx&#39;</span><span class="p">,</span> <span class="n">sub</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39; &#39;</span><span class="p">]),</span> <span class="s1">&#39;bar&#39;</span><span class="p">])]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">TranslationUnit</span><span class="o">.</span><span class="n">rich_to_multistring</span><span class="p">(</span><span class="n">rich</span><span class="p">)</span>
<span class="go">multistring(u&#39;foo bar&#39;)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.mozilla_lang.LangUnit.setcontext">
<code class="descname">setcontext</code><span class="sig-paren">(</span><em>context</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.mozilla_lang.LangUnit.setcontext" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the message context</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.mozilla_lang.LangUnit.setid">
<code class="descname">setid</code><span class="sig-paren">(</span><em>value</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.mozilla_lang.LangUnit.setid" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the unique identified for this unit.</p>
<p>only implemented if format allows ids independant from other unit
properties like source or context</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.mozilla_lang.LangUnit.unit_iter">
<code class="descname">unit_iter</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.mozilla_lang.LangUnit.unit_iter" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterator that only returns this unit.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-translate.storage.odf_io">
<span id="odf-io"></span><h2>odf_io<a class="headerlink" href="#module-translate.storage.odf_io" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-translate.storage.odf_shared">
<span id="odf-shared"></span><h2>odf_shared<a class="headerlink" href="#module-translate.storage.odf_shared" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-translate.storage.omegat">
<span id="omegat"></span><h2>omegat<a class="headerlink" href="#module-translate.storage.omegat" title="Permalink to this headline">¶</a></h2>
<p>Manage the OmegaT glossary format</p>
<p>OmegaT glossary format is used by the
<a class="reference external" href="http://www.omegat.org/en/omegat.html">OmegaT</a> computer aided
translation tool.</p>
<p>It is a bilingual base class derived format with <a class="reference internal" href="#translate.storage.omegat.OmegaTFile" title="translate.storage.omegat.OmegaTFile"><code class="xref py py-class docutils literal notranslate"><span class="pre">OmegaTFile</span></code></a>
and <a class="reference internal" href="#translate.storage.omegat.OmegaTUnit" title="translate.storage.omegat.OmegaTUnit"><code class="xref py py-class docutils literal notranslate"><span class="pre">OmegaTUnit</span></code></a> providing file and unit level access.</p>
<dl class="docutils">
<dt>Format Implementation</dt>
<dd><p class="first">The OmegaT glossary format is a simple Tab Separated Value (TSV) file
with the columns: source, target, comment.</p>
<p class="last">The dialect of the TSV files is specified by <a class="reference internal" href="#translate.storage.omegat.OmegaTDialect" title="translate.storage.omegat.OmegaTDialect"><code class="xref py py-class docutils literal notranslate"><span class="pre">OmegaTDialect</span></code></a>.</p>
</dd>
<dt>Encoding</dt>
<dd>The files are either UTF-8 or encoded using the system default.  UTF-8
encoded files use the .utf8 extension while system encoded files use
the .tab extension.</dd>
</dl>
<dl class="data">
<dt id="translate.storage.omegat.OMEGAT_FIELDNAMES">
<code class="descclassname">translate.storage.omegat.</code><code class="descname">OMEGAT_FIELDNAMES</code><em class="property"> = [u'source', u'target', u'comment']</em><a class="headerlink" href="#translate.storage.omegat.OMEGAT_FIELDNAMES" title="Permalink to this definition">¶</a></dt>
<dd><p>Field names for an OmegaT glossary unit</p>
</dd></dl>

<dl class="class">
<dt id="translate.storage.omegat.OmegaTDialect">
<em class="property">class </em><code class="descclassname">translate.storage.omegat.</code><code class="descname">OmegaTDialect</code><a class="headerlink" href="#translate.storage.omegat.OmegaTDialect" title="Permalink to this definition">¶</a></dt>
<dd><p>Describe the properties of an OmegaT generated TAB-delimited glossary
file.</p>
<dl class="classmethod">
<dt id="translate.storage.omegat.OmegaTDialect.combine">
<em class="property">classmethod </em><code class="descname">combine</code><span class="sig-paren">(</span><em>dialect</em>, <em>fmtparams</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.omegat.OmegaTDialect.combine" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a new dialect with defaults and added parameters.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="translate.storage.omegat.OmegaTFile">
<em class="property">class </em><code class="descclassname">translate.storage.omegat.</code><code class="descname">OmegaTFile</code><span class="sig-paren">(</span><em>inputfile=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.omegat.OmegaTFile" title="Permalink to this definition">¶</a></dt>
<dd><p>An OmegaT glossary file</p>
<dl class="attribute">
<dt id="translate.storage.omegat.OmegaTFile.UnitClass">
<code class="descname">UnitClass</code><a class="headerlink" href="#translate.storage.omegat.OmegaTFile.UnitClass" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <a class="reference internal" href="#translate.storage.omegat.OmegaTUnit" title="translate.storage.omegat.OmegaTUnit"><code class="xref py py-class docutils literal notranslate"><span class="pre">OmegaTUnit</span></code></a></p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.omegat.OmegaTFile.add_unit_to_index">
<code class="descname">add_unit_to_index</code><span class="sig-paren">(</span><em>unit</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.omegat.OmegaTFile.add_unit_to_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a unit to source and location idexes</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.omegat.OmegaTFile.addsourceunit">
<code class="descname">addsourceunit</code><span class="sig-paren">(</span><em>source</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.omegat.OmegaTFile.addsourceunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Add and returns a new unit with the given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><code class="xref py py-class docutils literal notranslate"><span class="pre">TranslationUnit</span></code></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.omegat.OmegaTFile.addunit">
<code class="descname">addunit</code><span class="sig-paren">(</span><em>unit</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.omegat.OmegaTFile.addunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Append the given unit to the object’s list of units.</p>
<p>This method should always be used rather than trying to modify the
list manually.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>unit</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">TranslationUnit</span></code>) – The unit that will be added.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.omegat.OmegaTFile.detect_encoding">
<code class="descname">detect_encoding</code><span class="sig-paren">(</span><em>text</em>, <em>default_encodings=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.omegat.OmegaTFile.detect_encoding" title="Permalink to this definition">¶</a></dt>
<dd><p>Try to detect a file encoding from <cite>text</cite>, using either the chardet lib
or by trying to decode the file.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.omegat.OmegaTFile.fallback_detection">
<code class="descname">fallback_detection</code><span class="sig-paren">(</span><em>text</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.omegat.OmegaTFile.fallback_detection" title="Permalink to this definition">¶</a></dt>
<dd><p>Simple detection based on BOM in case chardet is not available.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.omegat.OmegaTFile.findid">
<code class="descname">findid</code><span class="sig-paren">(</span><em>id</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.omegat.OmegaTFile.findid" title="Permalink to this definition">¶</a></dt>
<dd><p>find unit with matching id by checking id_index</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.omegat.OmegaTFile.findunit">
<code class="descname">findunit</code><span class="sig-paren">(</span><em>source</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.omegat.OmegaTFile.findunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the unit with the given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><code class="xref py py-class docutils literal notranslate"><span class="pre">TranslationUnit</span></code> or None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.omegat.OmegaTFile.findunits">
<code class="descname">findunits</code><span class="sig-paren">(</span><em>source</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.omegat.OmegaTFile.findunits" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the units with the given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><code class="xref py py-class docutils literal notranslate"><span class="pre">TranslationUnit</span></code> or None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.omegat.OmegaTFile.getids">
<code class="descname">getids</code><span class="sig-paren">(</span><em>filename=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.omegat.OmegaTFile.getids" title="Permalink to this definition">¶</a></dt>
<dd><p>return a list of unit ids</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.omegat.OmegaTFile.getprojectstyle">
<code class="descname">getprojectstyle</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.omegat.OmegaTFile.getprojectstyle" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the project type for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.omegat.OmegaTFile.getsourcelanguage">
<code class="descname">getsourcelanguage</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.omegat.OmegaTFile.getsourcelanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the source language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.omegat.OmegaTFile.gettargetlanguage">
<code class="descname">gettargetlanguage</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.omegat.OmegaTFile.gettargetlanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the target language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.omegat.OmegaTFile.getunits">
<code class="descname">getunits</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.omegat.OmegaTFile.getunits" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of all units in this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.omegat.OmegaTFile.isempty">
<code class="descname">isempty</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.omegat.OmegaTFile.isempty" title="Permalink to this definition">¶</a></dt>
<dd><p>Return True if the object doesn’t contain any translation units.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.omegat.OmegaTFile.makeindex">
<code class="descname">makeindex</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.omegat.OmegaTFile.makeindex" title="Permalink to this definition">¶</a></dt>
<dd><p>Indexes the items in this store. At least .sourceindex should be
useful.</p>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.omegat.OmegaTFile.merge_on">
<code class="descname">merge_on</code><a class="headerlink" href="#translate.storage.omegat.OmegaTFile.merge_on" title="Permalink to this definition">¶</a></dt>
<dd><p>The matching criterion to use when merging on.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The default matching criterion for all the subclasses.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">string</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.omegat.OmegaTFile.parse">
<code class="descname">parse</code><span class="sig-paren">(</span><em>input</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.omegat.OmegaTFile.parse" title="Permalink to this definition">¶</a></dt>
<dd><p>parsese the given file or file source string</p>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.omegat.OmegaTFile.parsefile">
<em class="property">classmethod </em><code class="descname">parsefile</code><span class="sig-paren">(</span><em>storefile</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.omegat.OmegaTFile.parsefile" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads the given file (or opens the given filename) and parses back
to an object.</p>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.omegat.OmegaTFile.parsestring">
<em class="property">classmethod </em><code class="descname">parsestring</code><span class="sig-paren">(</span><em>storestring</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.omegat.OmegaTFile.parsestring" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert the string representation back to an object.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.omegat.OmegaTFile.remove_unit_from_index">
<code class="descname">remove_unit_from_index</code><span class="sig-paren">(</span><em>unit</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.omegat.OmegaTFile.remove_unit_from_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove a unit from source and locaton indexes</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.omegat.OmegaTFile.require_index">
<code class="descname">require_index</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.omegat.OmegaTFile.require_index" title="Permalink to this definition">¶</a></dt>
<dd><p>make sure source index exists</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.omegat.OmegaTFile.save">
<code class="descname">save</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.omegat.OmegaTFile.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Save to the file that data was originally read from, if available.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.omegat.OmegaTFile.savefile">
<code class="descname">savefile</code><span class="sig-paren">(</span><em>storefile</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.omegat.OmegaTFile.savefile" title="Permalink to this definition">¶</a></dt>
<dd><p>Write the string representation to the given file (or filename).</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.omegat.OmegaTFile.serialize">
<code class="descname">serialize</code><span class="sig-paren">(</span><em>out</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.omegat.OmegaTFile.serialize" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts to a bytes representation that can be parsed back using
<a class="reference internal" href="#translate.storage.base.TranslationStore.parsestring" title="translate.storage.base.TranslationStore.parsestring"><code class="xref py py-meth docutils literal notranslate"><span class="pre">parsestring()</span></code></a>.
<cite>out</cite> should be an open file-like objects to write to.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.omegat.OmegaTFile.setprojectstyle">
<code class="descname">setprojectstyle</code><span class="sig-paren">(</span><em>project_style</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.omegat.OmegaTFile.setprojectstyle" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the project type for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.omegat.OmegaTFile.setsourcelanguage">
<code class="descname">setsourcelanguage</code><span class="sig-paren">(</span><em>sourcelanguage</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.omegat.OmegaTFile.setsourcelanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the source language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.omegat.OmegaTFile.settargetlanguage">
<code class="descname">settargetlanguage</code><span class="sig-paren">(</span><em>targetlanguage</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.omegat.OmegaTFile.settargetlanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the target language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.omegat.OmegaTFile.translate">
<code class="descname">translate</code><span class="sig-paren">(</span><em>source</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.omegat.OmegaTFile.translate" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the translated string for a given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">String or <a class="reference external" href="https://docs.python.org/2.7/library/constants.html#None" title="(in Python v2.7)">None</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.omegat.OmegaTFile.unit_iter">
<code class="descname">unit_iter</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.omegat.OmegaTFile.unit_iter" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterator over all the units in this store.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="translate.storage.omegat.OmegaTFileTab">
<em class="property">class </em><code class="descclassname">translate.storage.omegat.</code><code class="descname">OmegaTFileTab</code><span class="sig-paren">(</span><em>inputfile=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.omegat.OmegaTFileTab" title="Permalink to this definition">¶</a></dt>
<dd><p>An OmegaT glossary file in the default system encoding</p>
<dl class="attribute">
<dt id="translate.storage.omegat.OmegaTFileTab.UnitClass">
<code class="descname">UnitClass</code><a class="headerlink" href="#translate.storage.omegat.OmegaTFileTab.UnitClass" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <a class="reference internal" href="#translate.storage.omegat.OmegaTUnit" title="translate.storage.omegat.OmegaTUnit"><code class="xref py py-class docutils literal notranslate"><span class="pre">OmegaTUnit</span></code></a></p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.omegat.OmegaTFileTab.add_unit_to_index">
<code class="descname">add_unit_to_index</code><span class="sig-paren">(</span><em>unit</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.omegat.OmegaTFileTab.add_unit_to_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a unit to source and location idexes</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.omegat.OmegaTFileTab.addsourceunit">
<code class="descname">addsourceunit</code><span class="sig-paren">(</span><em>source</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.omegat.OmegaTFileTab.addsourceunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Add and returns a new unit with the given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><code class="xref py py-class docutils literal notranslate"><span class="pre">TranslationUnit</span></code></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.omegat.OmegaTFileTab.addunit">
<code class="descname">addunit</code><span class="sig-paren">(</span><em>unit</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.omegat.OmegaTFileTab.addunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Append the given unit to the object’s list of units.</p>
<p>This method should always be used rather than trying to modify the
list manually.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>unit</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">TranslationUnit</span></code>) – The unit that will be added.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.omegat.OmegaTFileTab.detect_encoding">
<code class="descname">detect_encoding</code><span class="sig-paren">(</span><em>text</em>, <em>default_encodings=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.omegat.OmegaTFileTab.detect_encoding" title="Permalink to this definition">¶</a></dt>
<dd><p>Try to detect a file encoding from <cite>text</cite>, using either the chardet lib
or by trying to decode the file.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.omegat.OmegaTFileTab.fallback_detection">
<code class="descname">fallback_detection</code><span class="sig-paren">(</span><em>text</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.omegat.OmegaTFileTab.fallback_detection" title="Permalink to this definition">¶</a></dt>
<dd><p>Simple detection based on BOM in case chardet is not available.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.omegat.OmegaTFileTab.findid">
<code class="descname">findid</code><span class="sig-paren">(</span><em>id</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.omegat.OmegaTFileTab.findid" title="Permalink to this definition">¶</a></dt>
<dd><p>find unit with matching id by checking id_index</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.omegat.OmegaTFileTab.findunit">
<code class="descname">findunit</code><span class="sig-paren">(</span><em>source</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.omegat.OmegaTFileTab.findunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the unit with the given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><code class="xref py py-class docutils literal notranslate"><span class="pre">TranslationUnit</span></code> or None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.omegat.OmegaTFileTab.findunits">
<code class="descname">findunits</code><span class="sig-paren">(</span><em>source</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.omegat.OmegaTFileTab.findunits" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the units with the given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><code class="xref py py-class docutils literal notranslate"><span class="pre">TranslationUnit</span></code> or None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.omegat.OmegaTFileTab.getids">
<code class="descname">getids</code><span class="sig-paren">(</span><em>filename=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.omegat.OmegaTFileTab.getids" title="Permalink to this definition">¶</a></dt>
<dd><p>return a list of unit ids</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.omegat.OmegaTFileTab.getprojectstyle">
<code class="descname">getprojectstyle</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.omegat.OmegaTFileTab.getprojectstyle" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the project type for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.omegat.OmegaTFileTab.getsourcelanguage">
<code class="descname">getsourcelanguage</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.omegat.OmegaTFileTab.getsourcelanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the source language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.omegat.OmegaTFileTab.gettargetlanguage">
<code class="descname">gettargetlanguage</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.omegat.OmegaTFileTab.gettargetlanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the target language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.omegat.OmegaTFileTab.getunits">
<code class="descname">getunits</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.omegat.OmegaTFileTab.getunits" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of all units in this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.omegat.OmegaTFileTab.isempty">
<code class="descname">isempty</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.omegat.OmegaTFileTab.isempty" title="Permalink to this definition">¶</a></dt>
<dd><p>Return True if the object doesn’t contain any translation units.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.omegat.OmegaTFileTab.makeindex">
<code class="descname">makeindex</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.omegat.OmegaTFileTab.makeindex" title="Permalink to this definition">¶</a></dt>
<dd><p>Indexes the items in this store. At least .sourceindex should be
useful.</p>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.omegat.OmegaTFileTab.merge_on">
<code class="descname">merge_on</code><a class="headerlink" href="#translate.storage.omegat.OmegaTFileTab.merge_on" title="Permalink to this definition">¶</a></dt>
<dd><p>The matching criterion to use when merging on.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The default matching criterion for all the subclasses.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">string</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.omegat.OmegaTFileTab.parse">
<code class="descname">parse</code><span class="sig-paren">(</span><em>input</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.omegat.OmegaTFileTab.parse" title="Permalink to this definition">¶</a></dt>
<dd><p>parsese the given file or file source string</p>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.omegat.OmegaTFileTab.parsefile">
<em class="property">classmethod </em><code class="descname">parsefile</code><span class="sig-paren">(</span><em>storefile</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.omegat.OmegaTFileTab.parsefile" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads the given file (or opens the given filename) and parses back
to an object.</p>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.omegat.OmegaTFileTab.parsestring">
<em class="property">classmethod </em><code class="descname">parsestring</code><span class="sig-paren">(</span><em>storestring</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.omegat.OmegaTFileTab.parsestring" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert the string representation back to an object.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.omegat.OmegaTFileTab.remove_unit_from_index">
<code class="descname">remove_unit_from_index</code><span class="sig-paren">(</span><em>unit</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.omegat.OmegaTFileTab.remove_unit_from_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove a unit from source and locaton indexes</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.omegat.OmegaTFileTab.require_index">
<code class="descname">require_index</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.omegat.OmegaTFileTab.require_index" title="Permalink to this definition">¶</a></dt>
<dd><p>make sure source index exists</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.omegat.OmegaTFileTab.save">
<code class="descname">save</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.omegat.OmegaTFileTab.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Save to the file that data was originally read from, if available.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.omegat.OmegaTFileTab.savefile">
<code class="descname">savefile</code><span class="sig-paren">(</span><em>storefile</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.omegat.OmegaTFileTab.savefile" title="Permalink to this definition">¶</a></dt>
<dd><p>Write the string representation to the given file (or filename).</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.omegat.OmegaTFileTab.serialize">
<code class="descname">serialize</code><span class="sig-paren">(</span><em>out</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.omegat.OmegaTFileTab.serialize" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts to a bytes representation that can be parsed back using
<a class="reference internal" href="#translate.storage.base.TranslationStore.parsestring" title="translate.storage.base.TranslationStore.parsestring"><code class="xref py py-meth docutils literal notranslate"><span class="pre">parsestring()</span></code></a>.
<cite>out</cite> should be an open file-like objects to write to.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.omegat.OmegaTFileTab.setprojectstyle">
<code class="descname">setprojectstyle</code><span class="sig-paren">(</span><em>project_style</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.omegat.OmegaTFileTab.setprojectstyle" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the project type for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.omegat.OmegaTFileTab.setsourcelanguage">
<code class="descname">setsourcelanguage</code><span class="sig-paren">(</span><em>sourcelanguage</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.omegat.OmegaTFileTab.setsourcelanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the source language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.omegat.OmegaTFileTab.settargetlanguage">
<code class="descname">settargetlanguage</code><span class="sig-paren">(</span><em>targetlanguage</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.omegat.OmegaTFileTab.settargetlanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the target language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.omegat.OmegaTFileTab.translate">
<code class="descname">translate</code><span class="sig-paren">(</span><em>source</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.omegat.OmegaTFileTab.translate" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the translated string for a given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">String or <a class="reference external" href="https://docs.python.org/2.7/library/constants.html#None" title="(in Python v2.7)">None</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.omegat.OmegaTFileTab.unit_iter">
<code class="descname">unit_iter</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.omegat.OmegaTFileTab.unit_iter" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterator over all the units in this store.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="translate.storage.omegat.OmegaTUnit">
<em class="property">class </em><code class="descclassname">translate.storage.omegat.</code><code class="descname">OmegaTUnit</code><span class="sig-paren">(</span><em>source=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.omegat.OmegaTUnit" title="Permalink to this definition">¶</a></dt>
<dd><p>An OmegaT glossary unit</p>
<dl class="method">
<dt id="translate.storage.omegat.OmegaTUnit.adderror">
<code class="descname">adderror</code><span class="sig-paren">(</span><em>errorname</em>, <em>errortext</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.omegat.OmegaTUnit.adderror" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds an error message to this unit.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>errorname</strong> (<em>string</em>) – A single word to id the error.</li>
<li><strong>errortext</strong> (<em>string</em>) – The text describing the error.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.omegat.OmegaTUnit.addlocation">
<code class="descname">addlocation</code><span class="sig-paren">(</span><em>location</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.omegat.OmegaTUnit.addlocation" title="Permalink to this definition">¶</a></dt>
<dd><p>Add one location to the list of locations.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Shouldn’t be implemented if the format doesn’t support it.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.omegat.OmegaTUnit.addlocations">
<code class="descname">addlocations</code><span class="sig-paren">(</span><em>location</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.omegat.OmegaTUnit.addlocations" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a location or a list of locations.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Most classes shouldn’t need to implement this, but should rather
implement <code class="xref py py-meth docutils literal notranslate"><span class="pre">TranslationUnit.addlocation()</span></code>.</p>
</div>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">This method might be removed in future.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.omegat.OmegaTUnit.addnote">
<code class="descname">addnote</code><span class="sig-paren">(</span><em>text</em>, <em>origin=None</em>, <em>position=u'append'</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.omegat.OmegaTUnit.addnote" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds a note (comment).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>text</strong> (<em>string</em>) – Usually just a sentence or two.</li>
<li><strong>origin</strong> (<em>string</em>) – Specifies who/where the comment comes from.
Origin can be one of the following text strings:
- ‘translator’
- ‘developer’, ‘programmer’, ‘source code’ (synonyms)</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.omegat.OmegaTUnit.buildfromunit">
<em class="property">classmethod </em><code class="descname">buildfromunit</code><span class="sig-paren">(</span><em>unit</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.omegat.OmegaTUnit.buildfromunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Build a native unit from a foreign unit, preserving as much
information as possible.</p>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.omegat.OmegaTUnit.dict">
<code class="descname">dict</code><a class="headerlink" href="#translate.storage.omegat.OmegaTUnit.dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the dictionary of values for a OmegaT line</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.omegat.OmegaTUnit.getcontext">
<code class="descname">getcontext</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.omegat.OmegaTUnit.getcontext" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the message context.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.omegat.OmegaTUnit.getdict">
<code class="descname">getdict</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.omegat.OmegaTUnit.getdict" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the dictionary of values for a OmegaT line</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.omegat.OmegaTUnit.geterrors">
<code class="descname">geterrors</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.omegat.OmegaTUnit.geterrors" title="Permalink to this definition">¶</a></dt>
<dd><p>Get all error messages.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">Dictionary</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.omegat.OmegaTUnit.getid">
<code class="descname">getid</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.omegat.OmegaTUnit.getid" title="Permalink to this definition">¶</a></dt>
<dd><p>A unique identifier for this unit.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">string</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">an identifier for this unit that is unique in the store</td>
</tr>
</tbody>
</table>
<p>Derived classes should override this in a way that guarantees a unique
identifier for each unit in the store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.omegat.OmegaTUnit.getlocations">
<code class="descname">getlocations</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.omegat.OmegaTUnit.getlocations" title="Permalink to this definition">¶</a></dt>
<dd><p>A list of source code locations.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">List</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Shouldn’t be implemented if the format doesn’t support it.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.omegat.OmegaTUnit.getnotes">
<code class="descname">getnotes</code><span class="sig-paren">(</span><em>origin=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.omegat.OmegaTUnit.getnotes" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns all notes about this unit.</p>
<p>It will probably be freeform text or something reasonable that can be
synthesised by the format.
It should not include location comments (see
<a class="reference internal" href="#translate.storage.base.TranslationUnit.getlocations" title="translate.storage.base.TranslationUnit.getlocations"><code class="xref py py-meth docutils literal notranslate"><span class="pre">getlocations()</span></code></a>).</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.omegat.OmegaTUnit.gettargetlen">
<code class="descname">gettargetlen</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.omegat.OmegaTUnit.gettargetlen" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the length of the target string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">Integer</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Plural forms might be combined.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.omegat.OmegaTUnit.getunits">
<code class="descname">getunits</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.omegat.OmegaTUnit.getunits" title="Permalink to this definition">¶</a></dt>
<dd><p>This unit in a list.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.omegat.OmegaTUnit.hasplural">
<code class="descname">hasplural</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.omegat.OmegaTUnit.hasplural" title="Permalink to this definition">¶</a></dt>
<dd><p>Tells whether or not this specific unit has plural strings.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.omegat.OmegaTUnit.infer_state">
<code class="descname">infer_state</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.omegat.OmegaTUnit.infer_state" title="Permalink to this definition">¶</a></dt>
<dd><p>Empty method that should be overridden in sub-classes to infer the
current state(_n) of the unit from its current state.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.omegat.OmegaTUnit.isblank">
<code class="descname">isblank</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.omegat.OmegaTUnit.isblank" title="Permalink to this definition">¶</a></dt>
<dd><p>Used to see if this unit has no source or target string.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This is probably used more to find translatable units,
and we might want to move in that direction rather and
get rid of this.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.omegat.OmegaTUnit.isfuzzy">
<code class="descname">isfuzzy</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.omegat.OmegaTUnit.isfuzzy" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit is fuzzy.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.omegat.OmegaTUnit.isheader">
<code class="descname">isheader</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.omegat.OmegaTUnit.isheader" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit is a header.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.omegat.OmegaTUnit.isobsolete">
<code class="descname">isobsolete</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.omegat.OmegaTUnit.isobsolete" title="Permalink to this definition">¶</a></dt>
<dd><p>indicate whether a unit is obsolete</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.omegat.OmegaTUnit.isreview">
<code class="descname">isreview</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.omegat.OmegaTUnit.isreview" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit needs review.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.omegat.OmegaTUnit.istranslatable">
<code class="descname">istranslatable</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.omegat.OmegaTUnit.istranslatable" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit can be translated.</p>
<p>This should be used to distinguish real units for translation from
header, obsolete, binary or other blank units.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.omegat.OmegaTUnit.istranslated">
<code class="descname">istranslated</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.omegat.OmegaTUnit.istranslated" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit is translated.</p>
<p>This should be used rather than deducing it from .target,
to ensure that other classes can implement more functionality
(as XLIFF does).</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.omegat.OmegaTUnit.makeobsolete">
<code class="descname">makeobsolete</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.omegat.OmegaTUnit.makeobsolete" title="Permalink to this definition">¶</a></dt>
<dd><p>Make a unit obsolete</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.omegat.OmegaTUnit.markfuzzy">
<code class="descname">markfuzzy</code><span class="sig-paren">(</span><em>value=True</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.omegat.OmegaTUnit.markfuzzy" title="Permalink to this definition">¶</a></dt>
<dd><p>Marks the unit as fuzzy or not.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.omegat.OmegaTUnit.markreviewneeded">
<code class="descname">markreviewneeded</code><span class="sig-paren">(</span><em>needsreview=True</em>, <em>explanation=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.omegat.OmegaTUnit.markreviewneeded" title="Permalink to this definition">¶</a></dt>
<dd><p>Marks the unit to indicate whether it needs review.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>needsreview</strong> – Defaults to True.</li>
<li><strong>explanation</strong> – Adds an optional explanation as a note.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.omegat.OmegaTUnit.merge">
<code class="descname">merge</code><span class="sig-paren">(</span><em>otherunit</em>, <em>overwrite=False</em>, <em>comments=True</em>, <em>authoritative=False</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.omegat.OmegaTUnit.merge" title="Permalink to this definition">¶</a></dt>
<dd><p>Do basic format agnostic merging.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.omegat.OmegaTUnit.multistring_to_rich">
<code class="descname">multistring_to_rich</code><span class="sig-paren">(</span><em>mulstring</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.omegat.OmegaTUnit.multistring_to_rich" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a multistring to a list of “rich” string trees:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">target</span> <span class="o">=</span> <span class="n">multistring</span><span class="p">([</span><span class="sa">u</span><span class="s1">&#39;foo&#39;</span><span class="p">,</span> <span class="sa">u</span><span class="s1">&#39;bar&#39;</span><span class="p">,</span> <span class="sa">u</span><span class="s1">&#39;baz&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">TranslationUnit</span><span class="o">.</span><span class="n">multistring_to_rich</span><span class="p">(</span><span class="n">target</span><span class="p">)</span>
<span class="go">[&lt;StringElem([&lt;StringElem([u&#39;foo&#39;])&gt;])&gt;,</span>
<span class="go"> &lt;StringElem([&lt;StringElem([u&#39;bar&#39;])&gt;])&gt;,</span>
<span class="go"> &lt;StringElem([&lt;StringElem([u&#39;baz&#39;])&gt;])&gt;]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.omegat.OmegaTUnit.removenotes">
<code class="descname">removenotes</code><span class="sig-paren">(</span><em>origin=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.omegat.OmegaTUnit.removenotes" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove all the translator’s notes.</p>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.omegat.OmegaTUnit.rich_source">
<code class="descname">rich_source</code><a class="headerlink" href="#translate.storage.omegat.OmegaTUnit.rich_source" title="Permalink to this definition">¶</a></dt>
<dd><div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="#translate.storage.omegat.OmegaTUnit.rich_to_multistring" title="translate.storage.omegat.OmegaTUnit.rich_to_multistring"><code class="xref py py-meth docutils literal notranslate"><span class="pre">rich_to_multistring()</span></code></a>, <a class="reference internal" href="#translate.storage.omegat.OmegaTUnit.multistring_to_rich" title="translate.storage.omegat.OmegaTUnit.multistring_to_rich"><code class="xref py py-meth docutils literal notranslate"><span class="pre">multistring_to_rich()</span></code></a></p>
</div>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.omegat.OmegaTUnit.rich_target">
<code class="descname">rich_target</code><a class="headerlink" href="#translate.storage.omegat.OmegaTUnit.rich_target" title="Permalink to this definition">¶</a></dt>
<dd><div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="#translate.storage.omegat.OmegaTUnit.rich_to_multistring" title="translate.storage.omegat.OmegaTUnit.rich_to_multistring"><code class="xref py py-meth docutils literal notranslate"><span class="pre">rich_to_multistring()</span></code></a>, <a class="reference internal" href="#translate.storage.omegat.OmegaTUnit.multistring_to_rich" title="translate.storage.omegat.OmegaTUnit.multistring_to_rich"><code class="xref py py-meth docutils literal notranslate"><span class="pre">multistring_to_rich()</span></code></a></p>
</div>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.omegat.OmegaTUnit.rich_to_multistring">
<em class="property">classmethod </em><code class="descname">rich_to_multistring</code><span class="sig-paren">(</span><em>elem_list</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.omegat.OmegaTUnit.rich_to_multistring" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a “rich” string tree to a <code class="docutils literal notranslate"><span class="pre">multistring</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">translate.storage.placeables.interfaces</span> <span class="kn">import</span> <span class="n">X</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rich</span> <span class="o">=</span> <span class="p">[</span><span class="n">StringElem</span><span class="p">([</span><span class="s1">&#39;foo&#39;</span><span class="p">,</span> <span class="n">X</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="s1">&#39;xxx&#39;</span><span class="p">,</span> <span class="n">sub</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39; &#39;</span><span class="p">]),</span> <span class="s1">&#39;bar&#39;</span><span class="p">])]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">TranslationUnit</span><span class="o">.</span><span class="n">rich_to_multistring</span><span class="p">(</span><span class="n">rich</span><span class="p">)</span>
<span class="go">multistring(u&#39;foo bar&#39;)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.omegat.OmegaTUnit.setcontext">
<code class="descname">setcontext</code><span class="sig-paren">(</span><em>context</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.omegat.OmegaTUnit.setcontext" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the message context</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.omegat.OmegaTUnit.setdict">
<code class="descname">setdict</code><span class="sig-paren">(</span><em>newdict</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.omegat.OmegaTUnit.setdict" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the dictionary of values for a OmegaT line</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>newdict</strong> (<em>Dict</em>) – a new dictionary with OmegaT line elements</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.omegat.OmegaTUnit.setid">
<code class="descname">setid</code><span class="sig-paren">(</span><em>value</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.omegat.OmegaTUnit.setid" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the unique identified for this unit.</p>
<p>only implemented if format allows ids independant from other unit
properties like source or context</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.omegat.OmegaTUnit.unit_iter">
<code class="descname">unit_iter</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.omegat.OmegaTUnit.unit_iter" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterator that only returns this unit.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-translate.storage.oo">
<span id="oo"></span><h2>oo<a class="headerlink" href="#module-translate.storage.oo" title="Permalink to this headline">¶</a></h2>
<p>Classes that hold units of .oo files (oounit) or entire files (oofile).</p>
<p>These are specific .oo files for localisation exported by OpenOffice.org - SDF
format (previously knows as GSI files).</p>
<p>The behaviour in terms of escaping is explained in detail in the programming
comments.</p>
<dl class="function">
<dt id="translate.storage.oo.escape_help_text">
<code class="descclassname">translate.storage.oo.</code><code class="descname">escape_help_text</code><span class="sig-paren">(</span><em>text</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.oo.escape_help_text" title="Permalink to this definition">¶</a></dt>
<dd><p>Escapes the help text as it would be in an SDF file.</p>
<p>&lt;, &gt;, ” are only escaped in &lt;[[:lower:]]&gt; tags. Some HTML tags make it in in
lowercase so those are dealt with. Some OpenOffice.org help tags are not
escaped.</p>
</dd></dl>

<dl class="function">
<dt id="translate.storage.oo.escape_text">
<code class="descclassname">translate.storage.oo.</code><code class="descname">escape_text</code><span class="sig-paren">(</span><em>text</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.oo.escape_text" title="Permalink to this definition">¶</a></dt>
<dd><p>Escapes SDF text to be suitable for unit consumption.</p>
</dd></dl>

<dl class="function">
<dt id="translate.storage.oo.makekey">
<code class="descclassname">translate.storage.oo.</code><code class="descname">makekey</code><span class="sig-paren">(</span><em>ookey</em>, <em>long_keys</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.oo.makekey" title="Permalink to this definition">¶</a></dt>
<dd><p>converts an oo key tuple into a unique identifier</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>ookey</strong> (<em>tuple</em>) – an oo key</li>
<li><strong>long_keys</strong> (<em>Boolean</em>) – Use long keys</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first"><a class="reference external" href="https://docs.python.org/2.7/library/functions.html#str" title="(in Python v2.7)">str</a></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">unique ascii identifier</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="translate.storage.oo.normalizefilename">
<code class="descclassname">translate.storage.oo.</code><code class="descname">normalizefilename</code><span class="sig-paren">(</span><em>filename</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.oo.normalizefilename" title="Permalink to this definition">¶</a></dt>
<dd><p>converts any non-alphanumeric (standard roman) characters to _</p>
</dd></dl>

<dl class="class">
<dt id="translate.storage.oo.oofile">
<em class="property">class </em><code class="descclassname">translate.storage.oo.</code><code class="descname">oofile</code><span class="sig-paren">(</span><em>input=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.oo.oofile" title="Permalink to this definition">¶</a></dt>
<dd><p>this represents an entire .oo file</p>
<dl class="attribute">
<dt id="translate.storage.oo.oofile.UnitClass">
<code class="descname">UnitClass</code><a class="headerlink" href="#translate.storage.oo.oofile.UnitClass" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <a class="reference internal" href="#translate.storage.oo.oounit" title="translate.storage.oo.oounit"><code class="xref py py-class docutils literal notranslate"><span class="pre">oounit</span></code></a></p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.oo.oofile.addline">
<code class="descname">addline</code><span class="sig-paren">(</span><em>thisline</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.oo.oofile.addline" title="Permalink to this definition">¶</a></dt>
<dd><p>adds a parsed line to the file</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.oo.oofile.getoutput">
<code class="descname">getoutput</code><span class="sig-paren">(</span><em>skip_source=False</em>, <em>fallback_lang=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.oo.oofile.getoutput" title="Permalink to this definition">¶</a></dt>
<dd><p>converts all the lines back to tab-delimited form</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.oo.oofile.parse">
<code class="descname">parse</code><span class="sig-paren">(</span><em>input</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.oo.oofile.parse" title="Permalink to this definition">¶</a></dt>
<dd><p>parses lines and adds them to the file</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.oo.oofile.serialize">
<code class="descname">serialize</code><span class="sig-paren">(</span><em>out</em>, <em>skip_source=False</em>, <em>fallback_lang=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.oo.oofile.serialize" title="Permalink to this definition">¶</a></dt>
<dd><p>convert to a string. double check that unicode is handled</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="translate.storage.oo.ooline">
<em class="property">class </em><code class="descclassname">translate.storage.oo.</code><code class="descname">ooline</code><span class="sig-paren">(</span><em>parts=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.oo.ooline" title="Permalink to this definition">¶</a></dt>
<dd><p>this represents one line, one translation in an .oo file</p>
<dl class="method">
<dt id="translate.storage.oo.ooline.getkey">
<code class="descname">getkey</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.oo.ooline.getkey" title="Permalink to this definition">¶</a></dt>
<dd><p>get the key that identifies the resource</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.oo.ooline.getoutput">
<code class="descname">getoutput</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.oo.ooline.getoutput" title="Permalink to this definition">¶</a></dt>
<dd><p>return a line in tab-delimited form</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.oo.ooline.getparts">
<code class="descname">getparts</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.oo.ooline.getparts" title="Permalink to this definition">¶</a></dt>
<dd><p>return a list of parts in this line</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.oo.ooline.gettext">
<code class="descname">gettext</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.oo.ooline.gettext" title="Permalink to this definition">¶</a></dt>
<dd><p>Obtains the text column and handle escaping.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.oo.ooline.setparts">
<code class="descname">setparts</code><span class="sig-paren">(</span><em>parts</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.oo.ooline.setparts" title="Permalink to this definition">¶</a></dt>
<dd><p>create a line from its tab-delimited parts</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.oo.ooline.settext">
<code class="descname">settext</code><span class="sig-paren">(</span><em>text</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.oo.ooline.settext" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the text column and handle escaping.</p>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.oo.ooline.text">
<code class="descname">text</code><a class="headerlink" href="#translate.storage.oo.ooline.text" title="Permalink to this definition">¶</a></dt>
<dd><p>Obtains the text column and handle escaping.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="translate.storage.oo.oomultifile">
<em class="property">class </em><code class="descclassname">translate.storage.oo.</code><code class="descname">oomultifile</code><span class="sig-paren">(</span><em>filename</em>, <em>mode=None</em>, <em>multifilestyle='single'</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.oo.oomultifile" title="Permalink to this definition">¶</a></dt>
<dd><p>this takes a huge GSI file and represents it as multiple smaller
files…</p>
<dl class="method">
<dt id="translate.storage.oo.oomultifile.createsubfileindex">
<code class="descname">createsubfileindex</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.oo.oomultifile.createsubfileindex" title="Permalink to this definition">¶</a></dt>
<dd><p>reads in all the lines and works out the subfiles</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.oo.oomultifile.getoofile">
<code class="descname">getoofile</code><span class="sig-paren">(</span><em>subfile</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.oo.oomultifile.getoofile" title="Permalink to this definition">¶</a></dt>
<dd><p>returns an oofile built up from the given subfile’s lines</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.oo.oomultifile.getsubfilename">
<code class="descname">getsubfilename</code><span class="sig-paren">(</span><em>line</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.oo.oomultifile.getsubfilename" title="Permalink to this definition">¶</a></dt>
<dd><p>looks up the subfile name for the line</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.oo.oomultifile.getsubfilesrc">
<code class="descname">getsubfilesrc</code><span class="sig-paren">(</span><em>subfile</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.oo.oomultifile.getsubfilesrc" title="Permalink to this definition">¶</a></dt>
<dd><p>returns the list of lines matching the subfile</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.oo.oomultifile.listsubfiles">
<code class="descname">listsubfiles</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.oo.oomultifile.listsubfiles" title="Permalink to this definition">¶</a></dt>
<dd><p>returns a list of subfiles in the file</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.oo.oomultifile.openinputfile">
<code class="descname">openinputfile</code><span class="sig-paren">(</span><em>subfile</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.oo.oomultifile.openinputfile" title="Permalink to this definition">¶</a></dt>
<dd><p>returns a pseudo-file object for the given subfile</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.oo.oomultifile.openoutputfile">
<code class="descname">openoutputfile</code><span class="sig-paren">(</span><em>subfile</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.oo.oomultifile.openoutputfile" title="Permalink to this definition">¶</a></dt>
<dd><p>returns a pseudo-file object for the given subfile</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="translate.storage.oo.oounit">
<em class="property">class </em><code class="descclassname">translate.storage.oo.</code><code class="descname">oounit</code><a class="headerlink" href="#translate.storage.oo.oounit" title="Permalink to this definition">¶</a></dt>
<dd><p>this represents a number of translations of a resource</p>
<dl class="method">
<dt id="translate.storage.oo.oounit.addline">
<code class="descname">addline</code><span class="sig-paren">(</span><em>line</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.oo.oounit.addline" title="Permalink to this definition">¶</a></dt>
<dd><p>add a line to the oounit</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.oo.oounit.getoutput">
<code class="descname">getoutput</code><span class="sig-paren">(</span><em>skip_source=False</em>, <em>fallback_lang=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.oo.oounit.getoutput" title="Permalink to this definition">¶</a></dt>
<dd><p>return the lines in tab-delimited form</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="translate.storage.oo.unescape_help_text">
<code class="descclassname">translate.storage.oo.</code><code class="descname">unescape_help_text</code><span class="sig-paren">(</span><em>text</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.oo.unescape_help_text" title="Permalink to this definition">¶</a></dt>
<dd><p>Unescapes normal text to be suitable for writing to the SDF file.</p>
</dd></dl>

<dl class="function">
<dt id="translate.storage.oo.unescape_text">
<code class="descclassname">translate.storage.oo.</code><code class="descname">unescape_text</code><span class="sig-paren">(</span><em>text</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.oo.unescape_text" title="Permalink to this definition">¶</a></dt>
<dd><p>Unescapes SDF text to be suitable for unit consumption.</p>
</dd></dl>

<dl class="class">
<dt id="translate.storage.oo.unormalizechar">
<em class="property">class </em><code class="descclassname">translate.storage.oo.</code><code class="descname">unormalizechar</code><span class="sig-paren">(</span><em>normalchars</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.oo.unormalizechar" title="Permalink to this definition">¶</a></dt>
<dd><dl class="method">
<dt id="translate.storage.oo.unormalizechar.clear">
<code class="descname">clear</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; None.  Remove all items from D.<a class="headerlink" href="#translate.storage.oo.unormalizechar.clear" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="translate.storage.oo.unormalizechar.copy">
<code class="descname">copy</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; a shallow copy of D<a class="headerlink" href="#translate.storage.oo.unormalizechar.copy" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="translate.storage.oo.unormalizechar.fromkeys">
<code class="descname">fromkeys</code><span class="sig-paren">(</span><em>S</em><span class="optional">[</span>, <em>v</em><span class="optional">]</span><span class="sig-paren">)</span> &#x2192; New dict with keys from S and values equal to v.<a class="headerlink" href="#translate.storage.oo.unormalizechar.fromkeys" title="Permalink to this definition">¶</a></dt>
<dd><p>v defaults to None.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.oo.unormalizechar.get">
<code class="descname">get</code><span class="sig-paren">(</span><em>k</em><span class="optional">[</span>, <em>d</em><span class="optional">]</span><span class="sig-paren">)</span> &#x2192; D[k] if k in D, else d.  d defaults to None.<a class="headerlink" href="#translate.storage.oo.unormalizechar.get" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="translate.storage.oo.unormalizechar.has_key">
<code class="descname">has_key</code><span class="sig-paren">(</span><em>k</em><span class="sig-paren">)</span> &#x2192; True if D has a key k, else False<a class="headerlink" href="#translate.storage.oo.unormalizechar.has_key" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="translate.storage.oo.unormalizechar.items">
<code class="descname">items</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; list of D's (key, value) pairs, as 2-tuples<a class="headerlink" href="#translate.storage.oo.unormalizechar.items" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="translate.storage.oo.unormalizechar.iteritems">
<code class="descname">iteritems</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; an iterator over the (key, value) items of D<a class="headerlink" href="#translate.storage.oo.unormalizechar.iteritems" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="translate.storage.oo.unormalizechar.iterkeys">
<code class="descname">iterkeys</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; an iterator over the keys of D<a class="headerlink" href="#translate.storage.oo.unormalizechar.iterkeys" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="translate.storage.oo.unormalizechar.itervalues">
<code class="descname">itervalues</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; an iterator over the values of D<a class="headerlink" href="#translate.storage.oo.unormalizechar.itervalues" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="translate.storage.oo.unormalizechar.keys">
<code class="descname">keys</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; list of D's keys<a class="headerlink" href="#translate.storage.oo.unormalizechar.keys" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="translate.storage.oo.unormalizechar.pop">
<code class="descname">pop</code><span class="sig-paren">(</span><em>k</em><span class="optional">[</span>, <em>d</em><span class="optional">]</span><span class="sig-paren">)</span> &#x2192; v, remove specified key and return the corresponding value.<a class="headerlink" href="#translate.storage.oo.unormalizechar.pop" title="Permalink to this definition">¶</a></dt>
<dd><p>If key is not found, d is returned if given, otherwise KeyError is raised</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.oo.unormalizechar.popitem">
<code class="descname">popitem</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; (k, v), remove and return some (key, value) pair as a<a class="headerlink" href="#translate.storage.oo.unormalizechar.popitem" title="Permalink to this definition">¶</a></dt>
<dd><p>2-tuple; but raise KeyError if D is empty.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.oo.unormalizechar.setdefault">
<code class="descname">setdefault</code><span class="sig-paren">(</span><em>k</em><span class="optional">[</span>, <em>d</em><span class="optional">]</span><span class="sig-paren">)</span> &#x2192; D.get(k,d), also set D[k]=d if k not in D<a class="headerlink" href="#translate.storage.oo.unormalizechar.setdefault" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="translate.storage.oo.unormalizechar.update">
<code class="descname">update</code><span class="sig-paren">(</span><span class="optional">[</span><em>E</em>, <span class="optional">]</span><em>**F</em><span class="sig-paren">)</span> &#x2192; None.  Update D from dict/iterable E and F.<a class="headerlink" href="#translate.storage.oo.unormalizechar.update" title="Permalink to this definition">¶</a></dt>
<dd><p>If E present and has a .keys() method, does:     for k in E: D[k] = E[k]
If E present and lacks .keys() method, does:     for (k, v) in E: D[k] = v
In either case, this is followed by: for k in F: D[k] = F[k]</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.oo.unormalizechar.values">
<code class="descname">values</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; list of D's values<a class="headerlink" href="#translate.storage.oo.unormalizechar.values" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="translate.storage.oo.unormalizechar.viewitems">
<code class="descname">viewitems</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; a set-like object providing a view on D's items<a class="headerlink" href="#translate.storage.oo.unormalizechar.viewitems" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="translate.storage.oo.unormalizechar.viewkeys">
<code class="descname">viewkeys</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; a set-like object providing a view on D's keys<a class="headerlink" href="#translate.storage.oo.unormalizechar.viewkeys" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="translate.storage.oo.unormalizechar.viewvalues">
<code class="descname">viewvalues</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; an object providing a view on D's values<a class="headerlink" href="#translate.storage.oo.unormalizechar.viewvalues" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-translate.storage.placeables">
<span id="placeables"></span><h2>placeables<a class="headerlink" href="#module-translate.storage.placeables" title="Permalink to this headline">¶</a></h2>
<p>This module implements basic functionality to support placeables.</p>
<dl class="docutils">
<dt>A placeable is used to represent things like:</dt>
<dd><ol class="first last arabic">
<li><p class="first">Substitutions</p>
<p>For example, in ODF, footnotes appear in the ODF XML
where they are defined; so if we extract a paragraph with some
footnotes, the translator will have a lot of additional XML to with;
so we separate the footnotes out into separate translation units and
mark their positions in the original text with placeables.</p>
</li>
<li><p class="first">Hiding of inline formatting data</p>
<p>The translator doesn’t want to have to deal with all the weird
formatting conventions of wherever the text came from.</p>
</li>
<li><p class="first">Marking variables</p>
<p>This is an old issue - translators translate variable names which
should remain untranslated. We can wrap placeables around variable
names to avoid this.</p>
</li>
</ol>
</dd>
</dl>
<p>The placeables model follows the XLIFF standard’s list of placeables.
Please refer to the XLIFF specification to get a better understanding.</p>
<div class="section" id="id2">
<h3>base<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h3>
<span class="target" id="module-translate.storage.placeables.base"></span><p>Contains base placeable classes with names based on XLIFF placeables. See the
XLIFF standard for more information about what the names mean.</p>
<dl class="class">
<dt id="translate.storage.placeables.base.Bpt">
<em class="property">class </em><code class="descclassname">translate.storage.placeables.base.</code><code class="descname">Bpt</code><span class="sig-paren">(</span><em>sub=None</em>, <em>id=None</em>, <em>rid=None</em>, <em>xid=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.base.Bpt" title="Permalink to this definition">¶</a></dt>
<dd><dl class="method">
<dt id="translate.storage.placeables.base.Bpt.apply_to_strings">
<code class="descname">apply_to_strings</code><span class="sig-paren">(</span><em>f</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.base.Bpt.apply_to_strings" title="Permalink to this definition">¶</a></dt>
<dd><p>Apply <code class="docutils literal notranslate"><span class="pre">f</span></code> to all actual strings in the tree.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>f</strong> – Must take one (str or unicode) argument and return a
string or unicode.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.base.Bpt.copy">
<code class="descname">copy</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.base.Bpt.copy" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a copy of the sub-tree.  This should be overridden in
sub-classes with more data.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last"><code class="docutils literal notranslate"><span class="pre">self.renderer</span></code> is <strong>not</strong> copied.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.base.Bpt.delete_range">
<code class="descname">delete_range</code><span class="sig-paren">(</span><em>start_index</em>, <em>end_index</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.base.Bpt.delete_range" title="Permalink to this definition">¶</a></dt>
<dd><p>Delete the text in the range given by the string-indexes
<code class="docutils literal notranslate"><span class="pre">start_index</span></code> and <code class="docutils literal notranslate"><span class="pre">end_index</span></code>.</p>
<p>Partial nodes will only be removed if they are editable.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">A <code class="docutils literal notranslate"><span class="pre">StringElem</span></code> representing the removed sub-string, the
parent node from which it was deleted as well as the offset
at which it was deleted from. <code class="docutils literal notranslate"><span class="pre">None</span></code> is returned for the
parent value if the root was deleted. If the parent and
offset values are not <code class="docutils literal notranslate"><span class="pre">None</span></code>, <code class="docutils literal notranslate"><span class="pre">parent.insert(offset,</span>
<span class="pre">deleted)</span></code> effectively undoes the delete.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.base.Bpt.depth_first">
<code class="descname">depth_first</code><span class="sig-paren">(</span><em>filter=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.base.Bpt.depth_first" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a list of the nodes in the tree in depth-first order.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.base.Bpt.elem_at_offset">
<code class="descname">elem_at_offset</code><span class="sig-paren">(</span><em>offset</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.base.Bpt.elem_at_offset" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the <code class="docutils literal notranslate"><span class="pre">StringElem</span></code> in the tree that contains the string rendered
at the given offset.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.base.Bpt.elem_offset">
<code class="descname">elem_offset</code><span class="sig-paren">(</span><em>elem</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.base.Bpt.elem_offset" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the offset of <code class="docutils literal notranslate"><span class="pre">elem</span></code> in the current tree.</p>
<p>This cannot be reliably used if <code class="docutils literal notranslate"><span class="pre">self.renderer</span></code> is used and even
less so if the rendering function renders the string differently
upon different calls. In Virtaal the <code class="docutils literal notranslate"><span class="pre">StringElemGUI.index()</span></code> method
is used as replacement for this one.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The string index where element <code class="docutils literal notranslate"><span class="pre">e</span></code> starts, or -1 if <code class="docutils literal notranslate"><span class="pre">e</span></code>
was not found.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.base.Bpt.encode">
<code class="descname">encode</code><span class="sig-paren">(</span><em>encoding='ascii'</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.base.Bpt.encode" title="Permalink to this definition">¶</a></dt>
<dd><p>More <code class="docutils literal notranslate"><span class="pre">unicode</span></code> class emulation.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.base.Bpt.find">
<code class="descname">find</code><span class="sig-paren">(</span><em>x</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.base.Bpt.find" title="Permalink to this definition">¶</a></dt>
<dd><p>Find sub-string <code class="docutils literal notranslate"><span class="pre">x</span></code> in this string tree and return the position at
which it starts.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.base.Bpt.find_elems_with">
<code class="descname">find_elems_with</code><span class="sig-paren">(</span><em>x</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.base.Bpt.find_elems_with" title="Permalink to this definition">¶</a></dt>
<dd><p>Find all elements in the current sub-tree containing <code class="docutils literal notranslate"><span class="pre">x</span></code>.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.base.Bpt.flatten">
<code class="descname">flatten</code><span class="sig-paren">(</span><em>filter=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.base.Bpt.flatten" title="Permalink to this definition">¶</a></dt>
<dd><p>Flatten the tree by returning a depth-first search over the tree’s
leaves.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.base.Bpt.get_index_data">
<code class="descname">get_index_data</code><span class="sig-paren">(</span><em>index</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.base.Bpt.get_index_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Get info about the specified range in the tree.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">A dictionary with the following items:<ul class="simple">
<li><em>elem</em>: The element in which <code class="docutils literal notranslate"><span class="pre">index</span></code> resides.</li>
<li><em>index</em>: Copy of the <code class="docutils literal notranslate"><span class="pre">index</span></code> parameter</li>
<li><em>offset</em>: The offset of <code class="docutils literal notranslate"><span class="pre">index</span></code> into <code class="docutils literal notranslate"><span class="pre">'elem'</span></code>.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.base.Bpt.get_parent_elem">
<code class="descname">get_parent_elem</code><span class="sig-paren">(</span><em>child</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.base.Bpt.get_parent_elem" title="Permalink to this definition">¶</a></dt>
<dd><p>Searches the current sub-tree for and returns the parent of the
<code class="docutils literal notranslate"><span class="pre">child</span></code> element.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.base.Bpt.insert">
<code class="descname">insert</code><span class="sig-paren">(</span><em>offset</em>, <em>text</em>, <em>preferred_parent=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.base.Bpt.insert" title="Permalink to this definition">¶</a></dt>
<dd><p>Insert the given text at the specified offset of this string-tree’s
string (Unicode) representation.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.base.Bpt.insert_between">
<code class="descname">insert_between</code><span class="sig-paren">(</span><em>left</em>, <em>right</em>, <em>text</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.base.Bpt.insert_between" title="Permalink to this definition">¶</a></dt>
<dd><p>Insert the given text between the two parameter <code class="docutils literal notranslate"><span class="pre">StringElem</span></code>s.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.base.Bpt.isleaf">
<code class="descname">isleaf</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.base.Bpt.isleaf" title="Permalink to this definition">¶</a></dt>
<dd><p>Whether or not this instance is a leaf node in the <code class="docutils literal notranslate"><span class="pre">StringElem</span></code> tree.</p>
<p>A node is a leaf node if it is a <code class="docutils literal notranslate"><span class="pre">StringElem</span></code> (not a sub-class) and
contains only sub-elements of type <code class="docutils literal notranslate"><span class="pre">str</span></code> or <code class="docutils literal notranslate"><span class="pre">unicode</span></code>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/2.7/library/functions.html#bool" title="(in Python v2.7)">bool</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.base.Bpt.iter_depth_first">
<code class="descname">iter_depth_first</code><span class="sig-paren">(</span><em>filter=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.base.Bpt.iter_depth_first" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterate through the nodes in the tree in dept-first order.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.base.Bpt.map">
<code class="descname">map</code><span class="sig-paren">(</span><em>f</em>, <em>filter=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.base.Bpt.map" title="Permalink to this definition">¶</a></dt>
<dd><p>Apply <code class="docutils literal notranslate"><span class="pre">f</span></code> to all nodes for which <code class="docutils literal notranslate"><span class="pre">filter</span></code> returned <code class="docutils literal notranslate"><span class="pre">True</span></code>
(optional).</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.base.Bpt.print_tree">
<code class="descname">print_tree</code><span class="sig-paren">(</span><em>indent=0</em>, <em>verbose=False</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.base.Bpt.print_tree" title="Permalink to this definition">¶</a></dt>
<dd><p>Print the tree from the current instance’s point in an indented
manner.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.base.Bpt.prune">
<code class="descname">prune</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.base.Bpt.prune" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove unnecessary nodes to make the tree optimal.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.base.Bpt.remove_type">
<code class="descname">remove_type</code><span class="sig-paren">(</span><em>ptype</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.base.Bpt.remove_type" title="Permalink to this definition">¶</a></dt>
<dd><p>Replace nodes with type <code class="docutils literal notranslate"><span class="pre">ptype</span></code> with base <code class="docutils literal notranslate"><span class="pre">StringElem</span></code>s,
containing the same sub-elements. This is only applicable to elements
below the element tree root node.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.base.Bpt.translate">
<code class="descname">translate</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.base.Bpt.translate" title="Permalink to this definition">¶</a></dt>
<dd><p>Transform the sub-tree according to some class-specific needs.  This
method should be either overridden in implementing sub-classes or
dynamically replaced by specific applications.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The transformed Unicode string representing the sub-tree.</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="translate.storage.placeables.base.Ept">
<em class="property">class </em><code class="descclassname">translate.storage.placeables.base.</code><code class="descname">Ept</code><span class="sig-paren">(</span><em>sub=None</em>, <em>id=None</em>, <em>rid=None</em>, <em>xid=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.base.Ept" title="Permalink to this definition">¶</a></dt>
<dd><dl class="method">
<dt id="translate.storage.placeables.base.Ept.apply_to_strings">
<code class="descname">apply_to_strings</code><span class="sig-paren">(</span><em>f</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.base.Ept.apply_to_strings" title="Permalink to this definition">¶</a></dt>
<dd><p>Apply <code class="docutils literal notranslate"><span class="pre">f</span></code> to all actual strings in the tree.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>f</strong> – Must take one (str or unicode) argument and return a
string or unicode.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.base.Ept.copy">
<code class="descname">copy</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.base.Ept.copy" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a copy of the sub-tree.  This should be overridden in
sub-classes with more data.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last"><code class="docutils literal notranslate"><span class="pre">self.renderer</span></code> is <strong>not</strong> copied.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.base.Ept.delete_range">
<code class="descname">delete_range</code><span class="sig-paren">(</span><em>start_index</em>, <em>end_index</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.base.Ept.delete_range" title="Permalink to this definition">¶</a></dt>
<dd><p>Delete the text in the range given by the string-indexes
<code class="docutils literal notranslate"><span class="pre">start_index</span></code> and <code class="docutils literal notranslate"><span class="pre">end_index</span></code>.</p>
<p>Partial nodes will only be removed if they are editable.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">A <code class="docutils literal notranslate"><span class="pre">StringElem</span></code> representing the removed sub-string, the
parent node from which it was deleted as well as the offset
at which it was deleted from. <code class="docutils literal notranslate"><span class="pre">None</span></code> is returned for the
parent value if the root was deleted. If the parent and
offset values are not <code class="docutils literal notranslate"><span class="pre">None</span></code>, <code class="docutils literal notranslate"><span class="pre">parent.insert(offset,</span>
<span class="pre">deleted)</span></code> effectively undoes the delete.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.base.Ept.depth_first">
<code class="descname">depth_first</code><span class="sig-paren">(</span><em>filter=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.base.Ept.depth_first" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a list of the nodes in the tree in depth-first order.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.base.Ept.elem_at_offset">
<code class="descname">elem_at_offset</code><span class="sig-paren">(</span><em>offset</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.base.Ept.elem_at_offset" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the <code class="docutils literal notranslate"><span class="pre">StringElem</span></code> in the tree that contains the string rendered
at the given offset.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.base.Ept.elem_offset">
<code class="descname">elem_offset</code><span class="sig-paren">(</span><em>elem</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.base.Ept.elem_offset" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the offset of <code class="docutils literal notranslate"><span class="pre">elem</span></code> in the current tree.</p>
<p>This cannot be reliably used if <code class="docutils literal notranslate"><span class="pre">self.renderer</span></code> is used and even
less so if the rendering function renders the string differently
upon different calls. In Virtaal the <code class="docutils literal notranslate"><span class="pre">StringElemGUI.index()</span></code> method
is used as replacement for this one.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The string index where element <code class="docutils literal notranslate"><span class="pre">e</span></code> starts, or -1 if <code class="docutils literal notranslate"><span class="pre">e</span></code>
was not found.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.base.Ept.encode">
<code class="descname">encode</code><span class="sig-paren">(</span><em>encoding='ascii'</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.base.Ept.encode" title="Permalink to this definition">¶</a></dt>
<dd><p>More <code class="docutils literal notranslate"><span class="pre">unicode</span></code> class emulation.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.base.Ept.find">
<code class="descname">find</code><span class="sig-paren">(</span><em>x</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.base.Ept.find" title="Permalink to this definition">¶</a></dt>
<dd><p>Find sub-string <code class="docutils literal notranslate"><span class="pre">x</span></code> in this string tree and return the position at
which it starts.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.base.Ept.find_elems_with">
<code class="descname">find_elems_with</code><span class="sig-paren">(</span><em>x</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.base.Ept.find_elems_with" title="Permalink to this definition">¶</a></dt>
<dd><p>Find all elements in the current sub-tree containing <code class="docutils literal notranslate"><span class="pre">x</span></code>.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.base.Ept.flatten">
<code class="descname">flatten</code><span class="sig-paren">(</span><em>filter=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.base.Ept.flatten" title="Permalink to this definition">¶</a></dt>
<dd><p>Flatten the tree by returning a depth-first search over the tree’s
leaves.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.base.Ept.get_index_data">
<code class="descname">get_index_data</code><span class="sig-paren">(</span><em>index</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.base.Ept.get_index_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Get info about the specified range in the tree.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">A dictionary with the following items:<ul class="simple">
<li><em>elem</em>: The element in which <code class="docutils literal notranslate"><span class="pre">index</span></code> resides.</li>
<li><em>index</em>: Copy of the <code class="docutils literal notranslate"><span class="pre">index</span></code> parameter</li>
<li><em>offset</em>: The offset of <code class="docutils literal notranslate"><span class="pre">index</span></code> into <code class="docutils literal notranslate"><span class="pre">'elem'</span></code>.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.base.Ept.get_parent_elem">
<code class="descname">get_parent_elem</code><span class="sig-paren">(</span><em>child</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.base.Ept.get_parent_elem" title="Permalink to this definition">¶</a></dt>
<dd><p>Searches the current sub-tree for and returns the parent of the
<code class="docutils literal notranslate"><span class="pre">child</span></code> element.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.base.Ept.insert">
<code class="descname">insert</code><span class="sig-paren">(</span><em>offset</em>, <em>text</em>, <em>preferred_parent=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.base.Ept.insert" title="Permalink to this definition">¶</a></dt>
<dd><p>Insert the given text at the specified offset of this string-tree’s
string (Unicode) representation.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.base.Ept.insert_between">
<code class="descname">insert_between</code><span class="sig-paren">(</span><em>left</em>, <em>right</em>, <em>text</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.base.Ept.insert_between" title="Permalink to this definition">¶</a></dt>
<dd><p>Insert the given text between the two parameter <code class="docutils literal notranslate"><span class="pre">StringElem</span></code>s.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.base.Ept.isleaf">
<code class="descname">isleaf</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.base.Ept.isleaf" title="Permalink to this definition">¶</a></dt>
<dd><p>Whether or not this instance is a leaf node in the <code class="docutils literal notranslate"><span class="pre">StringElem</span></code> tree.</p>
<p>A node is a leaf node if it is a <code class="docutils literal notranslate"><span class="pre">StringElem</span></code> (not a sub-class) and
contains only sub-elements of type <code class="docutils literal notranslate"><span class="pre">str</span></code> or <code class="docutils literal notranslate"><span class="pre">unicode</span></code>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/2.7/library/functions.html#bool" title="(in Python v2.7)">bool</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.base.Ept.iter_depth_first">
<code class="descname">iter_depth_first</code><span class="sig-paren">(</span><em>filter=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.base.Ept.iter_depth_first" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterate through the nodes in the tree in dept-first order.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.base.Ept.map">
<code class="descname">map</code><span class="sig-paren">(</span><em>f</em>, <em>filter=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.base.Ept.map" title="Permalink to this definition">¶</a></dt>
<dd><p>Apply <code class="docutils literal notranslate"><span class="pre">f</span></code> to all nodes for which <code class="docutils literal notranslate"><span class="pre">filter</span></code> returned <code class="docutils literal notranslate"><span class="pre">True</span></code>
(optional).</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.base.Ept.print_tree">
<code class="descname">print_tree</code><span class="sig-paren">(</span><em>indent=0</em>, <em>verbose=False</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.base.Ept.print_tree" title="Permalink to this definition">¶</a></dt>
<dd><p>Print the tree from the current instance’s point in an indented
manner.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.base.Ept.prune">
<code class="descname">prune</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.base.Ept.prune" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove unnecessary nodes to make the tree optimal.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.base.Ept.remove_type">
<code class="descname">remove_type</code><span class="sig-paren">(</span><em>ptype</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.base.Ept.remove_type" title="Permalink to this definition">¶</a></dt>
<dd><p>Replace nodes with type <code class="docutils literal notranslate"><span class="pre">ptype</span></code> with base <code class="docutils literal notranslate"><span class="pre">StringElem</span></code>s,
containing the same sub-elements. This is only applicable to elements
below the element tree root node.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.base.Ept.translate">
<code class="descname">translate</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.base.Ept.translate" title="Permalink to this definition">¶</a></dt>
<dd><p>Transform the sub-tree according to some class-specific needs.  This
method should be either overridden in implementing sub-classes or
dynamically replaced by specific applications.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The transformed Unicode string representing the sub-tree.</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="translate.storage.placeables.base.Ph">
<em class="property">class </em><code class="descclassname">translate.storage.placeables.base.</code><code class="descname">Ph</code><span class="sig-paren">(</span><em>sub=None</em>, <em>id=None</em>, <em>rid=None</em>, <em>xid=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.base.Ph" title="Permalink to this definition">¶</a></dt>
<dd><dl class="method">
<dt id="translate.storage.placeables.base.Ph.apply_to_strings">
<code class="descname">apply_to_strings</code><span class="sig-paren">(</span><em>f</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.base.Ph.apply_to_strings" title="Permalink to this definition">¶</a></dt>
<dd><p>Apply <code class="docutils literal notranslate"><span class="pre">f</span></code> to all actual strings in the tree.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>f</strong> – Must take one (str or unicode) argument and return a
string or unicode.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.base.Ph.copy">
<code class="descname">copy</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.base.Ph.copy" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a copy of the sub-tree.  This should be overridden in
sub-classes with more data.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last"><code class="docutils literal notranslate"><span class="pre">self.renderer</span></code> is <strong>not</strong> copied.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.base.Ph.delete_range">
<code class="descname">delete_range</code><span class="sig-paren">(</span><em>start_index</em>, <em>end_index</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.base.Ph.delete_range" title="Permalink to this definition">¶</a></dt>
<dd><p>Delete the text in the range given by the string-indexes
<code class="docutils literal notranslate"><span class="pre">start_index</span></code> and <code class="docutils literal notranslate"><span class="pre">end_index</span></code>.</p>
<p>Partial nodes will only be removed if they are editable.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">A <code class="docutils literal notranslate"><span class="pre">StringElem</span></code> representing the removed sub-string, the
parent node from which it was deleted as well as the offset
at which it was deleted from. <code class="docutils literal notranslate"><span class="pre">None</span></code> is returned for the
parent value if the root was deleted. If the parent and
offset values are not <code class="docutils literal notranslate"><span class="pre">None</span></code>, <code class="docutils literal notranslate"><span class="pre">parent.insert(offset,</span>
<span class="pre">deleted)</span></code> effectively undoes the delete.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.base.Ph.depth_first">
<code class="descname">depth_first</code><span class="sig-paren">(</span><em>filter=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.base.Ph.depth_first" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a list of the nodes in the tree in depth-first order.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.base.Ph.elem_at_offset">
<code class="descname">elem_at_offset</code><span class="sig-paren">(</span><em>offset</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.base.Ph.elem_at_offset" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the <code class="docutils literal notranslate"><span class="pre">StringElem</span></code> in the tree that contains the string rendered
at the given offset.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.base.Ph.elem_offset">
<code class="descname">elem_offset</code><span class="sig-paren">(</span><em>elem</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.base.Ph.elem_offset" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the offset of <code class="docutils literal notranslate"><span class="pre">elem</span></code> in the current tree.</p>
<p>This cannot be reliably used if <code class="docutils literal notranslate"><span class="pre">self.renderer</span></code> is used and even
less so if the rendering function renders the string differently
upon different calls. In Virtaal the <code class="docutils literal notranslate"><span class="pre">StringElemGUI.index()</span></code> method
is used as replacement for this one.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The string index where element <code class="docutils literal notranslate"><span class="pre">e</span></code> starts, or -1 if <code class="docutils literal notranslate"><span class="pre">e</span></code>
was not found.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.base.Ph.encode">
<code class="descname">encode</code><span class="sig-paren">(</span><em>encoding='ascii'</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.base.Ph.encode" title="Permalink to this definition">¶</a></dt>
<dd><p>More <code class="docutils literal notranslate"><span class="pre">unicode</span></code> class emulation.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.base.Ph.find">
<code class="descname">find</code><span class="sig-paren">(</span><em>x</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.base.Ph.find" title="Permalink to this definition">¶</a></dt>
<dd><p>Find sub-string <code class="docutils literal notranslate"><span class="pre">x</span></code> in this string tree and return the position at
which it starts.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.base.Ph.find_elems_with">
<code class="descname">find_elems_with</code><span class="sig-paren">(</span><em>x</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.base.Ph.find_elems_with" title="Permalink to this definition">¶</a></dt>
<dd><p>Find all elements in the current sub-tree containing <code class="docutils literal notranslate"><span class="pre">x</span></code>.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.base.Ph.flatten">
<code class="descname">flatten</code><span class="sig-paren">(</span><em>filter=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.base.Ph.flatten" title="Permalink to this definition">¶</a></dt>
<dd><p>Flatten the tree by returning a depth-first search over the tree’s
leaves.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.base.Ph.get_index_data">
<code class="descname">get_index_data</code><span class="sig-paren">(</span><em>index</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.base.Ph.get_index_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Get info about the specified range in the tree.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">A dictionary with the following items:<ul class="simple">
<li><em>elem</em>: The element in which <code class="docutils literal notranslate"><span class="pre">index</span></code> resides.</li>
<li><em>index</em>: Copy of the <code class="docutils literal notranslate"><span class="pre">index</span></code> parameter</li>
<li><em>offset</em>: The offset of <code class="docutils literal notranslate"><span class="pre">index</span></code> into <code class="docutils literal notranslate"><span class="pre">'elem'</span></code>.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.base.Ph.get_parent_elem">
<code class="descname">get_parent_elem</code><span class="sig-paren">(</span><em>child</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.base.Ph.get_parent_elem" title="Permalink to this definition">¶</a></dt>
<dd><p>Searches the current sub-tree for and returns the parent of the
<code class="docutils literal notranslate"><span class="pre">child</span></code> element.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.base.Ph.insert">
<code class="descname">insert</code><span class="sig-paren">(</span><em>offset</em>, <em>text</em>, <em>preferred_parent=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.base.Ph.insert" title="Permalink to this definition">¶</a></dt>
<dd><p>Insert the given text at the specified offset of this string-tree’s
string (Unicode) representation.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.base.Ph.insert_between">
<code class="descname">insert_between</code><span class="sig-paren">(</span><em>left</em>, <em>right</em>, <em>text</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.base.Ph.insert_between" title="Permalink to this definition">¶</a></dt>
<dd><p>Insert the given text between the two parameter <code class="docutils literal notranslate"><span class="pre">StringElem</span></code>s.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.base.Ph.isleaf">
<code class="descname">isleaf</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.base.Ph.isleaf" title="Permalink to this definition">¶</a></dt>
<dd><p>Whether or not this instance is a leaf node in the <code class="docutils literal notranslate"><span class="pre">StringElem</span></code> tree.</p>
<p>A node is a leaf node if it is a <code class="docutils literal notranslate"><span class="pre">StringElem</span></code> (not a sub-class) and
contains only sub-elements of type <code class="docutils literal notranslate"><span class="pre">str</span></code> or <code class="docutils literal notranslate"><span class="pre">unicode</span></code>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/2.7/library/functions.html#bool" title="(in Python v2.7)">bool</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.base.Ph.iter_depth_first">
<code class="descname">iter_depth_first</code><span class="sig-paren">(</span><em>filter=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.base.Ph.iter_depth_first" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterate through the nodes in the tree in dept-first order.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.base.Ph.map">
<code class="descname">map</code><span class="sig-paren">(</span><em>f</em>, <em>filter=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.base.Ph.map" title="Permalink to this definition">¶</a></dt>
<dd><p>Apply <code class="docutils literal notranslate"><span class="pre">f</span></code> to all nodes for which <code class="docutils literal notranslate"><span class="pre">filter</span></code> returned <code class="docutils literal notranslate"><span class="pre">True</span></code>
(optional).</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.base.Ph.print_tree">
<code class="descname">print_tree</code><span class="sig-paren">(</span><em>indent=0</em>, <em>verbose=False</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.base.Ph.print_tree" title="Permalink to this definition">¶</a></dt>
<dd><p>Print the tree from the current instance’s point in an indented
manner.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.base.Ph.prune">
<code class="descname">prune</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.base.Ph.prune" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove unnecessary nodes to make the tree optimal.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.base.Ph.remove_type">
<code class="descname">remove_type</code><span class="sig-paren">(</span><em>ptype</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.base.Ph.remove_type" title="Permalink to this definition">¶</a></dt>
<dd><p>Replace nodes with type <code class="docutils literal notranslate"><span class="pre">ptype</span></code> with base <code class="docutils literal notranslate"><span class="pre">StringElem</span></code>s,
containing the same sub-elements. This is only applicable to elements
below the element tree root node.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.base.Ph.translate">
<code class="descname">translate</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.base.Ph.translate" title="Permalink to this definition">¶</a></dt>
<dd><p>Transform the sub-tree according to some class-specific needs.  This
method should be either overridden in implementing sub-classes or
dynamically replaced by specific applications.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The transformed Unicode string representing the sub-tree.</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="translate.storage.placeables.base.It">
<em class="property">class </em><code class="descclassname">translate.storage.placeables.base.</code><code class="descname">It</code><span class="sig-paren">(</span><em>sub=None</em>, <em>id=None</em>, <em>rid=None</em>, <em>xid=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.base.It" title="Permalink to this definition">¶</a></dt>
<dd><dl class="method">
<dt id="translate.storage.placeables.base.It.apply_to_strings">
<code class="descname">apply_to_strings</code><span class="sig-paren">(</span><em>f</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.base.It.apply_to_strings" title="Permalink to this definition">¶</a></dt>
<dd><p>Apply <code class="docutils literal notranslate"><span class="pre">f</span></code> to all actual strings in the tree.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>f</strong> – Must take one (str or unicode) argument and return a
string or unicode.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.base.It.copy">
<code class="descname">copy</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.base.It.copy" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a copy of the sub-tree.  This should be overridden in
sub-classes with more data.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last"><code class="docutils literal notranslate"><span class="pre">self.renderer</span></code> is <strong>not</strong> copied.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.base.It.delete_range">
<code class="descname">delete_range</code><span class="sig-paren">(</span><em>start_index</em>, <em>end_index</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.base.It.delete_range" title="Permalink to this definition">¶</a></dt>
<dd><p>Delete the text in the range given by the string-indexes
<code class="docutils literal notranslate"><span class="pre">start_index</span></code> and <code class="docutils literal notranslate"><span class="pre">end_index</span></code>.</p>
<p>Partial nodes will only be removed if they are editable.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">A <code class="docutils literal notranslate"><span class="pre">StringElem</span></code> representing the removed sub-string, the
parent node from which it was deleted as well as the offset
at which it was deleted from. <code class="docutils literal notranslate"><span class="pre">None</span></code> is returned for the
parent value if the root was deleted. If the parent and
offset values are not <code class="docutils literal notranslate"><span class="pre">None</span></code>, <code class="docutils literal notranslate"><span class="pre">parent.insert(offset,</span>
<span class="pre">deleted)</span></code> effectively undoes the delete.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.base.It.depth_first">
<code class="descname">depth_first</code><span class="sig-paren">(</span><em>filter=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.base.It.depth_first" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a list of the nodes in the tree in depth-first order.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.base.It.elem_at_offset">
<code class="descname">elem_at_offset</code><span class="sig-paren">(</span><em>offset</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.base.It.elem_at_offset" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the <code class="docutils literal notranslate"><span class="pre">StringElem</span></code> in the tree that contains the string rendered
at the given offset.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.base.It.elem_offset">
<code class="descname">elem_offset</code><span class="sig-paren">(</span><em>elem</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.base.It.elem_offset" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the offset of <code class="docutils literal notranslate"><span class="pre">elem</span></code> in the current tree.</p>
<p>This cannot be reliably used if <code class="docutils literal notranslate"><span class="pre">self.renderer</span></code> is used and even
less so if the rendering function renders the string differently
upon different calls. In Virtaal the <code class="docutils literal notranslate"><span class="pre">StringElemGUI.index()</span></code> method
is used as replacement for this one.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The string index where element <code class="docutils literal notranslate"><span class="pre">e</span></code> starts, or -1 if <code class="docutils literal notranslate"><span class="pre">e</span></code>
was not found.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.base.It.encode">
<code class="descname">encode</code><span class="sig-paren">(</span><em>encoding='ascii'</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.base.It.encode" title="Permalink to this definition">¶</a></dt>
<dd><p>More <code class="docutils literal notranslate"><span class="pre">unicode</span></code> class emulation.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.base.It.find">
<code class="descname">find</code><span class="sig-paren">(</span><em>x</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.base.It.find" title="Permalink to this definition">¶</a></dt>
<dd><p>Find sub-string <code class="docutils literal notranslate"><span class="pre">x</span></code> in this string tree and return the position at
which it starts.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.base.It.find_elems_with">
<code class="descname">find_elems_with</code><span class="sig-paren">(</span><em>x</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.base.It.find_elems_with" title="Permalink to this definition">¶</a></dt>
<dd><p>Find all elements in the current sub-tree containing <code class="docutils literal notranslate"><span class="pre">x</span></code>.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.base.It.flatten">
<code class="descname">flatten</code><span class="sig-paren">(</span><em>filter=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.base.It.flatten" title="Permalink to this definition">¶</a></dt>
<dd><p>Flatten the tree by returning a depth-first search over the tree’s
leaves.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.base.It.get_index_data">
<code class="descname">get_index_data</code><span class="sig-paren">(</span><em>index</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.base.It.get_index_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Get info about the specified range in the tree.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">A dictionary with the following items:<ul class="simple">
<li><em>elem</em>: The element in which <code class="docutils literal notranslate"><span class="pre">index</span></code> resides.</li>
<li><em>index</em>: Copy of the <code class="docutils literal notranslate"><span class="pre">index</span></code> parameter</li>
<li><em>offset</em>: The offset of <code class="docutils literal notranslate"><span class="pre">index</span></code> into <code class="docutils literal notranslate"><span class="pre">'elem'</span></code>.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.base.It.get_parent_elem">
<code class="descname">get_parent_elem</code><span class="sig-paren">(</span><em>child</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.base.It.get_parent_elem" title="Permalink to this definition">¶</a></dt>
<dd><p>Searches the current sub-tree for and returns the parent of the
<code class="docutils literal notranslate"><span class="pre">child</span></code> element.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.base.It.insert">
<code class="descname">insert</code><span class="sig-paren">(</span><em>offset</em>, <em>text</em>, <em>preferred_parent=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.base.It.insert" title="Permalink to this definition">¶</a></dt>
<dd><p>Insert the given text at the specified offset of this string-tree’s
string (Unicode) representation.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.base.It.insert_between">
<code class="descname">insert_between</code><span class="sig-paren">(</span><em>left</em>, <em>right</em>, <em>text</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.base.It.insert_between" title="Permalink to this definition">¶</a></dt>
<dd><p>Insert the given text between the two parameter <code class="docutils literal notranslate"><span class="pre">StringElem</span></code>s.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.base.It.isleaf">
<code class="descname">isleaf</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.base.It.isleaf" title="Permalink to this definition">¶</a></dt>
<dd><p>Whether or not this instance is a leaf node in the <code class="docutils literal notranslate"><span class="pre">StringElem</span></code> tree.</p>
<p>A node is a leaf node if it is a <code class="docutils literal notranslate"><span class="pre">StringElem</span></code> (not a sub-class) and
contains only sub-elements of type <code class="docutils literal notranslate"><span class="pre">str</span></code> or <code class="docutils literal notranslate"><span class="pre">unicode</span></code>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/2.7/library/functions.html#bool" title="(in Python v2.7)">bool</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.base.It.iter_depth_first">
<code class="descname">iter_depth_first</code><span class="sig-paren">(</span><em>filter=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.base.It.iter_depth_first" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterate through the nodes in the tree in dept-first order.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.base.It.map">
<code class="descname">map</code><span class="sig-paren">(</span><em>f</em>, <em>filter=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.base.It.map" title="Permalink to this definition">¶</a></dt>
<dd><p>Apply <code class="docutils literal notranslate"><span class="pre">f</span></code> to all nodes for which <code class="docutils literal notranslate"><span class="pre">filter</span></code> returned <code class="docutils literal notranslate"><span class="pre">True</span></code>
(optional).</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.base.It.print_tree">
<code class="descname">print_tree</code><span class="sig-paren">(</span><em>indent=0</em>, <em>verbose=False</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.base.It.print_tree" title="Permalink to this definition">¶</a></dt>
<dd><p>Print the tree from the current instance’s point in an indented
manner.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.base.It.prune">
<code class="descname">prune</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.base.It.prune" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove unnecessary nodes to make the tree optimal.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.base.It.remove_type">
<code class="descname">remove_type</code><span class="sig-paren">(</span><em>ptype</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.base.It.remove_type" title="Permalink to this definition">¶</a></dt>
<dd><p>Replace nodes with type <code class="docutils literal notranslate"><span class="pre">ptype</span></code> with base <code class="docutils literal notranslate"><span class="pre">StringElem</span></code>s,
containing the same sub-elements. This is only applicable to elements
below the element tree root node.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.base.It.translate">
<code class="descname">translate</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.base.It.translate" title="Permalink to this definition">¶</a></dt>
<dd><p>Transform the sub-tree according to some class-specific needs.  This
method should be either overridden in implementing sub-classes or
dynamically replaced by specific applications.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The transformed Unicode string representing the sub-tree.</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="translate.storage.placeables.base.G">
<em class="property">class </em><code class="descclassname">translate.storage.placeables.base.</code><code class="descname">G</code><span class="sig-paren">(</span><em>sub=None</em>, <em>id=None</em>, <em>rid=None</em>, <em>xid=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.base.G" title="Permalink to this definition">¶</a></dt>
<dd><dl class="method">
<dt id="translate.storage.placeables.base.G.apply_to_strings">
<code class="descname">apply_to_strings</code><span class="sig-paren">(</span><em>f</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.base.G.apply_to_strings" title="Permalink to this definition">¶</a></dt>
<dd><p>Apply <code class="docutils literal notranslate"><span class="pre">f</span></code> to all actual strings in the tree.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>f</strong> – Must take one (str or unicode) argument and return a
string or unicode.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.base.G.copy">
<code class="descname">copy</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.base.G.copy" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a copy of the sub-tree.  This should be overridden in
sub-classes with more data.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last"><code class="docutils literal notranslate"><span class="pre">self.renderer</span></code> is <strong>not</strong> copied.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.base.G.delete_range">
<code class="descname">delete_range</code><span class="sig-paren">(</span><em>start_index</em>, <em>end_index</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.base.G.delete_range" title="Permalink to this definition">¶</a></dt>
<dd><p>Delete the text in the range given by the string-indexes
<code class="docutils literal notranslate"><span class="pre">start_index</span></code> and <code class="docutils literal notranslate"><span class="pre">end_index</span></code>.</p>
<p>Partial nodes will only be removed if they are editable.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">A <code class="docutils literal notranslate"><span class="pre">StringElem</span></code> representing the removed sub-string, the
parent node from which it was deleted as well as the offset
at which it was deleted from. <code class="docutils literal notranslate"><span class="pre">None</span></code> is returned for the
parent value if the root was deleted. If the parent and
offset values are not <code class="docutils literal notranslate"><span class="pre">None</span></code>, <code class="docutils literal notranslate"><span class="pre">parent.insert(offset,</span>
<span class="pre">deleted)</span></code> effectively undoes the delete.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.base.G.depth_first">
<code class="descname">depth_first</code><span class="sig-paren">(</span><em>filter=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.base.G.depth_first" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a list of the nodes in the tree in depth-first order.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.base.G.elem_at_offset">
<code class="descname">elem_at_offset</code><span class="sig-paren">(</span><em>offset</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.base.G.elem_at_offset" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the <code class="docutils literal notranslate"><span class="pre">StringElem</span></code> in the tree that contains the string rendered
at the given offset.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.base.G.elem_offset">
<code class="descname">elem_offset</code><span class="sig-paren">(</span><em>elem</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.base.G.elem_offset" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the offset of <code class="docutils literal notranslate"><span class="pre">elem</span></code> in the current tree.</p>
<p>This cannot be reliably used if <code class="docutils literal notranslate"><span class="pre">self.renderer</span></code> is used and even
less so if the rendering function renders the string differently
upon different calls. In Virtaal the <code class="docutils literal notranslate"><span class="pre">StringElemGUI.index()</span></code> method
is used as replacement for this one.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The string index where element <code class="docutils literal notranslate"><span class="pre">e</span></code> starts, or -1 if <code class="docutils literal notranslate"><span class="pre">e</span></code>
was not found.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.base.G.encode">
<code class="descname">encode</code><span class="sig-paren">(</span><em>encoding='ascii'</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.base.G.encode" title="Permalink to this definition">¶</a></dt>
<dd><p>More <code class="docutils literal notranslate"><span class="pre">unicode</span></code> class emulation.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.base.G.find">
<code class="descname">find</code><span class="sig-paren">(</span><em>x</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.base.G.find" title="Permalink to this definition">¶</a></dt>
<dd><p>Find sub-string <code class="docutils literal notranslate"><span class="pre">x</span></code> in this string tree and return the position at
which it starts.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.base.G.find_elems_with">
<code class="descname">find_elems_with</code><span class="sig-paren">(</span><em>x</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.base.G.find_elems_with" title="Permalink to this definition">¶</a></dt>
<dd><p>Find all elements in the current sub-tree containing <code class="docutils literal notranslate"><span class="pre">x</span></code>.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.base.G.flatten">
<code class="descname">flatten</code><span class="sig-paren">(</span><em>filter=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.base.G.flatten" title="Permalink to this definition">¶</a></dt>
<dd><p>Flatten the tree by returning a depth-first search over the tree’s
leaves.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.base.G.get_index_data">
<code class="descname">get_index_data</code><span class="sig-paren">(</span><em>index</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.base.G.get_index_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Get info about the specified range in the tree.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">A dictionary with the following items:<ul class="simple">
<li><em>elem</em>: The element in which <code class="docutils literal notranslate"><span class="pre">index</span></code> resides.</li>
<li><em>index</em>: Copy of the <code class="docutils literal notranslate"><span class="pre">index</span></code> parameter</li>
<li><em>offset</em>: The offset of <code class="docutils literal notranslate"><span class="pre">index</span></code> into <code class="docutils literal notranslate"><span class="pre">'elem'</span></code>.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.base.G.get_parent_elem">
<code class="descname">get_parent_elem</code><span class="sig-paren">(</span><em>child</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.base.G.get_parent_elem" title="Permalink to this definition">¶</a></dt>
<dd><p>Searches the current sub-tree for and returns the parent of the
<code class="docutils literal notranslate"><span class="pre">child</span></code> element.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.base.G.insert">
<code class="descname">insert</code><span class="sig-paren">(</span><em>offset</em>, <em>text</em>, <em>preferred_parent=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.base.G.insert" title="Permalink to this definition">¶</a></dt>
<dd><p>Insert the given text at the specified offset of this string-tree’s
string (Unicode) representation.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.base.G.insert_between">
<code class="descname">insert_between</code><span class="sig-paren">(</span><em>left</em>, <em>right</em>, <em>text</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.base.G.insert_between" title="Permalink to this definition">¶</a></dt>
<dd><p>Insert the given text between the two parameter <code class="docutils literal notranslate"><span class="pre">StringElem</span></code>s.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.base.G.isleaf">
<code class="descname">isleaf</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.base.G.isleaf" title="Permalink to this definition">¶</a></dt>
<dd><p>Whether or not this instance is a leaf node in the <code class="docutils literal notranslate"><span class="pre">StringElem</span></code> tree.</p>
<p>A node is a leaf node if it is a <code class="docutils literal notranslate"><span class="pre">StringElem</span></code> (not a sub-class) and
contains only sub-elements of type <code class="docutils literal notranslate"><span class="pre">str</span></code> or <code class="docutils literal notranslate"><span class="pre">unicode</span></code>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/2.7/library/functions.html#bool" title="(in Python v2.7)">bool</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.base.G.iter_depth_first">
<code class="descname">iter_depth_first</code><span class="sig-paren">(</span><em>filter=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.base.G.iter_depth_first" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterate through the nodes in the tree in dept-first order.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.base.G.map">
<code class="descname">map</code><span class="sig-paren">(</span><em>f</em>, <em>filter=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.base.G.map" title="Permalink to this definition">¶</a></dt>
<dd><p>Apply <code class="docutils literal notranslate"><span class="pre">f</span></code> to all nodes for which <code class="docutils literal notranslate"><span class="pre">filter</span></code> returned <code class="docutils literal notranslate"><span class="pre">True</span></code>
(optional).</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.base.G.print_tree">
<code class="descname">print_tree</code><span class="sig-paren">(</span><em>indent=0</em>, <em>verbose=False</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.base.G.print_tree" title="Permalink to this definition">¶</a></dt>
<dd><p>Print the tree from the current instance’s point in an indented
manner.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.base.G.prune">
<code class="descname">prune</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.base.G.prune" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove unnecessary nodes to make the tree optimal.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.base.G.remove_type">
<code class="descname">remove_type</code><span class="sig-paren">(</span><em>ptype</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.base.G.remove_type" title="Permalink to this definition">¶</a></dt>
<dd><p>Replace nodes with type <code class="docutils literal notranslate"><span class="pre">ptype</span></code> with base <code class="docutils literal notranslate"><span class="pre">StringElem</span></code>s,
containing the same sub-elements. This is only applicable to elements
below the element tree root node.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.base.G.translate">
<code class="descname">translate</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.base.G.translate" title="Permalink to this definition">¶</a></dt>
<dd><p>Transform the sub-tree according to some class-specific needs.  This
method should be either overridden in implementing sub-classes or
dynamically replaced by specific applications.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The transformed Unicode string representing the sub-tree.</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="translate.storage.placeables.base.Bx">
<em class="property">class </em><code class="descclassname">translate.storage.placeables.base.</code><code class="descname">Bx</code><span class="sig-paren">(</span><em>id=None</em>, <em>xid=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.base.Bx" title="Permalink to this definition">¶</a></dt>
<dd><dl class="method">
<dt id="translate.storage.placeables.base.Bx.apply_to_strings">
<code class="descname">apply_to_strings</code><span class="sig-paren">(</span><em>f</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.base.Bx.apply_to_strings" title="Permalink to this definition">¶</a></dt>
<dd><p>Apply <code class="docutils literal notranslate"><span class="pre">f</span></code> to all actual strings in the tree.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>f</strong> – Must take one (str or unicode) argument and return a
string or unicode.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.base.Bx.copy">
<code class="descname">copy</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.base.Bx.copy" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a copy of the sub-tree.  This should be overridden in
sub-classes with more data.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last"><code class="docutils literal notranslate"><span class="pre">self.renderer</span></code> is <strong>not</strong> copied.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.base.Bx.delete_range">
<code class="descname">delete_range</code><span class="sig-paren">(</span><em>start_index</em>, <em>end_index</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.base.Bx.delete_range" title="Permalink to this definition">¶</a></dt>
<dd><p>Delete the text in the range given by the string-indexes
<code class="docutils literal notranslate"><span class="pre">start_index</span></code> and <code class="docutils literal notranslate"><span class="pre">end_index</span></code>.</p>
<p>Partial nodes will only be removed if they are editable.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">A <code class="docutils literal notranslate"><span class="pre">StringElem</span></code> representing the removed sub-string, the
parent node from which it was deleted as well as the offset
at which it was deleted from. <code class="docutils literal notranslate"><span class="pre">None</span></code> is returned for the
parent value if the root was deleted. If the parent and
offset values are not <code class="docutils literal notranslate"><span class="pre">None</span></code>, <code class="docutils literal notranslate"><span class="pre">parent.insert(offset,</span>
<span class="pre">deleted)</span></code> effectively undoes the delete.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.base.Bx.depth_first">
<code class="descname">depth_first</code><span class="sig-paren">(</span><em>filter=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.base.Bx.depth_first" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a list of the nodes in the tree in depth-first order.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.base.Bx.elem_at_offset">
<code class="descname">elem_at_offset</code><span class="sig-paren">(</span><em>offset</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.base.Bx.elem_at_offset" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the <code class="docutils literal notranslate"><span class="pre">StringElem</span></code> in the tree that contains the string rendered
at the given offset.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.base.Bx.elem_offset">
<code class="descname">elem_offset</code><span class="sig-paren">(</span><em>elem</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.base.Bx.elem_offset" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the offset of <code class="docutils literal notranslate"><span class="pre">elem</span></code> in the current tree.</p>
<p>This cannot be reliably used if <code class="docutils literal notranslate"><span class="pre">self.renderer</span></code> is used and even
less so if the rendering function renders the string differently
upon different calls. In Virtaal the <code class="docutils literal notranslate"><span class="pre">StringElemGUI.index()</span></code> method
is used as replacement for this one.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The string index where element <code class="docutils literal notranslate"><span class="pre">e</span></code> starts, or -1 if <code class="docutils literal notranslate"><span class="pre">e</span></code>
was not found.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.base.Bx.encode">
<code class="descname">encode</code><span class="sig-paren">(</span><em>encoding='ascii'</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.base.Bx.encode" title="Permalink to this definition">¶</a></dt>
<dd><p>More <code class="docutils literal notranslate"><span class="pre">unicode</span></code> class emulation.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.base.Bx.find">
<code class="descname">find</code><span class="sig-paren">(</span><em>x</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.base.Bx.find" title="Permalink to this definition">¶</a></dt>
<dd><p>Find sub-string <code class="docutils literal notranslate"><span class="pre">x</span></code> in this string tree and return the position at
which it starts.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.base.Bx.find_elems_with">
<code class="descname">find_elems_with</code><span class="sig-paren">(</span><em>x</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.base.Bx.find_elems_with" title="Permalink to this definition">¶</a></dt>
<dd><p>Find all elements in the current sub-tree containing <code class="docutils literal notranslate"><span class="pre">x</span></code>.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.base.Bx.flatten">
<code class="descname">flatten</code><span class="sig-paren">(</span><em>filter=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.base.Bx.flatten" title="Permalink to this definition">¶</a></dt>
<dd><p>Flatten the tree by returning a depth-first search over the tree’s
leaves.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.base.Bx.get_index_data">
<code class="descname">get_index_data</code><span class="sig-paren">(</span><em>index</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.base.Bx.get_index_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Get info about the specified range in the tree.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">A dictionary with the following items:<ul class="simple">
<li><em>elem</em>: The element in which <code class="docutils literal notranslate"><span class="pre">index</span></code> resides.</li>
<li><em>index</em>: Copy of the <code class="docutils literal notranslate"><span class="pre">index</span></code> parameter</li>
<li><em>offset</em>: The offset of <code class="docutils literal notranslate"><span class="pre">index</span></code> into <code class="docutils literal notranslate"><span class="pre">'elem'</span></code>.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.base.Bx.get_parent_elem">
<code class="descname">get_parent_elem</code><span class="sig-paren">(</span><em>child</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.base.Bx.get_parent_elem" title="Permalink to this definition">¶</a></dt>
<dd><p>Searches the current sub-tree for and returns the parent of the
<code class="docutils literal notranslate"><span class="pre">child</span></code> element.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.base.Bx.insert">
<code class="descname">insert</code><span class="sig-paren">(</span><em>offset</em>, <em>text</em>, <em>preferred_parent=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.base.Bx.insert" title="Permalink to this definition">¶</a></dt>
<dd><p>Insert the given text at the specified offset of this string-tree’s
string (Unicode) representation.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.base.Bx.insert_between">
<code class="descname">insert_between</code><span class="sig-paren">(</span><em>left</em>, <em>right</em>, <em>text</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.base.Bx.insert_between" title="Permalink to this definition">¶</a></dt>
<dd><p>Insert the given text between the two parameter <code class="docutils literal notranslate"><span class="pre">StringElem</span></code>s.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.base.Bx.isleaf">
<code class="descname">isleaf</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.base.Bx.isleaf" title="Permalink to this definition">¶</a></dt>
<dd><p>Whether or not this instance is a leaf node in the <code class="docutils literal notranslate"><span class="pre">StringElem</span></code> tree.</p>
<p>A node is a leaf node if it is a <code class="docutils literal notranslate"><span class="pre">StringElem</span></code> (not a sub-class) and
contains only sub-elements of type <code class="docutils literal notranslate"><span class="pre">str</span></code> or <code class="docutils literal notranslate"><span class="pre">unicode</span></code>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/2.7/library/functions.html#bool" title="(in Python v2.7)">bool</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.base.Bx.iter_depth_first">
<code class="descname">iter_depth_first</code><span class="sig-paren">(</span><em>filter=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.base.Bx.iter_depth_first" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterate through the nodes in the tree in dept-first order.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.base.Bx.map">
<code class="descname">map</code><span class="sig-paren">(</span><em>f</em>, <em>filter=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.base.Bx.map" title="Permalink to this definition">¶</a></dt>
<dd><p>Apply <code class="docutils literal notranslate"><span class="pre">f</span></code> to all nodes for which <code class="docutils literal notranslate"><span class="pre">filter</span></code> returned <code class="docutils literal notranslate"><span class="pre">True</span></code>
(optional).</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.base.Bx.print_tree">
<code class="descname">print_tree</code><span class="sig-paren">(</span><em>indent=0</em>, <em>verbose=False</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.base.Bx.print_tree" title="Permalink to this definition">¶</a></dt>
<dd><p>Print the tree from the current instance’s point in an indented
manner.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.base.Bx.prune">
<code class="descname">prune</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.base.Bx.prune" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove unnecessary nodes to make the tree optimal.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.base.Bx.remove_type">
<code class="descname">remove_type</code><span class="sig-paren">(</span><em>ptype</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.base.Bx.remove_type" title="Permalink to this definition">¶</a></dt>
<dd><p>Replace nodes with type <code class="docutils literal notranslate"><span class="pre">ptype</span></code> with base <code class="docutils literal notranslate"><span class="pre">StringElem</span></code>s,
containing the same sub-elements. This is only applicable to elements
below the element tree root node.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.base.Bx.translate">
<code class="descname">translate</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.base.Bx.translate" title="Permalink to this definition">¶</a></dt>
<dd><p>Transform the sub-tree according to some class-specific needs.  This
method should be either overridden in implementing sub-classes or
dynamically replaced by specific applications.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The transformed Unicode string representing the sub-tree.</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="translate.storage.placeables.base.Ex">
<em class="property">class </em><code class="descclassname">translate.storage.placeables.base.</code><code class="descname">Ex</code><span class="sig-paren">(</span><em>id=None</em>, <em>xid=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.base.Ex" title="Permalink to this definition">¶</a></dt>
<dd><dl class="method">
<dt id="translate.storage.placeables.base.Ex.apply_to_strings">
<code class="descname">apply_to_strings</code><span class="sig-paren">(</span><em>f</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.base.Ex.apply_to_strings" title="Permalink to this definition">¶</a></dt>
<dd><p>Apply <code class="docutils literal notranslate"><span class="pre">f</span></code> to all actual strings in the tree.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>f</strong> – Must take one (str or unicode) argument and return a
string or unicode.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.base.Ex.copy">
<code class="descname">copy</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.base.Ex.copy" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a copy of the sub-tree.  This should be overridden in
sub-classes with more data.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last"><code class="docutils literal notranslate"><span class="pre">self.renderer</span></code> is <strong>not</strong> copied.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.base.Ex.delete_range">
<code class="descname">delete_range</code><span class="sig-paren">(</span><em>start_index</em>, <em>end_index</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.base.Ex.delete_range" title="Permalink to this definition">¶</a></dt>
<dd><p>Delete the text in the range given by the string-indexes
<code class="docutils literal notranslate"><span class="pre">start_index</span></code> and <code class="docutils literal notranslate"><span class="pre">end_index</span></code>.</p>
<p>Partial nodes will only be removed if they are editable.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">A <code class="docutils literal notranslate"><span class="pre">StringElem</span></code> representing the removed sub-string, the
parent node from which it was deleted as well as the offset
at which it was deleted from. <code class="docutils literal notranslate"><span class="pre">None</span></code> is returned for the
parent value if the root was deleted. If the parent and
offset values are not <code class="docutils literal notranslate"><span class="pre">None</span></code>, <code class="docutils literal notranslate"><span class="pre">parent.insert(offset,</span>
<span class="pre">deleted)</span></code> effectively undoes the delete.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.base.Ex.depth_first">
<code class="descname">depth_first</code><span class="sig-paren">(</span><em>filter=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.base.Ex.depth_first" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a list of the nodes in the tree in depth-first order.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.base.Ex.elem_at_offset">
<code class="descname">elem_at_offset</code><span class="sig-paren">(</span><em>offset</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.base.Ex.elem_at_offset" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the <code class="docutils literal notranslate"><span class="pre">StringElem</span></code> in the tree that contains the string rendered
at the given offset.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.base.Ex.elem_offset">
<code class="descname">elem_offset</code><span class="sig-paren">(</span><em>elem</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.base.Ex.elem_offset" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the offset of <code class="docutils literal notranslate"><span class="pre">elem</span></code> in the current tree.</p>
<p>This cannot be reliably used if <code class="docutils literal notranslate"><span class="pre">self.renderer</span></code> is used and even
less so if the rendering function renders the string differently
upon different calls. In Virtaal the <code class="docutils literal notranslate"><span class="pre">StringElemGUI.index()</span></code> method
is used as replacement for this one.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The string index where element <code class="docutils literal notranslate"><span class="pre">e</span></code> starts, or -1 if <code class="docutils literal notranslate"><span class="pre">e</span></code>
was not found.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.base.Ex.encode">
<code class="descname">encode</code><span class="sig-paren">(</span><em>encoding='ascii'</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.base.Ex.encode" title="Permalink to this definition">¶</a></dt>
<dd><p>More <code class="docutils literal notranslate"><span class="pre">unicode</span></code> class emulation.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.base.Ex.find">
<code class="descname">find</code><span class="sig-paren">(</span><em>x</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.base.Ex.find" title="Permalink to this definition">¶</a></dt>
<dd><p>Find sub-string <code class="docutils literal notranslate"><span class="pre">x</span></code> in this string tree and return the position at
which it starts.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.base.Ex.find_elems_with">
<code class="descname">find_elems_with</code><span class="sig-paren">(</span><em>x</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.base.Ex.find_elems_with" title="Permalink to this definition">¶</a></dt>
<dd><p>Find all elements in the current sub-tree containing <code class="docutils literal notranslate"><span class="pre">x</span></code>.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.base.Ex.flatten">
<code class="descname">flatten</code><span class="sig-paren">(</span><em>filter=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.base.Ex.flatten" title="Permalink to this definition">¶</a></dt>
<dd><p>Flatten the tree by returning a depth-first search over the tree’s
leaves.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.base.Ex.get_index_data">
<code class="descname">get_index_data</code><span class="sig-paren">(</span><em>index</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.base.Ex.get_index_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Get info about the specified range in the tree.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">A dictionary with the following items:<ul class="simple">
<li><em>elem</em>: The element in which <code class="docutils literal notranslate"><span class="pre">index</span></code> resides.</li>
<li><em>index</em>: Copy of the <code class="docutils literal notranslate"><span class="pre">index</span></code> parameter</li>
<li><em>offset</em>: The offset of <code class="docutils literal notranslate"><span class="pre">index</span></code> into <code class="docutils literal notranslate"><span class="pre">'elem'</span></code>.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.base.Ex.get_parent_elem">
<code class="descname">get_parent_elem</code><span class="sig-paren">(</span><em>child</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.base.Ex.get_parent_elem" title="Permalink to this definition">¶</a></dt>
<dd><p>Searches the current sub-tree for and returns the parent of the
<code class="docutils literal notranslate"><span class="pre">child</span></code> element.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.base.Ex.insert">
<code class="descname">insert</code><span class="sig-paren">(</span><em>offset</em>, <em>text</em>, <em>preferred_parent=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.base.Ex.insert" title="Permalink to this definition">¶</a></dt>
<dd><p>Insert the given text at the specified offset of this string-tree’s
string (Unicode) representation.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.base.Ex.insert_between">
<code class="descname">insert_between</code><span class="sig-paren">(</span><em>left</em>, <em>right</em>, <em>text</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.base.Ex.insert_between" title="Permalink to this definition">¶</a></dt>
<dd><p>Insert the given text between the two parameter <code class="docutils literal notranslate"><span class="pre">StringElem</span></code>s.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.base.Ex.isleaf">
<code class="descname">isleaf</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.base.Ex.isleaf" title="Permalink to this definition">¶</a></dt>
<dd><p>Whether or not this instance is a leaf node in the <code class="docutils literal notranslate"><span class="pre">StringElem</span></code> tree.</p>
<p>A node is a leaf node if it is a <code class="docutils literal notranslate"><span class="pre">StringElem</span></code> (not a sub-class) and
contains only sub-elements of type <code class="docutils literal notranslate"><span class="pre">str</span></code> or <code class="docutils literal notranslate"><span class="pre">unicode</span></code>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/2.7/library/functions.html#bool" title="(in Python v2.7)">bool</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.base.Ex.iter_depth_first">
<code class="descname">iter_depth_first</code><span class="sig-paren">(</span><em>filter=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.base.Ex.iter_depth_first" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterate through the nodes in the tree in dept-first order.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.base.Ex.map">
<code class="descname">map</code><span class="sig-paren">(</span><em>f</em>, <em>filter=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.base.Ex.map" title="Permalink to this definition">¶</a></dt>
<dd><p>Apply <code class="docutils literal notranslate"><span class="pre">f</span></code> to all nodes for which <code class="docutils literal notranslate"><span class="pre">filter</span></code> returned <code class="docutils literal notranslate"><span class="pre">True</span></code>
(optional).</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.base.Ex.print_tree">
<code class="descname">print_tree</code><span class="sig-paren">(</span><em>indent=0</em>, <em>verbose=False</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.base.Ex.print_tree" title="Permalink to this definition">¶</a></dt>
<dd><p>Print the tree from the current instance’s point in an indented
manner.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.base.Ex.prune">
<code class="descname">prune</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.base.Ex.prune" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove unnecessary nodes to make the tree optimal.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.base.Ex.remove_type">
<code class="descname">remove_type</code><span class="sig-paren">(</span><em>ptype</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.base.Ex.remove_type" title="Permalink to this definition">¶</a></dt>
<dd><p>Replace nodes with type <code class="docutils literal notranslate"><span class="pre">ptype</span></code> with base <code class="docutils literal notranslate"><span class="pre">StringElem</span></code>s,
containing the same sub-elements. This is only applicable to elements
below the element tree root node.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.base.Ex.translate">
<code class="descname">translate</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.base.Ex.translate" title="Permalink to this definition">¶</a></dt>
<dd><p>Transform the sub-tree according to some class-specific needs.  This
method should be either overridden in implementing sub-classes or
dynamically replaced by specific applications.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The transformed Unicode string representing the sub-tree.</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="translate.storage.placeables.base.X">
<em class="property">class </em><code class="descclassname">translate.storage.placeables.base.</code><code class="descname">X</code><span class="sig-paren">(</span><em>id=None</em>, <em>xid=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.base.X" title="Permalink to this definition">¶</a></dt>
<dd><dl class="method">
<dt id="translate.storage.placeables.base.X.apply_to_strings">
<code class="descname">apply_to_strings</code><span class="sig-paren">(</span><em>f</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.base.X.apply_to_strings" title="Permalink to this definition">¶</a></dt>
<dd><p>Apply <code class="docutils literal notranslate"><span class="pre">f</span></code> to all actual strings in the tree.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>f</strong> – Must take one (str or unicode) argument and return a
string or unicode.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.base.X.copy">
<code class="descname">copy</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.base.X.copy" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a copy of the sub-tree.  This should be overridden in
sub-classes with more data.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last"><code class="docutils literal notranslate"><span class="pre">self.renderer</span></code> is <strong>not</strong> copied.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.base.X.delete_range">
<code class="descname">delete_range</code><span class="sig-paren">(</span><em>start_index</em>, <em>end_index</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.base.X.delete_range" title="Permalink to this definition">¶</a></dt>
<dd><p>Delete the text in the range given by the string-indexes
<code class="docutils literal notranslate"><span class="pre">start_index</span></code> and <code class="docutils literal notranslate"><span class="pre">end_index</span></code>.</p>
<p>Partial nodes will only be removed if they are editable.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">A <code class="docutils literal notranslate"><span class="pre">StringElem</span></code> representing the removed sub-string, the
parent node from which it was deleted as well as the offset
at which it was deleted from. <code class="docutils literal notranslate"><span class="pre">None</span></code> is returned for the
parent value if the root was deleted. If the parent and
offset values are not <code class="docutils literal notranslate"><span class="pre">None</span></code>, <code class="docutils literal notranslate"><span class="pre">parent.insert(offset,</span>
<span class="pre">deleted)</span></code> effectively undoes the delete.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.base.X.depth_first">
<code class="descname">depth_first</code><span class="sig-paren">(</span><em>filter=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.base.X.depth_first" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a list of the nodes in the tree in depth-first order.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.base.X.elem_at_offset">
<code class="descname">elem_at_offset</code><span class="sig-paren">(</span><em>offset</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.base.X.elem_at_offset" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the <code class="docutils literal notranslate"><span class="pre">StringElem</span></code> in the tree that contains the string rendered
at the given offset.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.base.X.elem_offset">
<code class="descname">elem_offset</code><span class="sig-paren">(</span><em>elem</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.base.X.elem_offset" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the offset of <code class="docutils literal notranslate"><span class="pre">elem</span></code> in the current tree.</p>
<p>This cannot be reliably used if <code class="docutils literal notranslate"><span class="pre">self.renderer</span></code> is used and even
less so if the rendering function renders the string differently
upon different calls. In Virtaal the <code class="docutils literal notranslate"><span class="pre">StringElemGUI.index()</span></code> method
is used as replacement for this one.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The string index where element <code class="docutils literal notranslate"><span class="pre">e</span></code> starts, or -1 if <code class="docutils literal notranslate"><span class="pre">e</span></code>
was not found.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.base.X.encode">
<code class="descname">encode</code><span class="sig-paren">(</span><em>encoding='ascii'</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.base.X.encode" title="Permalink to this definition">¶</a></dt>
<dd><p>More <code class="docutils literal notranslate"><span class="pre">unicode</span></code> class emulation.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.base.X.find">
<code class="descname">find</code><span class="sig-paren">(</span><em>x</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.base.X.find" title="Permalink to this definition">¶</a></dt>
<dd><p>Find sub-string <code class="docutils literal notranslate"><span class="pre">x</span></code> in this string tree and return the position at
which it starts.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.base.X.find_elems_with">
<code class="descname">find_elems_with</code><span class="sig-paren">(</span><em>x</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.base.X.find_elems_with" title="Permalink to this definition">¶</a></dt>
<dd><p>Find all elements in the current sub-tree containing <code class="docutils literal notranslate"><span class="pre">x</span></code>.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.base.X.flatten">
<code class="descname">flatten</code><span class="sig-paren">(</span><em>filter=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.base.X.flatten" title="Permalink to this definition">¶</a></dt>
<dd><p>Flatten the tree by returning a depth-first search over the tree’s
leaves.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.base.X.get_index_data">
<code class="descname">get_index_data</code><span class="sig-paren">(</span><em>index</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.base.X.get_index_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Get info about the specified range in the tree.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">A dictionary with the following items:<ul class="simple">
<li><em>elem</em>: The element in which <code class="docutils literal notranslate"><span class="pre">index</span></code> resides.</li>
<li><em>index</em>: Copy of the <code class="docutils literal notranslate"><span class="pre">index</span></code> parameter</li>
<li><em>offset</em>: The offset of <code class="docutils literal notranslate"><span class="pre">index</span></code> into <code class="docutils literal notranslate"><span class="pre">'elem'</span></code>.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.base.X.get_parent_elem">
<code class="descname">get_parent_elem</code><span class="sig-paren">(</span><em>child</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.base.X.get_parent_elem" title="Permalink to this definition">¶</a></dt>
<dd><p>Searches the current sub-tree for and returns the parent of the
<code class="docutils literal notranslate"><span class="pre">child</span></code> element.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.base.X.insert">
<code class="descname">insert</code><span class="sig-paren">(</span><em>offset</em>, <em>text</em>, <em>preferred_parent=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.base.X.insert" title="Permalink to this definition">¶</a></dt>
<dd><p>Insert the given text at the specified offset of this string-tree’s
string (Unicode) representation.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.base.X.insert_between">
<code class="descname">insert_between</code><span class="sig-paren">(</span><em>left</em>, <em>right</em>, <em>text</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.base.X.insert_between" title="Permalink to this definition">¶</a></dt>
<dd><p>Insert the given text between the two parameter <code class="docutils literal notranslate"><span class="pre">StringElem</span></code>s.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.base.X.isleaf">
<code class="descname">isleaf</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.base.X.isleaf" title="Permalink to this definition">¶</a></dt>
<dd><p>Whether or not this instance is a leaf node in the <code class="docutils literal notranslate"><span class="pre">StringElem</span></code> tree.</p>
<p>A node is a leaf node if it is a <code class="docutils literal notranslate"><span class="pre">StringElem</span></code> (not a sub-class) and
contains only sub-elements of type <code class="docutils literal notranslate"><span class="pre">str</span></code> or <code class="docutils literal notranslate"><span class="pre">unicode</span></code>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/2.7/library/functions.html#bool" title="(in Python v2.7)">bool</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.base.X.iter_depth_first">
<code class="descname">iter_depth_first</code><span class="sig-paren">(</span><em>filter=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.base.X.iter_depth_first" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterate through the nodes in the tree in dept-first order.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.base.X.map">
<code class="descname">map</code><span class="sig-paren">(</span><em>f</em>, <em>filter=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.base.X.map" title="Permalink to this definition">¶</a></dt>
<dd><p>Apply <code class="docutils literal notranslate"><span class="pre">f</span></code> to all nodes for which <code class="docutils literal notranslate"><span class="pre">filter</span></code> returned <code class="docutils literal notranslate"><span class="pre">True</span></code>
(optional).</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.base.X.print_tree">
<code class="descname">print_tree</code><span class="sig-paren">(</span><em>indent=0</em>, <em>verbose=False</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.base.X.print_tree" title="Permalink to this definition">¶</a></dt>
<dd><p>Print the tree from the current instance’s point in an indented
manner.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.base.X.prune">
<code class="descname">prune</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.base.X.prune" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove unnecessary nodes to make the tree optimal.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.base.X.remove_type">
<code class="descname">remove_type</code><span class="sig-paren">(</span><em>ptype</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.base.X.remove_type" title="Permalink to this definition">¶</a></dt>
<dd><p>Replace nodes with type <code class="docutils literal notranslate"><span class="pre">ptype</span></code> with base <code class="docutils literal notranslate"><span class="pre">StringElem</span></code>s,
containing the same sub-elements. This is only applicable to elements
below the element tree root node.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.base.X.translate">
<code class="descname">translate</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.base.X.translate" title="Permalink to this definition">¶</a></dt>
<dd><p>Transform the sub-tree according to some class-specific needs.  This
method should be either overridden in implementing sub-classes or
dynamically replaced by specific applications.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The transformed Unicode string representing the sub-tree.</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="translate.storage.placeables.base.Sub">
<em class="property">class </em><code class="descclassname">translate.storage.placeables.base.</code><code class="descname">Sub</code><span class="sig-paren">(</span><em>sub=None</em>, <em>id=None</em>, <em>rid=None</em>, <em>xid=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.base.Sub" title="Permalink to this definition">¶</a></dt>
<dd><dl class="method">
<dt id="translate.storage.placeables.base.Sub.apply_to_strings">
<code class="descname">apply_to_strings</code><span class="sig-paren">(</span><em>f</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.base.Sub.apply_to_strings" title="Permalink to this definition">¶</a></dt>
<dd><p>Apply <code class="docutils literal notranslate"><span class="pre">f</span></code> to all actual strings in the tree.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>f</strong> – Must take one (str or unicode) argument and return a
string or unicode.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.base.Sub.copy">
<code class="descname">copy</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.base.Sub.copy" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a copy of the sub-tree.  This should be overridden in
sub-classes with more data.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last"><code class="docutils literal notranslate"><span class="pre">self.renderer</span></code> is <strong>not</strong> copied.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.base.Sub.delete_range">
<code class="descname">delete_range</code><span class="sig-paren">(</span><em>start_index</em>, <em>end_index</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.base.Sub.delete_range" title="Permalink to this definition">¶</a></dt>
<dd><p>Delete the text in the range given by the string-indexes
<code class="docutils literal notranslate"><span class="pre">start_index</span></code> and <code class="docutils literal notranslate"><span class="pre">end_index</span></code>.</p>
<p>Partial nodes will only be removed if they are editable.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">A <code class="docutils literal notranslate"><span class="pre">StringElem</span></code> representing the removed sub-string, the
parent node from which it was deleted as well as the offset
at which it was deleted from. <code class="docutils literal notranslate"><span class="pre">None</span></code> is returned for the
parent value if the root was deleted. If the parent and
offset values are not <code class="docutils literal notranslate"><span class="pre">None</span></code>, <code class="docutils literal notranslate"><span class="pre">parent.insert(offset,</span>
<span class="pre">deleted)</span></code> effectively undoes the delete.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.base.Sub.depth_first">
<code class="descname">depth_first</code><span class="sig-paren">(</span><em>filter=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.base.Sub.depth_first" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a list of the nodes in the tree in depth-first order.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.base.Sub.elem_at_offset">
<code class="descname">elem_at_offset</code><span class="sig-paren">(</span><em>offset</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.base.Sub.elem_at_offset" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the <code class="docutils literal notranslate"><span class="pre">StringElem</span></code> in the tree that contains the string rendered
at the given offset.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.base.Sub.elem_offset">
<code class="descname">elem_offset</code><span class="sig-paren">(</span><em>elem</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.base.Sub.elem_offset" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the offset of <code class="docutils literal notranslate"><span class="pre">elem</span></code> in the current tree.</p>
<p>This cannot be reliably used if <code class="docutils literal notranslate"><span class="pre">self.renderer</span></code> is used and even
less so if the rendering function renders the string differently
upon different calls. In Virtaal the <code class="docutils literal notranslate"><span class="pre">StringElemGUI.index()</span></code> method
is used as replacement for this one.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The string index where element <code class="docutils literal notranslate"><span class="pre">e</span></code> starts, or -1 if <code class="docutils literal notranslate"><span class="pre">e</span></code>
was not found.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.base.Sub.encode">
<code class="descname">encode</code><span class="sig-paren">(</span><em>encoding='ascii'</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.base.Sub.encode" title="Permalink to this definition">¶</a></dt>
<dd><p>More <code class="docutils literal notranslate"><span class="pre">unicode</span></code> class emulation.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.base.Sub.find">
<code class="descname">find</code><span class="sig-paren">(</span><em>x</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.base.Sub.find" title="Permalink to this definition">¶</a></dt>
<dd><p>Find sub-string <code class="docutils literal notranslate"><span class="pre">x</span></code> in this string tree and return the position at
which it starts.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.base.Sub.find_elems_with">
<code class="descname">find_elems_with</code><span class="sig-paren">(</span><em>x</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.base.Sub.find_elems_with" title="Permalink to this definition">¶</a></dt>
<dd><p>Find all elements in the current sub-tree containing <code class="docutils literal notranslate"><span class="pre">x</span></code>.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.base.Sub.flatten">
<code class="descname">flatten</code><span class="sig-paren">(</span><em>filter=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.base.Sub.flatten" title="Permalink to this definition">¶</a></dt>
<dd><p>Flatten the tree by returning a depth-first search over the tree’s
leaves.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.base.Sub.get_index_data">
<code class="descname">get_index_data</code><span class="sig-paren">(</span><em>index</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.base.Sub.get_index_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Get info about the specified range in the tree.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">A dictionary with the following items:<ul class="simple">
<li><em>elem</em>: The element in which <code class="docutils literal notranslate"><span class="pre">index</span></code> resides.</li>
<li><em>index</em>: Copy of the <code class="docutils literal notranslate"><span class="pre">index</span></code> parameter</li>
<li><em>offset</em>: The offset of <code class="docutils literal notranslate"><span class="pre">index</span></code> into <code class="docutils literal notranslate"><span class="pre">'elem'</span></code>.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.base.Sub.get_parent_elem">
<code class="descname">get_parent_elem</code><span class="sig-paren">(</span><em>child</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.base.Sub.get_parent_elem" title="Permalink to this definition">¶</a></dt>
<dd><p>Searches the current sub-tree for and returns the parent of the
<code class="docutils literal notranslate"><span class="pre">child</span></code> element.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.base.Sub.insert">
<code class="descname">insert</code><span class="sig-paren">(</span><em>offset</em>, <em>text</em>, <em>preferred_parent=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.base.Sub.insert" title="Permalink to this definition">¶</a></dt>
<dd><p>Insert the given text at the specified offset of this string-tree’s
string (Unicode) representation.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.base.Sub.insert_between">
<code class="descname">insert_between</code><span class="sig-paren">(</span><em>left</em>, <em>right</em>, <em>text</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.base.Sub.insert_between" title="Permalink to this definition">¶</a></dt>
<dd><p>Insert the given text between the two parameter <code class="docutils literal notranslate"><span class="pre">StringElem</span></code>s.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.base.Sub.isleaf">
<code class="descname">isleaf</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.base.Sub.isleaf" title="Permalink to this definition">¶</a></dt>
<dd><p>Whether or not this instance is a leaf node in the <code class="docutils literal notranslate"><span class="pre">StringElem</span></code> tree.</p>
<p>A node is a leaf node if it is a <code class="docutils literal notranslate"><span class="pre">StringElem</span></code> (not a sub-class) and
contains only sub-elements of type <code class="docutils literal notranslate"><span class="pre">str</span></code> or <code class="docutils literal notranslate"><span class="pre">unicode</span></code>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/2.7/library/functions.html#bool" title="(in Python v2.7)">bool</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.base.Sub.iter_depth_first">
<code class="descname">iter_depth_first</code><span class="sig-paren">(</span><em>filter=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.base.Sub.iter_depth_first" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterate through the nodes in the tree in dept-first order.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.base.Sub.map">
<code class="descname">map</code><span class="sig-paren">(</span><em>f</em>, <em>filter=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.base.Sub.map" title="Permalink to this definition">¶</a></dt>
<dd><p>Apply <code class="docutils literal notranslate"><span class="pre">f</span></code> to all nodes for which <code class="docutils literal notranslate"><span class="pre">filter</span></code> returned <code class="docutils literal notranslate"><span class="pre">True</span></code>
(optional).</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.base.Sub.print_tree">
<code class="descname">print_tree</code><span class="sig-paren">(</span><em>indent=0</em>, <em>verbose=False</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.base.Sub.print_tree" title="Permalink to this definition">¶</a></dt>
<dd><p>Print the tree from the current instance’s point in an indented
manner.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.base.Sub.prune">
<code class="descname">prune</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.base.Sub.prune" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove unnecessary nodes to make the tree optimal.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.base.Sub.remove_type">
<code class="descname">remove_type</code><span class="sig-paren">(</span><em>ptype</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.base.Sub.remove_type" title="Permalink to this definition">¶</a></dt>
<dd><p>Replace nodes with type <code class="docutils literal notranslate"><span class="pre">ptype</span></code> with base <code class="docutils literal notranslate"><span class="pre">StringElem</span></code>s,
containing the same sub-elements. This is only applicable to elements
below the element tree root node.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.base.Sub.translate">
<code class="descname">translate</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.base.Sub.translate" title="Permalink to this definition">¶</a></dt>
<dd><p>Transform the sub-tree according to some class-specific needs.  This
method should be either overridden in implementing sub-classes or
dynamically replaced by specific applications.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The transformed Unicode string representing the sub-tree.</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-translate.storage.placeables.general">
<span id="general"></span><h3>general<a class="headerlink" href="#module-translate.storage.placeables.general" title="Permalink to this headline">¶</a></h3>
<p>Contains general placeable implementations. That is placeables that does not
fit into any other sub-category.</p>
<dl class="class">
<dt id="translate.storage.placeables.general.AltAttrPlaceable">
<em class="property">class </em><code class="descclassname">translate.storage.placeables.general.</code><code class="descname">AltAttrPlaceable</code><span class="sig-paren">(</span><em>sub=None</em>, <em>id=None</em>, <em>rid=None</em>, <em>xid=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.general.AltAttrPlaceable" title="Permalink to this definition">¶</a></dt>
<dd><p>Placeable for the “alt=…” attributes inside XML tags.</p>
<dl class="method">
<dt id="translate.storage.placeables.general.AltAttrPlaceable.apply_to_strings">
<code class="descname">apply_to_strings</code><span class="sig-paren">(</span><em>f</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.general.AltAttrPlaceable.apply_to_strings" title="Permalink to this definition">¶</a></dt>
<dd><p>Apply <code class="docutils literal notranslate"><span class="pre">f</span></code> to all actual strings in the tree.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>f</strong> – Must take one (str or unicode) argument and return a
string or unicode.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.general.AltAttrPlaceable.copy">
<code class="descname">copy</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.general.AltAttrPlaceable.copy" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a copy of the sub-tree.  This should be overridden in
sub-classes with more data.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last"><code class="docutils literal notranslate"><span class="pre">self.renderer</span></code> is <strong>not</strong> copied.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.general.AltAttrPlaceable.delete_range">
<code class="descname">delete_range</code><span class="sig-paren">(</span><em>start_index</em>, <em>end_index</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.general.AltAttrPlaceable.delete_range" title="Permalink to this definition">¶</a></dt>
<dd><p>Delete the text in the range given by the string-indexes
<code class="docutils literal notranslate"><span class="pre">start_index</span></code> and <code class="docutils literal notranslate"><span class="pre">end_index</span></code>.</p>
<p>Partial nodes will only be removed if they are editable.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">A <code class="docutils literal notranslate"><span class="pre">StringElem</span></code> representing the removed sub-string, the
parent node from which it was deleted as well as the offset
at which it was deleted from. <code class="docutils literal notranslate"><span class="pre">None</span></code> is returned for the
parent value if the root was deleted. If the parent and
offset values are not <code class="docutils literal notranslate"><span class="pre">None</span></code>, <code class="docutils literal notranslate"><span class="pre">parent.insert(offset,</span>
<span class="pre">deleted)</span></code> effectively undoes the delete.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.general.AltAttrPlaceable.depth_first">
<code class="descname">depth_first</code><span class="sig-paren">(</span><em>filter=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.general.AltAttrPlaceable.depth_first" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a list of the nodes in the tree in depth-first order.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.general.AltAttrPlaceable.elem_at_offset">
<code class="descname">elem_at_offset</code><span class="sig-paren">(</span><em>offset</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.general.AltAttrPlaceable.elem_at_offset" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the <code class="docutils literal notranslate"><span class="pre">StringElem</span></code> in the tree that contains the string rendered
at the given offset.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.general.AltAttrPlaceable.elem_offset">
<code class="descname">elem_offset</code><span class="sig-paren">(</span><em>elem</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.general.AltAttrPlaceable.elem_offset" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the offset of <code class="docutils literal notranslate"><span class="pre">elem</span></code> in the current tree.</p>
<p>This cannot be reliably used if <code class="docutils literal notranslate"><span class="pre">self.renderer</span></code> is used and even
less so if the rendering function renders the string differently
upon different calls. In Virtaal the <code class="docutils literal notranslate"><span class="pre">StringElemGUI.index()</span></code> method
is used as replacement for this one.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The string index where element <code class="docutils literal notranslate"><span class="pre">e</span></code> starts, or -1 if <code class="docutils literal notranslate"><span class="pre">e</span></code>
was not found.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.general.AltAttrPlaceable.encode">
<code class="descname">encode</code><span class="sig-paren">(</span><em>encoding='ascii'</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.general.AltAttrPlaceable.encode" title="Permalink to this definition">¶</a></dt>
<dd><p>More <code class="docutils literal notranslate"><span class="pre">unicode</span></code> class emulation.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.general.AltAttrPlaceable.find">
<code class="descname">find</code><span class="sig-paren">(</span><em>x</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.general.AltAttrPlaceable.find" title="Permalink to this definition">¶</a></dt>
<dd><p>Find sub-string <code class="docutils literal notranslate"><span class="pre">x</span></code> in this string tree and return the position at
which it starts.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.general.AltAttrPlaceable.find_elems_with">
<code class="descname">find_elems_with</code><span class="sig-paren">(</span><em>x</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.general.AltAttrPlaceable.find_elems_with" title="Permalink to this definition">¶</a></dt>
<dd><p>Find all elements in the current sub-tree containing <code class="docutils literal notranslate"><span class="pre">x</span></code>.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.general.AltAttrPlaceable.flatten">
<code class="descname">flatten</code><span class="sig-paren">(</span><em>filter=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.general.AltAttrPlaceable.flatten" title="Permalink to this definition">¶</a></dt>
<dd><p>Flatten the tree by returning a depth-first search over the tree’s
leaves.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.general.AltAttrPlaceable.get_index_data">
<code class="descname">get_index_data</code><span class="sig-paren">(</span><em>index</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.general.AltAttrPlaceable.get_index_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Get info about the specified range in the tree.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">A dictionary with the following items:<ul class="simple">
<li><em>elem</em>: The element in which <code class="docutils literal notranslate"><span class="pre">index</span></code> resides.</li>
<li><em>index</em>: Copy of the <code class="docutils literal notranslate"><span class="pre">index</span></code> parameter</li>
<li><em>offset</em>: The offset of <code class="docutils literal notranslate"><span class="pre">index</span></code> into <code class="docutils literal notranslate"><span class="pre">'elem'</span></code>.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.general.AltAttrPlaceable.get_parent_elem">
<code class="descname">get_parent_elem</code><span class="sig-paren">(</span><em>child</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.general.AltAttrPlaceable.get_parent_elem" title="Permalink to this definition">¶</a></dt>
<dd><p>Searches the current sub-tree for and returns the parent of the
<code class="docutils literal notranslate"><span class="pre">child</span></code> element.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.general.AltAttrPlaceable.insert">
<code class="descname">insert</code><span class="sig-paren">(</span><em>offset</em>, <em>text</em>, <em>preferred_parent=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.general.AltAttrPlaceable.insert" title="Permalink to this definition">¶</a></dt>
<dd><p>Insert the given text at the specified offset of this string-tree’s
string (Unicode) representation.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.general.AltAttrPlaceable.insert_between">
<code class="descname">insert_between</code><span class="sig-paren">(</span><em>left</em>, <em>right</em>, <em>text</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.general.AltAttrPlaceable.insert_between" title="Permalink to this definition">¶</a></dt>
<dd><p>Insert the given text between the two parameter <code class="docutils literal notranslate"><span class="pre">StringElem</span></code>s.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.general.AltAttrPlaceable.isleaf">
<code class="descname">isleaf</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.general.AltAttrPlaceable.isleaf" title="Permalink to this definition">¶</a></dt>
<dd><p>Whether or not this instance is a leaf node in the <code class="docutils literal notranslate"><span class="pre">StringElem</span></code> tree.</p>
<p>A node is a leaf node if it is a <code class="docutils literal notranslate"><span class="pre">StringElem</span></code> (not a sub-class) and
contains only sub-elements of type <code class="docutils literal notranslate"><span class="pre">str</span></code> or <code class="docutils literal notranslate"><span class="pre">unicode</span></code>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/2.7/library/functions.html#bool" title="(in Python v2.7)">bool</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.general.AltAttrPlaceable.iter_depth_first">
<code class="descname">iter_depth_first</code><span class="sig-paren">(</span><em>filter=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.general.AltAttrPlaceable.iter_depth_first" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterate through the nodes in the tree in dept-first order.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.general.AltAttrPlaceable.map">
<code class="descname">map</code><span class="sig-paren">(</span><em>f</em>, <em>filter=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.general.AltAttrPlaceable.map" title="Permalink to this definition">¶</a></dt>
<dd><p>Apply <code class="docutils literal notranslate"><span class="pre">f</span></code> to all nodes for which <code class="docutils literal notranslate"><span class="pre">filter</span></code> returned <code class="docutils literal notranslate"><span class="pre">True</span></code>
(optional).</p>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.placeables.general.AltAttrPlaceable.parse">
<em class="property">classmethod </em><code class="descname">parse</code><span class="sig-paren">(</span><em>pstr</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.general.AltAttrPlaceable.parse" title="Permalink to this definition">¶</a></dt>
<dd><p>A parser method to extract placeables from a string based on a regular
expression. Use this function as the <code class="docutils literal notranslate"><span class="pre">&#64;parse()</span></code> method of a placeable
class.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.general.AltAttrPlaceable.print_tree">
<code class="descname">print_tree</code><span class="sig-paren">(</span><em>indent=0</em>, <em>verbose=False</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.general.AltAttrPlaceable.print_tree" title="Permalink to this definition">¶</a></dt>
<dd><p>Print the tree from the current instance’s point in an indented
manner.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.general.AltAttrPlaceable.prune">
<code class="descname">prune</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.general.AltAttrPlaceable.prune" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove unnecessary nodes to make the tree optimal.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.general.AltAttrPlaceable.remove_type">
<code class="descname">remove_type</code><span class="sig-paren">(</span><em>ptype</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.general.AltAttrPlaceable.remove_type" title="Permalink to this definition">¶</a></dt>
<dd><p>Replace nodes with type <code class="docutils literal notranslate"><span class="pre">ptype</span></code> with base <code class="docutils literal notranslate"><span class="pre">StringElem</span></code>s,
containing the same sub-elements. This is only applicable to elements
below the element tree root node.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.general.AltAttrPlaceable.translate">
<code class="descname">translate</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.general.AltAttrPlaceable.translate" title="Permalink to this definition">¶</a></dt>
<dd><p>Transform the sub-tree according to some class-specific needs.  This
method should be either overridden in implementing sub-classes or
dynamically replaced by specific applications.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The transformed Unicode string representing the sub-tree.</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="translate.storage.placeables.general.XMLEntityPlaceable">
<em class="property">class </em><code class="descclassname">translate.storage.placeables.general.</code><code class="descname">XMLEntityPlaceable</code><span class="sig-paren">(</span><em>sub=None</em>, <em>id=None</em>, <em>rid=None</em>, <em>xid=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.general.XMLEntityPlaceable" title="Permalink to this definition">¶</a></dt>
<dd><p>Placeable handling XML entities (<code class="docutils literal notranslate"><span class="pre">&amp;xxxxx;</span></code>-style entities).</p>
<dl class="method">
<dt id="translate.storage.placeables.general.XMLEntityPlaceable.apply_to_strings">
<code class="descname">apply_to_strings</code><span class="sig-paren">(</span><em>f</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.general.XMLEntityPlaceable.apply_to_strings" title="Permalink to this definition">¶</a></dt>
<dd><p>Apply <code class="docutils literal notranslate"><span class="pre">f</span></code> to all actual strings in the tree.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>f</strong> – Must take one (str or unicode) argument and return a
string or unicode.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.general.XMLEntityPlaceable.copy">
<code class="descname">copy</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.general.XMLEntityPlaceable.copy" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a copy of the sub-tree.  This should be overridden in
sub-classes with more data.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last"><code class="docutils literal notranslate"><span class="pre">self.renderer</span></code> is <strong>not</strong> copied.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.general.XMLEntityPlaceable.delete_range">
<code class="descname">delete_range</code><span class="sig-paren">(</span><em>start_index</em>, <em>end_index</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.general.XMLEntityPlaceable.delete_range" title="Permalink to this definition">¶</a></dt>
<dd><p>Delete the text in the range given by the string-indexes
<code class="docutils literal notranslate"><span class="pre">start_index</span></code> and <code class="docutils literal notranslate"><span class="pre">end_index</span></code>.</p>
<p>Partial nodes will only be removed if they are editable.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">A <code class="docutils literal notranslate"><span class="pre">StringElem</span></code> representing the removed sub-string, the
parent node from which it was deleted as well as the offset
at which it was deleted from. <code class="docutils literal notranslate"><span class="pre">None</span></code> is returned for the
parent value if the root was deleted. If the parent and
offset values are not <code class="docutils literal notranslate"><span class="pre">None</span></code>, <code class="docutils literal notranslate"><span class="pre">parent.insert(offset,</span>
<span class="pre">deleted)</span></code> effectively undoes the delete.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.general.XMLEntityPlaceable.depth_first">
<code class="descname">depth_first</code><span class="sig-paren">(</span><em>filter=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.general.XMLEntityPlaceable.depth_first" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a list of the nodes in the tree in depth-first order.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.general.XMLEntityPlaceable.elem_at_offset">
<code class="descname">elem_at_offset</code><span class="sig-paren">(</span><em>offset</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.general.XMLEntityPlaceable.elem_at_offset" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the <code class="docutils literal notranslate"><span class="pre">StringElem</span></code> in the tree that contains the string rendered
at the given offset.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.general.XMLEntityPlaceable.elem_offset">
<code class="descname">elem_offset</code><span class="sig-paren">(</span><em>elem</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.general.XMLEntityPlaceable.elem_offset" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the offset of <code class="docutils literal notranslate"><span class="pre">elem</span></code> in the current tree.</p>
<p>This cannot be reliably used if <code class="docutils literal notranslate"><span class="pre">self.renderer</span></code> is used and even
less so if the rendering function renders the string differently
upon different calls. In Virtaal the <code class="docutils literal notranslate"><span class="pre">StringElemGUI.index()</span></code> method
is used as replacement for this one.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The string index where element <code class="docutils literal notranslate"><span class="pre">e</span></code> starts, or -1 if <code class="docutils literal notranslate"><span class="pre">e</span></code>
was not found.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.general.XMLEntityPlaceable.encode">
<code class="descname">encode</code><span class="sig-paren">(</span><em>encoding='ascii'</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.general.XMLEntityPlaceable.encode" title="Permalink to this definition">¶</a></dt>
<dd><p>More <code class="docutils literal notranslate"><span class="pre">unicode</span></code> class emulation.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.general.XMLEntityPlaceable.find">
<code class="descname">find</code><span class="sig-paren">(</span><em>x</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.general.XMLEntityPlaceable.find" title="Permalink to this definition">¶</a></dt>
<dd><p>Find sub-string <code class="docutils literal notranslate"><span class="pre">x</span></code> in this string tree and return the position at
which it starts.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.general.XMLEntityPlaceable.find_elems_with">
<code class="descname">find_elems_with</code><span class="sig-paren">(</span><em>x</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.general.XMLEntityPlaceable.find_elems_with" title="Permalink to this definition">¶</a></dt>
<dd><p>Find all elements in the current sub-tree containing <code class="docutils literal notranslate"><span class="pre">x</span></code>.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.general.XMLEntityPlaceable.flatten">
<code class="descname">flatten</code><span class="sig-paren">(</span><em>filter=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.general.XMLEntityPlaceable.flatten" title="Permalink to this definition">¶</a></dt>
<dd><p>Flatten the tree by returning a depth-first search over the tree’s
leaves.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.general.XMLEntityPlaceable.get_index_data">
<code class="descname">get_index_data</code><span class="sig-paren">(</span><em>index</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.general.XMLEntityPlaceable.get_index_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Get info about the specified range in the tree.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">A dictionary with the following items:<ul class="simple">
<li><em>elem</em>: The element in which <code class="docutils literal notranslate"><span class="pre">index</span></code> resides.</li>
<li><em>index</em>: Copy of the <code class="docutils literal notranslate"><span class="pre">index</span></code> parameter</li>
<li><em>offset</em>: The offset of <code class="docutils literal notranslate"><span class="pre">index</span></code> into <code class="docutils literal notranslate"><span class="pre">'elem'</span></code>.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.general.XMLEntityPlaceable.get_parent_elem">
<code class="descname">get_parent_elem</code><span class="sig-paren">(</span><em>child</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.general.XMLEntityPlaceable.get_parent_elem" title="Permalink to this definition">¶</a></dt>
<dd><p>Searches the current sub-tree for and returns the parent of the
<code class="docutils literal notranslate"><span class="pre">child</span></code> element.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.general.XMLEntityPlaceable.insert">
<code class="descname">insert</code><span class="sig-paren">(</span><em>offset</em>, <em>text</em>, <em>preferred_parent=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.general.XMLEntityPlaceable.insert" title="Permalink to this definition">¶</a></dt>
<dd><p>Insert the given text at the specified offset of this string-tree’s
string (Unicode) representation.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.general.XMLEntityPlaceable.insert_between">
<code class="descname">insert_between</code><span class="sig-paren">(</span><em>left</em>, <em>right</em>, <em>text</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.general.XMLEntityPlaceable.insert_between" title="Permalink to this definition">¶</a></dt>
<dd><p>Insert the given text between the two parameter <code class="docutils literal notranslate"><span class="pre">StringElem</span></code>s.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.general.XMLEntityPlaceable.isleaf">
<code class="descname">isleaf</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.general.XMLEntityPlaceable.isleaf" title="Permalink to this definition">¶</a></dt>
<dd><p>Whether or not this instance is a leaf node in the <code class="docutils literal notranslate"><span class="pre">StringElem</span></code> tree.</p>
<p>A node is a leaf node if it is a <code class="docutils literal notranslate"><span class="pre">StringElem</span></code> (not a sub-class) and
contains only sub-elements of type <code class="docutils literal notranslate"><span class="pre">str</span></code> or <code class="docutils literal notranslate"><span class="pre">unicode</span></code>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/2.7/library/functions.html#bool" title="(in Python v2.7)">bool</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.general.XMLEntityPlaceable.iter_depth_first">
<code class="descname">iter_depth_first</code><span class="sig-paren">(</span><em>filter=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.general.XMLEntityPlaceable.iter_depth_first" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterate through the nodes in the tree in dept-first order.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.general.XMLEntityPlaceable.map">
<code class="descname">map</code><span class="sig-paren">(</span><em>f</em>, <em>filter=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.general.XMLEntityPlaceable.map" title="Permalink to this definition">¶</a></dt>
<dd><p>Apply <code class="docutils literal notranslate"><span class="pre">f</span></code> to all nodes for which <code class="docutils literal notranslate"><span class="pre">filter</span></code> returned <code class="docutils literal notranslate"><span class="pre">True</span></code>
(optional).</p>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.placeables.general.XMLEntityPlaceable.parse">
<em class="property">classmethod </em><code class="descname">parse</code><span class="sig-paren">(</span><em>pstr</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.general.XMLEntityPlaceable.parse" title="Permalink to this definition">¶</a></dt>
<dd><p>A parser method to extract placeables from a string based on a regular
expression. Use this function as the <code class="docutils literal notranslate"><span class="pre">&#64;parse()</span></code> method of a placeable
class.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.general.XMLEntityPlaceable.print_tree">
<code class="descname">print_tree</code><span class="sig-paren">(</span><em>indent=0</em>, <em>verbose=False</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.general.XMLEntityPlaceable.print_tree" title="Permalink to this definition">¶</a></dt>
<dd><p>Print the tree from the current instance’s point in an indented
manner.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.general.XMLEntityPlaceable.prune">
<code class="descname">prune</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.general.XMLEntityPlaceable.prune" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove unnecessary nodes to make the tree optimal.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.general.XMLEntityPlaceable.remove_type">
<code class="descname">remove_type</code><span class="sig-paren">(</span><em>ptype</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.general.XMLEntityPlaceable.remove_type" title="Permalink to this definition">¶</a></dt>
<dd><p>Replace nodes with type <code class="docutils literal notranslate"><span class="pre">ptype</span></code> with base <code class="docutils literal notranslate"><span class="pre">StringElem</span></code>s,
containing the same sub-elements. This is only applicable to elements
below the element tree root node.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.general.XMLEntityPlaceable.translate">
<code class="descname">translate</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.general.XMLEntityPlaceable.translate" title="Permalink to this definition">¶</a></dt>
<dd><p>Transform the sub-tree according to some class-specific needs.  This
method should be either overridden in implementing sub-classes or
dynamically replaced by specific applications.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The transformed Unicode string representing the sub-tree.</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="translate.storage.placeables.general.XMLTagPlaceable">
<em class="property">class </em><code class="descclassname">translate.storage.placeables.general.</code><code class="descname">XMLTagPlaceable</code><span class="sig-paren">(</span><em>sub=None</em>, <em>id=None</em>, <em>rid=None</em>, <em>xid=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.general.XMLTagPlaceable" title="Permalink to this definition">¶</a></dt>
<dd><p>Placeable handling XML tags.</p>
<dl class="method">
<dt id="translate.storage.placeables.general.XMLTagPlaceable.apply_to_strings">
<code class="descname">apply_to_strings</code><span class="sig-paren">(</span><em>f</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.general.XMLTagPlaceable.apply_to_strings" title="Permalink to this definition">¶</a></dt>
<dd><p>Apply <code class="docutils literal notranslate"><span class="pre">f</span></code> to all actual strings in the tree.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>f</strong> – Must take one (str or unicode) argument and return a
string or unicode.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.general.XMLTagPlaceable.copy">
<code class="descname">copy</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.general.XMLTagPlaceable.copy" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a copy of the sub-tree.  This should be overridden in
sub-classes with more data.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last"><code class="docutils literal notranslate"><span class="pre">self.renderer</span></code> is <strong>not</strong> copied.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.general.XMLTagPlaceable.delete_range">
<code class="descname">delete_range</code><span class="sig-paren">(</span><em>start_index</em>, <em>end_index</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.general.XMLTagPlaceable.delete_range" title="Permalink to this definition">¶</a></dt>
<dd><p>Delete the text in the range given by the string-indexes
<code class="docutils literal notranslate"><span class="pre">start_index</span></code> and <code class="docutils literal notranslate"><span class="pre">end_index</span></code>.</p>
<p>Partial nodes will only be removed if they are editable.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">A <code class="docutils literal notranslate"><span class="pre">StringElem</span></code> representing the removed sub-string, the
parent node from which it was deleted as well as the offset
at which it was deleted from. <code class="docutils literal notranslate"><span class="pre">None</span></code> is returned for the
parent value if the root was deleted. If the parent and
offset values are not <code class="docutils literal notranslate"><span class="pre">None</span></code>, <code class="docutils literal notranslate"><span class="pre">parent.insert(offset,</span>
<span class="pre">deleted)</span></code> effectively undoes the delete.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.general.XMLTagPlaceable.depth_first">
<code class="descname">depth_first</code><span class="sig-paren">(</span><em>filter=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.general.XMLTagPlaceable.depth_first" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a list of the nodes in the tree in depth-first order.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.general.XMLTagPlaceable.elem_at_offset">
<code class="descname">elem_at_offset</code><span class="sig-paren">(</span><em>offset</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.general.XMLTagPlaceable.elem_at_offset" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the <code class="docutils literal notranslate"><span class="pre">StringElem</span></code> in the tree that contains the string rendered
at the given offset.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.general.XMLTagPlaceable.elem_offset">
<code class="descname">elem_offset</code><span class="sig-paren">(</span><em>elem</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.general.XMLTagPlaceable.elem_offset" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the offset of <code class="docutils literal notranslate"><span class="pre">elem</span></code> in the current tree.</p>
<p>This cannot be reliably used if <code class="docutils literal notranslate"><span class="pre">self.renderer</span></code> is used and even
less so if the rendering function renders the string differently
upon different calls. In Virtaal the <code class="docutils literal notranslate"><span class="pre">StringElemGUI.index()</span></code> method
is used as replacement for this one.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The string index where element <code class="docutils literal notranslate"><span class="pre">e</span></code> starts, or -1 if <code class="docutils literal notranslate"><span class="pre">e</span></code>
was not found.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.general.XMLTagPlaceable.encode">
<code class="descname">encode</code><span class="sig-paren">(</span><em>encoding='ascii'</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.general.XMLTagPlaceable.encode" title="Permalink to this definition">¶</a></dt>
<dd><p>More <code class="docutils literal notranslate"><span class="pre">unicode</span></code> class emulation.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.general.XMLTagPlaceable.find">
<code class="descname">find</code><span class="sig-paren">(</span><em>x</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.general.XMLTagPlaceable.find" title="Permalink to this definition">¶</a></dt>
<dd><p>Find sub-string <code class="docutils literal notranslate"><span class="pre">x</span></code> in this string tree and return the position at
which it starts.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.general.XMLTagPlaceable.find_elems_with">
<code class="descname">find_elems_with</code><span class="sig-paren">(</span><em>x</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.general.XMLTagPlaceable.find_elems_with" title="Permalink to this definition">¶</a></dt>
<dd><p>Find all elements in the current sub-tree containing <code class="docutils literal notranslate"><span class="pre">x</span></code>.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.general.XMLTagPlaceable.flatten">
<code class="descname">flatten</code><span class="sig-paren">(</span><em>filter=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.general.XMLTagPlaceable.flatten" title="Permalink to this definition">¶</a></dt>
<dd><p>Flatten the tree by returning a depth-first search over the tree’s
leaves.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.general.XMLTagPlaceable.get_index_data">
<code class="descname">get_index_data</code><span class="sig-paren">(</span><em>index</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.general.XMLTagPlaceable.get_index_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Get info about the specified range in the tree.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">A dictionary with the following items:<ul class="simple">
<li><em>elem</em>: The element in which <code class="docutils literal notranslate"><span class="pre">index</span></code> resides.</li>
<li><em>index</em>: Copy of the <code class="docutils literal notranslate"><span class="pre">index</span></code> parameter</li>
<li><em>offset</em>: The offset of <code class="docutils literal notranslate"><span class="pre">index</span></code> into <code class="docutils literal notranslate"><span class="pre">'elem'</span></code>.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.general.XMLTagPlaceable.get_parent_elem">
<code class="descname">get_parent_elem</code><span class="sig-paren">(</span><em>child</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.general.XMLTagPlaceable.get_parent_elem" title="Permalink to this definition">¶</a></dt>
<dd><p>Searches the current sub-tree for and returns the parent of the
<code class="docutils literal notranslate"><span class="pre">child</span></code> element.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.general.XMLTagPlaceable.insert">
<code class="descname">insert</code><span class="sig-paren">(</span><em>offset</em>, <em>text</em>, <em>preferred_parent=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.general.XMLTagPlaceable.insert" title="Permalink to this definition">¶</a></dt>
<dd><p>Insert the given text at the specified offset of this string-tree’s
string (Unicode) representation.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.general.XMLTagPlaceable.insert_between">
<code class="descname">insert_between</code><span class="sig-paren">(</span><em>left</em>, <em>right</em>, <em>text</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.general.XMLTagPlaceable.insert_between" title="Permalink to this definition">¶</a></dt>
<dd><p>Insert the given text between the two parameter <code class="docutils literal notranslate"><span class="pre">StringElem</span></code>s.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.general.XMLTagPlaceable.isleaf">
<code class="descname">isleaf</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.general.XMLTagPlaceable.isleaf" title="Permalink to this definition">¶</a></dt>
<dd><p>Whether or not this instance is a leaf node in the <code class="docutils literal notranslate"><span class="pre">StringElem</span></code> tree.</p>
<p>A node is a leaf node if it is a <code class="docutils literal notranslate"><span class="pre">StringElem</span></code> (not a sub-class) and
contains only sub-elements of type <code class="docutils literal notranslate"><span class="pre">str</span></code> or <code class="docutils literal notranslate"><span class="pre">unicode</span></code>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/2.7/library/functions.html#bool" title="(in Python v2.7)">bool</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.general.XMLTagPlaceable.iter_depth_first">
<code class="descname">iter_depth_first</code><span class="sig-paren">(</span><em>filter=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.general.XMLTagPlaceable.iter_depth_first" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterate through the nodes in the tree in dept-first order.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.general.XMLTagPlaceable.map">
<code class="descname">map</code><span class="sig-paren">(</span><em>f</em>, <em>filter=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.general.XMLTagPlaceable.map" title="Permalink to this definition">¶</a></dt>
<dd><p>Apply <code class="docutils literal notranslate"><span class="pre">f</span></code> to all nodes for which <code class="docutils literal notranslate"><span class="pre">filter</span></code> returned <code class="docutils literal notranslate"><span class="pre">True</span></code>
(optional).</p>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.placeables.general.XMLTagPlaceable.parse">
<em class="property">classmethod </em><code class="descname">parse</code><span class="sig-paren">(</span><em>pstr</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.general.XMLTagPlaceable.parse" title="Permalink to this definition">¶</a></dt>
<dd><p>A parser method to extract placeables from a string based on a regular
expression. Use this function as the <code class="docutils literal notranslate"><span class="pre">&#64;parse()</span></code> method of a placeable
class.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.general.XMLTagPlaceable.print_tree">
<code class="descname">print_tree</code><span class="sig-paren">(</span><em>indent=0</em>, <em>verbose=False</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.general.XMLTagPlaceable.print_tree" title="Permalink to this definition">¶</a></dt>
<dd><p>Print the tree from the current instance’s point in an indented
manner.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.general.XMLTagPlaceable.prune">
<code class="descname">prune</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.general.XMLTagPlaceable.prune" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove unnecessary nodes to make the tree optimal.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.general.XMLTagPlaceable.remove_type">
<code class="descname">remove_type</code><span class="sig-paren">(</span><em>ptype</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.general.XMLTagPlaceable.remove_type" title="Permalink to this definition">¶</a></dt>
<dd><p>Replace nodes with type <code class="docutils literal notranslate"><span class="pre">ptype</span></code> with base <code class="docutils literal notranslate"><span class="pre">StringElem</span></code>s,
containing the same sub-elements. This is only applicable to elements
below the element tree root node.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.general.XMLTagPlaceable.translate">
<code class="descname">translate</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.general.XMLTagPlaceable.translate" title="Permalink to this definition">¶</a></dt>
<dd><p>Transform the sub-tree according to some class-specific needs.  This
method should be either overridden in implementing sub-classes or
dynamically replaced by specific applications.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The transformed Unicode string representing the sub-tree.</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-translate.storage.placeables.interfaces">
<span id="interfaces"></span><h3>interfaces<a class="headerlink" href="#module-translate.storage.placeables.interfaces" title="Permalink to this headline">¶</a></h3>
<dl class="docutils">
<dt>This file contains abstract (semantic) interfaces for placeable</dt>
<dd>implementations.</dd>
</dl>
<dl class="class">
<dt id="translate.storage.placeables.interfaces.BasePlaceable">
<em class="property">class </em><code class="descclassname">translate.storage.placeables.interfaces.</code><code class="descname">BasePlaceable</code><span class="sig-paren">(</span><em>sub=None</em>, <em>id=None</em>, <em>rid=None</em>, <em>xid=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.interfaces.BasePlaceable" title="Permalink to this definition">¶</a></dt>
<dd><p>Base class for all placeables.</p>
<dl class="method">
<dt id="translate.storage.placeables.interfaces.BasePlaceable.apply_to_strings">
<code class="descname">apply_to_strings</code><span class="sig-paren">(</span><em>f</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.interfaces.BasePlaceable.apply_to_strings" title="Permalink to this definition">¶</a></dt>
<dd><p>Apply <code class="docutils literal notranslate"><span class="pre">f</span></code> to all actual strings in the tree.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>f</strong> – Must take one (str or unicode) argument and return a
string or unicode.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.interfaces.BasePlaceable.copy">
<code class="descname">copy</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.interfaces.BasePlaceable.copy" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a copy of the sub-tree.  This should be overridden in
sub-classes with more data.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last"><code class="docutils literal notranslate"><span class="pre">self.renderer</span></code> is <strong>not</strong> copied.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.interfaces.BasePlaceable.delete_range">
<code class="descname">delete_range</code><span class="sig-paren">(</span><em>start_index</em>, <em>end_index</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.interfaces.BasePlaceable.delete_range" title="Permalink to this definition">¶</a></dt>
<dd><p>Delete the text in the range given by the string-indexes
<code class="docutils literal notranslate"><span class="pre">start_index</span></code> and <code class="docutils literal notranslate"><span class="pre">end_index</span></code>.</p>
<p>Partial nodes will only be removed if they are editable.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">A <code class="docutils literal notranslate"><span class="pre">StringElem</span></code> representing the removed sub-string, the
parent node from which it was deleted as well as the offset
at which it was deleted from. <code class="docutils literal notranslate"><span class="pre">None</span></code> is returned for the
parent value if the root was deleted. If the parent and
offset values are not <code class="docutils literal notranslate"><span class="pre">None</span></code>, <code class="docutils literal notranslate"><span class="pre">parent.insert(offset,</span>
<span class="pre">deleted)</span></code> effectively undoes the delete.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.interfaces.BasePlaceable.depth_first">
<code class="descname">depth_first</code><span class="sig-paren">(</span><em>filter=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.interfaces.BasePlaceable.depth_first" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a list of the nodes in the tree in depth-first order.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.interfaces.BasePlaceable.elem_at_offset">
<code class="descname">elem_at_offset</code><span class="sig-paren">(</span><em>offset</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.interfaces.BasePlaceable.elem_at_offset" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the <code class="docutils literal notranslate"><span class="pre">StringElem</span></code> in the tree that contains the string rendered
at the given offset.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.interfaces.BasePlaceable.elem_offset">
<code class="descname">elem_offset</code><span class="sig-paren">(</span><em>elem</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.interfaces.BasePlaceable.elem_offset" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the offset of <code class="docutils literal notranslate"><span class="pre">elem</span></code> in the current tree.</p>
<p>This cannot be reliably used if <code class="docutils literal notranslate"><span class="pre">self.renderer</span></code> is used and even
less so if the rendering function renders the string differently
upon different calls. In Virtaal the <code class="docutils literal notranslate"><span class="pre">StringElemGUI.index()</span></code> method
is used as replacement for this one.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The string index where element <code class="docutils literal notranslate"><span class="pre">e</span></code> starts, or -1 if <code class="docutils literal notranslate"><span class="pre">e</span></code>
was not found.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.interfaces.BasePlaceable.encode">
<code class="descname">encode</code><span class="sig-paren">(</span><em>encoding='ascii'</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.interfaces.BasePlaceable.encode" title="Permalink to this definition">¶</a></dt>
<dd><p>More <code class="docutils literal notranslate"><span class="pre">unicode</span></code> class emulation.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.interfaces.BasePlaceable.find">
<code class="descname">find</code><span class="sig-paren">(</span><em>x</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.interfaces.BasePlaceable.find" title="Permalink to this definition">¶</a></dt>
<dd><p>Find sub-string <code class="docutils literal notranslate"><span class="pre">x</span></code> in this string tree and return the position at
which it starts.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.interfaces.BasePlaceable.find_elems_with">
<code class="descname">find_elems_with</code><span class="sig-paren">(</span><em>x</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.interfaces.BasePlaceable.find_elems_with" title="Permalink to this definition">¶</a></dt>
<dd><p>Find all elements in the current sub-tree containing <code class="docutils literal notranslate"><span class="pre">x</span></code>.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.interfaces.BasePlaceable.flatten">
<code class="descname">flatten</code><span class="sig-paren">(</span><em>filter=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.interfaces.BasePlaceable.flatten" title="Permalink to this definition">¶</a></dt>
<dd><p>Flatten the tree by returning a depth-first search over the tree’s
leaves.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.interfaces.BasePlaceable.get_index_data">
<code class="descname">get_index_data</code><span class="sig-paren">(</span><em>index</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.interfaces.BasePlaceable.get_index_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Get info about the specified range in the tree.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">A dictionary with the following items:<ul class="simple">
<li><em>elem</em>: The element in which <code class="docutils literal notranslate"><span class="pre">index</span></code> resides.</li>
<li><em>index</em>: Copy of the <code class="docutils literal notranslate"><span class="pre">index</span></code> parameter</li>
<li><em>offset</em>: The offset of <code class="docutils literal notranslate"><span class="pre">index</span></code> into <code class="docutils literal notranslate"><span class="pre">'elem'</span></code>.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.interfaces.BasePlaceable.get_parent_elem">
<code class="descname">get_parent_elem</code><span class="sig-paren">(</span><em>child</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.interfaces.BasePlaceable.get_parent_elem" title="Permalink to this definition">¶</a></dt>
<dd><p>Searches the current sub-tree for and returns the parent of the
<code class="docutils literal notranslate"><span class="pre">child</span></code> element.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.interfaces.BasePlaceable.insert">
<code class="descname">insert</code><span class="sig-paren">(</span><em>offset</em>, <em>text</em>, <em>preferred_parent=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.interfaces.BasePlaceable.insert" title="Permalink to this definition">¶</a></dt>
<dd><p>Insert the given text at the specified offset of this string-tree’s
string (Unicode) representation.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.interfaces.BasePlaceable.insert_between">
<code class="descname">insert_between</code><span class="sig-paren">(</span><em>left</em>, <em>right</em>, <em>text</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.interfaces.BasePlaceable.insert_between" title="Permalink to this definition">¶</a></dt>
<dd><p>Insert the given text between the two parameter <code class="docutils literal notranslate"><span class="pre">StringElem</span></code>s.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.interfaces.BasePlaceable.isleaf">
<code class="descname">isleaf</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.interfaces.BasePlaceable.isleaf" title="Permalink to this definition">¶</a></dt>
<dd><p>Whether or not this instance is a leaf node in the <code class="docutils literal notranslate"><span class="pre">StringElem</span></code> tree.</p>
<p>A node is a leaf node if it is a <code class="docutils literal notranslate"><span class="pre">StringElem</span></code> (not a sub-class) and
contains only sub-elements of type <code class="docutils literal notranslate"><span class="pre">str</span></code> or <code class="docutils literal notranslate"><span class="pre">unicode</span></code>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/2.7/library/functions.html#bool" title="(in Python v2.7)">bool</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.interfaces.BasePlaceable.iter_depth_first">
<code class="descname">iter_depth_first</code><span class="sig-paren">(</span><em>filter=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.interfaces.BasePlaceable.iter_depth_first" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterate through the nodes in the tree in dept-first order.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.interfaces.BasePlaceable.map">
<code class="descname">map</code><span class="sig-paren">(</span><em>f</em>, <em>filter=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.interfaces.BasePlaceable.map" title="Permalink to this definition">¶</a></dt>
<dd><p>Apply <code class="docutils literal notranslate"><span class="pre">f</span></code> to all nodes for which <code class="docutils literal notranslate"><span class="pre">filter</span></code> returned <code class="docutils literal notranslate"><span class="pre">True</span></code>
(optional).</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.interfaces.BasePlaceable.print_tree">
<code class="descname">print_tree</code><span class="sig-paren">(</span><em>indent=0</em>, <em>verbose=False</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.interfaces.BasePlaceable.print_tree" title="Permalink to this definition">¶</a></dt>
<dd><p>Print the tree from the current instance’s point in an indented
manner.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.interfaces.BasePlaceable.prune">
<code class="descname">prune</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.interfaces.BasePlaceable.prune" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove unnecessary nodes to make the tree optimal.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.interfaces.BasePlaceable.remove_type">
<code class="descname">remove_type</code><span class="sig-paren">(</span><em>ptype</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.interfaces.BasePlaceable.remove_type" title="Permalink to this definition">¶</a></dt>
<dd><p>Replace nodes with type <code class="docutils literal notranslate"><span class="pre">ptype</span></code> with base <code class="docutils literal notranslate"><span class="pre">StringElem</span></code>s,
containing the same sub-elements. This is only applicable to elements
below the element tree root node.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.interfaces.BasePlaceable.translate">
<code class="descname">translate</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.interfaces.BasePlaceable.translate" title="Permalink to this definition">¶</a></dt>
<dd><p>Transform the sub-tree according to some class-specific needs.  This
method should be either overridden in implementing sub-classes or
dynamically replaced by specific applications.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The transformed Unicode string representing the sub-tree.</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="translate.storage.placeables.interfaces.InvisiblePlaceable">
<em class="property">class </em><code class="descclassname">translate.storage.placeables.interfaces.</code><code class="descname">InvisiblePlaceable</code><span class="sig-paren">(</span><em>sub=None</em>, <em>id=None</em>, <em>rid=None</em>, <em>xid=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.interfaces.InvisiblePlaceable" title="Permalink to this definition">¶</a></dt>
<dd><dl class="method">
<dt id="translate.storage.placeables.interfaces.InvisiblePlaceable.apply_to_strings">
<code class="descname">apply_to_strings</code><span class="sig-paren">(</span><em>f</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.interfaces.InvisiblePlaceable.apply_to_strings" title="Permalink to this definition">¶</a></dt>
<dd><p>Apply <code class="docutils literal notranslate"><span class="pre">f</span></code> to all actual strings in the tree.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>f</strong> – Must take one (str or unicode) argument and return a
string or unicode.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.interfaces.InvisiblePlaceable.copy">
<code class="descname">copy</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.interfaces.InvisiblePlaceable.copy" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a copy of the sub-tree.  This should be overridden in
sub-classes with more data.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last"><code class="docutils literal notranslate"><span class="pre">self.renderer</span></code> is <strong>not</strong> copied.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.interfaces.InvisiblePlaceable.delete_range">
<code class="descname">delete_range</code><span class="sig-paren">(</span><em>start_index</em>, <em>end_index</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.interfaces.InvisiblePlaceable.delete_range" title="Permalink to this definition">¶</a></dt>
<dd><p>Delete the text in the range given by the string-indexes
<code class="docutils literal notranslate"><span class="pre">start_index</span></code> and <code class="docutils literal notranslate"><span class="pre">end_index</span></code>.</p>
<p>Partial nodes will only be removed if they are editable.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">A <code class="docutils literal notranslate"><span class="pre">StringElem</span></code> representing the removed sub-string, the
parent node from which it was deleted as well as the offset
at which it was deleted from. <code class="docutils literal notranslate"><span class="pre">None</span></code> is returned for the
parent value if the root was deleted. If the parent and
offset values are not <code class="docutils literal notranslate"><span class="pre">None</span></code>, <code class="docutils literal notranslate"><span class="pre">parent.insert(offset,</span>
<span class="pre">deleted)</span></code> effectively undoes the delete.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.interfaces.InvisiblePlaceable.depth_first">
<code class="descname">depth_first</code><span class="sig-paren">(</span><em>filter=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.interfaces.InvisiblePlaceable.depth_first" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a list of the nodes in the tree in depth-first order.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.interfaces.InvisiblePlaceable.elem_at_offset">
<code class="descname">elem_at_offset</code><span class="sig-paren">(</span><em>offset</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.interfaces.InvisiblePlaceable.elem_at_offset" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the <code class="docutils literal notranslate"><span class="pre">StringElem</span></code> in the tree that contains the string rendered
at the given offset.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.interfaces.InvisiblePlaceable.elem_offset">
<code class="descname">elem_offset</code><span class="sig-paren">(</span><em>elem</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.interfaces.InvisiblePlaceable.elem_offset" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the offset of <code class="docutils literal notranslate"><span class="pre">elem</span></code> in the current tree.</p>
<p>This cannot be reliably used if <code class="docutils literal notranslate"><span class="pre">self.renderer</span></code> is used and even
less so if the rendering function renders the string differently
upon different calls. In Virtaal the <code class="docutils literal notranslate"><span class="pre">StringElemGUI.index()</span></code> method
is used as replacement for this one.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The string index where element <code class="docutils literal notranslate"><span class="pre">e</span></code> starts, or -1 if <code class="docutils literal notranslate"><span class="pre">e</span></code>
was not found.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.interfaces.InvisiblePlaceable.encode">
<code class="descname">encode</code><span class="sig-paren">(</span><em>encoding='ascii'</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.interfaces.InvisiblePlaceable.encode" title="Permalink to this definition">¶</a></dt>
<dd><p>More <code class="docutils literal notranslate"><span class="pre">unicode</span></code> class emulation.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.interfaces.InvisiblePlaceable.find">
<code class="descname">find</code><span class="sig-paren">(</span><em>x</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.interfaces.InvisiblePlaceable.find" title="Permalink to this definition">¶</a></dt>
<dd><p>Find sub-string <code class="docutils literal notranslate"><span class="pre">x</span></code> in this string tree and return the position at
which it starts.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.interfaces.InvisiblePlaceable.find_elems_with">
<code class="descname">find_elems_with</code><span class="sig-paren">(</span><em>x</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.interfaces.InvisiblePlaceable.find_elems_with" title="Permalink to this definition">¶</a></dt>
<dd><p>Find all elements in the current sub-tree containing <code class="docutils literal notranslate"><span class="pre">x</span></code>.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.interfaces.InvisiblePlaceable.flatten">
<code class="descname">flatten</code><span class="sig-paren">(</span><em>filter=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.interfaces.InvisiblePlaceable.flatten" title="Permalink to this definition">¶</a></dt>
<dd><p>Flatten the tree by returning a depth-first search over the tree’s
leaves.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.interfaces.InvisiblePlaceable.get_index_data">
<code class="descname">get_index_data</code><span class="sig-paren">(</span><em>index</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.interfaces.InvisiblePlaceable.get_index_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Get info about the specified range in the tree.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">A dictionary with the following items:<ul class="simple">
<li><em>elem</em>: The element in which <code class="docutils literal notranslate"><span class="pre">index</span></code> resides.</li>
<li><em>index</em>: Copy of the <code class="docutils literal notranslate"><span class="pre">index</span></code> parameter</li>
<li><em>offset</em>: The offset of <code class="docutils literal notranslate"><span class="pre">index</span></code> into <code class="docutils literal notranslate"><span class="pre">'elem'</span></code>.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.interfaces.InvisiblePlaceable.get_parent_elem">
<code class="descname">get_parent_elem</code><span class="sig-paren">(</span><em>child</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.interfaces.InvisiblePlaceable.get_parent_elem" title="Permalink to this definition">¶</a></dt>
<dd><p>Searches the current sub-tree for and returns the parent of the
<code class="docutils literal notranslate"><span class="pre">child</span></code> element.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.interfaces.InvisiblePlaceable.insert">
<code class="descname">insert</code><span class="sig-paren">(</span><em>offset</em>, <em>text</em>, <em>preferred_parent=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.interfaces.InvisiblePlaceable.insert" title="Permalink to this definition">¶</a></dt>
<dd><p>Insert the given text at the specified offset of this string-tree’s
string (Unicode) representation.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.interfaces.InvisiblePlaceable.insert_between">
<code class="descname">insert_between</code><span class="sig-paren">(</span><em>left</em>, <em>right</em>, <em>text</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.interfaces.InvisiblePlaceable.insert_between" title="Permalink to this definition">¶</a></dt>
<dd><p>Insert the given text between the two parameter <code class="docutils literal notranslate"><span class="pre">StringElem</span></code>s.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.interfaces.InvisiblePlaceable.isleaf">
<code class="descname">isleaf</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.interfaces.InvisiblePlaceable.isleaf" title="Permalink to this definition">¶</a></dt>
<dd><p>Whether or not this instance is a leaf node in the <code class="docutils literal notranslate"><span class="pre">StringElem</span></code> tree.</p>
<p>A node is a leaf node if it is a <code class="docutils literal notranslate"><span class="pre">StringElem</span></code> (not a sub-class) and
contains only sub-elements of type <code class="docutils literal notranslate"><span class="pre">str</span></code> or <code class="docutils literal notranslate"><span class="pre">unicode</span></code>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/2.7/library/functions.html#bool" title="(in Python v2.7)">bool</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.interfaces.InvisiblePlaceable.iter_depth_first">
<code class="descname">iter_depth_first</code><span class="sig-paren">(</span><em>filter=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.interfaces.InvisiblePlaceable.iter_depth_first" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterate through the nodes in the tree in dept-first order.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.interfaces.InvisiblePlaceable.map">
<code class="descname">map</code><span class="sig-paren">(</span><em>f</em>, <em>filter=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.interfaces.InvisiblePlaceable.map" title="Permalink to this definition">¶</a></dt>
<dd><p>Apply <code class="docutils literal notranslate"><span class="pre">f</span></code> to all nodes for which <code class="docutils literal notranslate"><span class="pre">filter</span></code> returned <code class="docutils literal notranslate"><span class="pre">True</span></code>
(optional).</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.interfaces.InvisiblePlaceable.print_tree">
<code class="descname">print_tree</code><span class="sig-paren">(</span><em>indent=0</em>, <em>verbose=False</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.interfaces.InvisiblePlaceable.print_tree" title="Permalink to this definition">¶</a></dt>
<dd><p>Print the tree from the current instance’s point in an indented
manner.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.interfaces.InvisiblePlaceable.prune">
<code class="descname">prune</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.interfaces.InvisiblePlaceable.prune" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove unnecessary nodes to make the tree optimal.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.interfaces.InvisiblePlaceable.remove_type">
<code class="descname">remove_type</code><span class="sig-paren">(</span><em>ptype</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.interfaces.InvisiblePlaceable.remove_type" title="Permalink to this definition">¶</a></dt>
<dd><p>Replace nodes with type <code class="docutils literal notranslate"><span class="pre">ptype</span></code> with base <code class="docutils literal notranslate"><span class="pre">StringElem</span></code>s,
containing the same sub-elements. This is only applicable to elements
below the element tree root node.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.interfaces.InvisiblePlaceable.translate">
<code class="descname">translate</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.interfaces.InvisiblePlaceable.translate" title="Permalink to this definition">¶</a></dt>
<dd><p>Transform the sub-tree according to some class-specific needs.  This
method should be either overridden in implementing sub-classes or
dynamically replaced by specific applications.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The transformed Unicode string representing the sub-tree.</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="translate.storage.placeables.interfaces.MaskingPlaceable">
<em class="property">class </em><code class="descclassname">translate.storage.placeables.interfaces.</code><code class="descname">MaskingPlaceable</code><span class="sig-paren">(</span><em>sub=None</em>, <em>id=None</em>, <em>rid=None</em>, <em>xid=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.interfaces.MaskingPlaceable" title="Permalink to this definition">¶</a></dt>
<dd><dl class="method">
<dt id="translate.storage.placeables.interfaces.MaskingPlaceable.apply_to_strings">
<code class="descname">apply_to_strings</code><span class="sig-paren">(</span><em>f</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.interfaces.MaskingPlaceable.apply_to_strings" title="Permalink to this definition">¶</a></dt>
<dd><p>Apply <code class="docutils literal notranslate"><span class="pre">f</span></code> to all actual strings in the tree.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>f</strong> – Must take one (str or unicode) argument and return a
string or unicode.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.interfaces.MaskingPlaceable.copy">
<code class="descname">copy</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.interfaces.MaskingPlaceable.copy" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a copy of the sub-tree.  This should be overridden in
sub-classes with more data.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last"><code class="docutils literal notranslate"><span class="pre">self.renderer</span></code> is <strong>not</strong> copied.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.interfaces.MaskingPlaceable.delete_range">
<code class="descname">delete_range</code><span class="sig-paren">(</span><em>start_index</em>, <em>end_index</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.interfaces.MaskingPlaceable.delete_range" title="Permalink to this definition">¶</a></dt>
<dd><p>Delete the text in the range given by the string-indexes
<code class="docutils literal notranslate"><span class="pre">start_index</span></code> and <code class="docutils literal notranslate"><span class="pre">end_index</span></code>.</p>
<p>Partial nodes will only be removed if they are editable.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">A <code class="docutils literal notranslate"><span class="pre">StringElem</span></code> representing the removed sub-string, the
parent node from which it was deleted as well as the offset
at which it was deleted from. <code class="docutils literal notranslate"><span class="pre">None</span></code> is returned for the
parent value if the root was deleted. If the parent and
offset values are not <code class="docutils literal notranslate"><span class="pre">None</span></code>, <code class="docutils literal notranslate"><span class="pre">parent.insert(offset,</span>
<span class="pre">deleted)</span></code> effectively undoes the delete.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.interfaces.MaskingPlaceable.depth_first">
<code class="descname">depth_first</code><span class="sig-paren">(</span><em>filter=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.interfaces.MaskingPlaceable.depth_first" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a list of the nodes in the tree in depth-first order.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.interfaces.MaskingPlaceable.elem_at_offset">
<code class="descname">elem_at_offset</code><span class="sig-paren">(</span><em>offset</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.interfaces.MaskingPlaceable.elem_at_offset" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the <code class="docutils literal notranslate"><span class="pre">StringElem</span></code> in the tree that contains the string rendered
at the given offset.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.interfaces.MaskingPlaceable.elem_offset">
<code class="descname">elem_offset</code><span class="sig-paren">(</span><em>elem</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.interfaces.MaskingPlaceable.elem_offset" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the offset of <code class="docutils literal notranslate"><span class="pre">elem</span></code> in the current tree.</p>
<p>This cannot be reliably used if <code class="docutils literal notranslate"><span class="pre">self.renderer</span></code> is used and even
less so if the rendering function renders the string differently
upon different calls. In Virtaal the <code class="docutils literal notranslate"><span class="pre">StringElemGUI.index()</span></code> method
is used as replacement for this one.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The string index where element <code class="docutils literal notranslate"><span class="pre">e</span></code> starts, or -1 if <code class="docutils literal notranslate"><span class="pre">e</span></code>
was not found.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.interfaces.MaskingPlaceable.encode">
<code class="descname">encode</code><span class="sig-paren">(</span><em>encoding='ascii'</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.interfaces.MaskingPlaceable.encode" title="Permalink to this definition">¶</a></dt>
<dd><p>More <code class="docutils literal notranslate"><span class="pre">unicode</span></code> class emulation.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.interfaces.MaskingPlaceable.find">
<code class="descname">find</code><span class="sig-paren">(</span><em>x</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.interfaces.MaskingPlaceable.find" title="Permalink to this definition">¶</a></dt>
<dd><p>Find sub-string <code class="docutils literal notranslate"><span class="pre">x</span></code> in this string tree and return the position at
which it starts.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.interfaces.MaskingPlaceable.find_elems_with">
<code class="descname">find_elems_with</code><span class="sig-paren">(</span><em>x</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.interfaces.MaskingPlaceable.find_elems_with" title="Permalink to this definition">¶</a></dt>
<dd><p>Find all elements in the current sub-tree containing <code class="docutils literal notranslate"><span class="pre">x</span></code>.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.interfaces.MaskingPlaceable.flatten">
<code class="descname">flatten</code><span class="sig-paren">(</span><em>filter=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.interfaces.MaskingPlaceable.flatten" title="Permalink to this definition">¶</a></dt>
<dd><p>Flatten the tree by returning a depth-first search over the tree’s
leaves.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.interfaces.MaskingPlaceable.get_index_data">
<code class="descname">get_index_data</code><span class="sig-paren">(</span><em>index</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.interfaces.MaskingPlaceable.get_index_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Get info about the specified range in the tree.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">A dictionary with the following items:<ul class="simple">
<li><em>elem</em>: The element in which <code class="docutils literal notranslate"><span class="pre">index</span></code> resides.</li>
<li><em>index</em>: Copy of the <code class="docutils literal notranslate"><span class="pre">index</span></code> parameter</li>
<li><em>offset</em>: The offset of <code class="docutils literal notranslate"><span class="pre">index</span></code> into <code class="docutils literal notranslate"><span class="pre">'elem'</span></code>.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.interfaces.MaskingPlaceable.get_parent_elem">
<code class="descname">get_parent_elem</code><span class="sig-paren">(</span><em>child</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.interfaces.MaskingPlaceable.get_parent_elem" title="Permalink to this definition">¶</a></dt>
<dd><p>Searches the current sub-tree for and returns the parent of the
<code class="docutils literal notranslate"><span class="pre">child</span></code> element.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.interfaces.MaskingPlaceable.insert">
<code class="descname">insert</code><span class="sig-paren">(</span><em>offset</em>, <em>text</em>, <em>preferred_parent=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.interfaces.MaskingPlaceable.insert" title="Permalink to this definition">¶</a></dt>
<dd><p>Insert the given text at the specified offset of this string-tree’s
string (Unicode) representation.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.interfaces.MaskingPlaceable.insert_between">
<code class="descname">insert_between</code><span class="sig-paren">(</span><em>left</em>, <em>right</em>, <em>text</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.interfaces.MaskingPlaceable.insert_between" title="Permalink to this definition">¶</a></dt>
<dd><p>Insert the given text between the two parameter <code class="docutils literal notranslate"><span class="pre">StringElem</span></code>s.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.interfaces.MaskingPlaceable.isleaf">
<code class="descname">isleaf</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.interfaces.MaskingPlaceable.isleaf" title="Permalink to this definition">¶</a></dt>
<dd><p>Whether or not this instance is a leaf node in the <code class="docutils literal notranslate"><span class="pre">StringElem</span></code> tree.</p>
<p>A node is a leaf node if it is a <code class="docutils literal notranslate"><span class="pre">StringElem</span></code> (not a sub-class) and
contains only sub-elements of type <code class="docutils literal notranslate"><span class="pre">str</span></code> or <code class="docutils literal notranslate"><span class="pre">unicode</span></code>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/2.7/library/functions.html#bool" title="(in Python v2.7)">bool</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.interfaces.MaskingPlaceable.iter_depth_first">
<code class="descname">iter_depth_first</code><span class="sig-paren">(</span><em>filter=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.interfaces.MaskingPlaceable.iter_depth_first" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterate through the nodes in the tree in dept-first order.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.interfaces.MaskingPlaceable.map">
<code class="descname">map</code><span class="sig-paren">(</span><em>f</em>, <em>filter=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.interfaces.MaskingPlaceable.map" title="Permalink to this definition">¶</a></dt>
<dd><p>Apply <code class="docutils literal notranslate"><span class="pre">f</span></code> to all nodes for which <code class="docutils literal notranslate"><span class="pre">filter</span></code> returned <code class="docutils literal notranslate"><span class="pre">True</span></code>
(optional).</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.interfaces.MaskingPlaceable.print_tree">
<code class="descname">print_tree</code><span class="sig-paren">(</span><em>indent=0</em>, <em>verbose=False</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.interfaces.MaskingPlaceable.print_tree" title="Permalink to this definition">¶</a></dt>
<dd><p>Print the tree from the current instance’s point in an indented
manner.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.interfaces.MaskingPlaceable.prune">
<code class="descname">prune</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.interfaces.MaskingPlaceable.prune" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove unnecessary nodes to make the tree optimal.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.interfaces.MaskingPlaceable.remove_type">
<code class="descname">remove_type</code><span class="sig-paren">(</span><em>ptype</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.interfaces.MaskingPlaceable.remove_type" title="Permalink to this definition">¶</a></dt>
<dd><p>Replace nodes with type <code class="docutils literal notranslate"><span class="pre">ptype</span></code> with base <code class="docutils literal notranslate"><span class="pre">StringElem</span></code>s,
containing the same sub-elements. This is only applicable to elements
below the element tree root node.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.interfaces.MaskingPlaceable.translate">
<code class="descname">translate</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.interfaces.MaskingPlaceable.translate" title="Permalink to this definition">¶</a></dt>
<dd><p>Transform the sub-tree according to some class-specific needs.  This
method should be either overridden in implementing sub-classes or
dynamically replaced by specific applications.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The transformed Unicode string representing the sub-tree.</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="translate.storage.placeables.interfaces.ReplacementPlaceable">
<em class="property">class </em><code class="descclassname">translate.storage.placeables.interfaces.</code><code class="descname">ReplacementPlaceable</code><span class="sig-paren">(</span><em>sub=None</em>, <em>id=None</em>, <em>rid=None</em>, <em>xid=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.interfaces.ReplacementPlaceable" title="Permalink to this definition">¶</a></dt>
<dd><dl class="method">
<dt id="translate.storage.placeables.interfaces.ReplacementPlaceable.apply_to_strings">
<code class="descname">apply_to_strings</code><span class="sig-paren">(</span><em>f</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.interfaces.ReplacementPlaceable.apply_to_strings" title="Permalink to this definition">¶</a></dt>
<dd><p>Apply <code class="docutils literal notranslate"><span class="pre">f</span></code> to all actual strings in the tree.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>f</strong> – Must take one (str or unicode) argument and return a
string or unicode.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.interfaces.ReplacementPlaceable.copy">
<code class="descname">copy</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.interfaces.ReplacementPlaceable.copy" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a copy of the sub-tree.  This should be overridden in
sub-classes with more data.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last"><code class="docutils literal notranslate"><span class="pre">self.renderer</span></code> is <strong>not</strong> copied.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.interfaces.ReplacementPlaceable.delete_range">
<code class="descname">delete_range</code><span class="sig-paren">(</span><em>start_index</em>, <em>end_index</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.interfaces.ReplacementPlaceable.delete_range" title="Permalink to this definition">¶</a></dt>
<dd><p>Delete the text in the range given by the string-indexes
<code class="docutils literal notranslate"><span class="pre">start_index</span></code> and <code class="docutils literal notranslate"><span class="pre">end_index</span></code>.</p>
<p>Partial nodes will only be removed if they are editable.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">A <code class="docutils literal notranslate"><span class="pre">StringElem</span></code> representing the removed sub-string, the
parent node from which it was deleted as well as the offset
at which it was deleted from. <code class="docutils literal notranslate"><span class="pre">None</span></code> is returned for the
parent value if the root was deleted. If the parent and
offset values are not <code class="docutils literal notranslate"><span class="pre">None</span></code>, <code class="docutils literal notranslate"><span class="pre">parent.insert(offset,</span>
<span class="pre">deleted)</span></code> effectively undoes the delete.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.interfaces.ReplacementPlaceable.depth_first">
<code class="descname">depth_first</code><span class="sig-paren">(</span><em>filter=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.interfaces.ReplacementPlaceable.depth_first" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a list of the nodes in the tree in depth-first order.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.interfaces.ReplacementPlaceable.elem_at_offset">
<code class="descname">elem_at_offset</code><span class="sig-paren">(</span><em>offset</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.interfaces.ReplacementPlaceable.elem_at_offset" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the <code class="docutils literal notranslate"><span class="pre">StringElem</span></code> in the tree that contains the string rendered
at the given offset.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.interfaces.ReplacementPlaceable.elem_offset">
<code class="descname">elem_offset</code><span class="sig-paren">(</span><em>elem</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.interfaces.ReplacementPlaceable.elem_offset" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the offset of <code class="docutils literal notranslate"><span class="pre">elem</span></code> in the current tree.</p>
<p>This cannot be reliably used if <code class="docutils literal notranslate"><span class="pre">self.renderer</span></code> is used and even
less so if the rendering function renders the string differently
upon different calls. In Virtaal the <code class="docutils literal notranslate"><span class="pre">StringElemGUI.index()</span></code> method
is used as replacement for this one.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The string index where element <code class="docutils literal notranslate"><span class="pre">e</span></code> starts, or -1 if <code class="docutils literal notranslate"><span class="pre">e</span></code>
was not found.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.interfaces.ReplacementPlaceable.encode">
<code class="descname">encode</code><span class="sig-paren">(</span><em>encoding='ascii'</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.interfaces.ReplacementPlaceable.encode" title="Permalink to this definition">¶</a></dt>
<dd><p>More <code class="docutils literal notranslate"><span class="pre">unicode</span></code> class emulation.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.interfaces.ReplacementPlaceable.find">
<code class="descname">find</code><span class="sig-paren">(</span><em>x</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.interfaces.ReplacementPlaceable.find" title="Permalink to this definition">¶</a></dt>
<dd><p>Find sub-string <code class="docutils literal notranslate"><span class="pre">x</span></code> in this string tree and return the position at
which it starts.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.interfaces.ReplacementPlaceable.find_elems_with">
<code class="descname">find_elems_with</code><span class="sig-paren">(</span><em>x</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.interfaces.ReplacementPlaceable.find_elems_with" title="Permalink to this definition">¶</a></dt>
<dd><p>Find all elements in the current sub-tree containing <code class="docutils literal notranslate"><span class="pre">x</span></code>.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.interfaces.ReplacementPlaceable.flatten">
<code class="descname">flatten</code><span class="sig-paren">(</span><em>filter=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.interfaces.ReplacementPlaceable.flatten" title="Permalink to this definition">¶</a></dt>
<dd><p>Flatten the tree by returning a depth-first search over the tree’s
leaves.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.interfaces.ReplacementPlaceable.get_index_data">
<code class="descname">get_index_data</code><span class="sig-paren">(</span><em>index</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.interfaces.ReplacementPlaceable.get_index_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Get info about the specified range in the tree.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">A dictionary with the following items:<ul class="simple">
<li><em>elem</em>: The element in which <code class="docutils literal notranslate"><span class="pre">index</span></code> resides.</li>
<li><em>index</em>: Copy of the <code class="docutils literal notranslate"><span class="pre">index</span></code> parameter</li>
<li><em>offset</em>: The offset of <code class="docutils literal notranslate"><span class="pre">index</span></code> into <code class="docutils literal notranslate"><span class="pre">'elem'</span></code>.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.interfaces.ReplacementPlaceable.get_parent_elem">
<code class="descname">get_parent_elem</code><span class="sig-paren">(</span><em>child</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.interfaces.ReplacementPlaceable.get_parent_elem" title="Permalink to this definition">¶</a></dt>
<dd><p>Searches the current sub-tree for and returns the parent of the
<code class="docutils literal notranslate"><span class="pre">child</span></code> element.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.interfaces.ReplacementPlaceable.insert">
<code class="descname">insert</code><span class="sig-paren">(</span><em>offset</em>, <em>text</em>, <em>preferred_parent=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.interfaces.ReplacementPlaceable.insert" title="Permalink to this definition">¶</a></dt>
<dd><p>Insert the given text at the specified offset of this string-tree’s
string (Unicode) representation.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.interfaces.ReplacementPlaceable.insert_between">
<code class="descname">insert_between</code><span class="sig-paren">(</span><em>left</em>, <em>right</em>, <em>text</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.interfaces.ReplacementPlaceable.insert_between" title="Permalink to this definition">¶</a></dt>
<dd><p>Insert the given text between the two parameter <code class="docutils literal notranslate"><span class="pre">StringElem</span></code>s.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.interfaces.ReplacementPlaceable.isleaf">
<code class="descname">isleaf</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.interfaces.ReplacementPlaceable.isleaf" title="Permalink to this definition">¶</a></dt>
<dd><p>Whether or not this instance is a leaf node in the <code class="docutils literal notranslate"><span class="pre">StringElem</span></code> tree.</p>
<p>A node is a leaf node if it is a <code class="docutils literal notranslate"><span class="pre">StringElem</span></code> (not a sub-class) and
contains only sub-elements of type <code class="docutils literal notranslate"><span class="pre">str</span></code> or <code class="docutils literal notranslate"><span class="pre">unicode</span></code>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/2.7/library/functions.html#bool" title="(in Python v2.7)">bool</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.interfaces.ReplacementPlaceable.iter_depth_first">
<code class="descname">iter_depth_first</code><span class="sig-paren">(</span><em>filter=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.interfaces.ReplacementPlaceable.iter_depth_first" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterate through the nodes in the tree in dept-first order.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.interfaces.ReplacementPlaceable.map">
<code class="descname">map</code><span class="sig-paren">(</span><em>f</em>, <em>filter=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.interfaces.ReplacementPlaceable.map" title="Permalink to this definition">¶</a></dt>
<dd><p>Apply <code class="docutils literal notranslate"><span class="pre">f</span></code> to all nodes for which <code class="docutils literal notranslate"><span class="pre">filter</span></code> returned <code class="docutils literal notranslate"><span class="pre">True</span></code>
(optional).</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.interfaces.ReplacementPlaceable.print_tree">
<code class="descname">print_tree</code><span class="sig-paren">(</span><em>indent=0</em>, <em>verbose=False</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.interfaces.ReplacementPlaceable.print_tree" title="Permalink to this definition">¶</a></dt>
<dd><p>Print the tree from the current instance’s point in an indented
manner.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.interfaces.ReplacementPlaceable.prune">
<code class="descname">prune</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.interfaces.ReplacementPlaceable.prune" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove unnecessary nodes to make the tree optimal.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.interfaces.ReplacementPlaceable.remove_type">
<code class="descname">remove_type</code><span class="sig-paren">(</span><em>ptype</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.interfaces.ReplacementPlaceable.remove_type" title="Permalink to this definition">¶</a></dt>
<dd><p>Replace nodes with type <code class="docutils literal notranslate"><span class="pre">ptype</span></code> with base <code class="docutils literal notranslate"><span class="pre">StringElem</span></code>s,
containing the same sub-elements. This is only applicable to elements
below the element tree root node.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.interfaces.ReplacementPlaceable.translate">
<code class="descname">translate</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.interfaces.ReplacementPlaceable.translate" title="Permalink to this definition">¶</a></dt>
<dd><p>Transform the sub-tree according to some class-specific needs.  This
method should be either overridden in implementing sub-classes or
dynamically replaced by specific applications.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The transformed Unicode string representing the sub-tree.</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="translate.storage.placeables.interfaces.SubflowPlaceable">
<em class="property">class </em><code class="descclassname">translate.storage.placeables.interfaces.</code><code class="descname">SubflowPlaceable</code><span class="sig-paren">(</span><em>sub=None</em>, <em>id=None</em>, <em>rid=None</em>, <em>xid=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.interfaces.SubflowPlaceable" title="Permalink to this definition">¶</a></dt>
<dd><dl class="method">
<dt id="translate.storage.placeables.interfaces.SubflowPlaceable.apply_to_strings">
<code class="descname">apply_to_strings</code><span class="sig-paren">(</span><em>f</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.interfaces.SubflowPlaceable.apply_to_strings" title="Permalink to this definition">¶</a></dt>
<dd><p>Apply <code class="docutils literal notranslate"><span class="pre">f</span></code> to all actual strings in the tree.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>f</strong> – Must take one (str or unicode) argument and return a
string or unicode.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.interfaces.SubflowPlaceable.copy">
<code class="descname">copy</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.interfaces.SubflowPlaceable.copy" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a copy of the sub-tree.  This should be overridden in
sub-classes with more data.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last"><code class="docutils literal notranslate"><span class="pre">self.renderer</span></code> is <strong>not</strong> copied.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.interfaces.SubflowPlaceable.delete_range">
<code class="descname">delete_range</code><span class="sig-paren">(</span><em>start_index</em>, <em>end_index</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.interfaces.SubflowPlaceable.delete_range" title="Permalink to this definition">¶</a></dt>
<dd><p>Delete the text in the range given by the string-indexes
<code class="docutils literal notranslate"><span class="pre">start_index</span></code> and <code class="docutils literal notranslate"><span class="pre">end_index</span></code>.</p>
<p>Partial nodes will only be removed if they are editable.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">A <code class="docutils literal notranslate"><span class="pre">StringElem</span></code> representing the removed sub-string, the
parent node from which it was deleted as well as the offset
at which it was deleted from. <code class="docutils literal notranslate"><span class="pre">None</span></code> is returned for the
parent value if the root was deleted. If the parent and
offset values are not <code class="docutils literal notranslate"><span class="pre">None</span></code>, <code class="docutils literal notranslate"><span class="pre">parent.insert(offset,</span>
<span class="pre">deleted)</span></code> effectively undoes the delete.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.interfaces.SubflowPlaceable.depth_first">
<code class="descname">depth_first</code><span class="sig-paren">(</span><em>filter=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.interfaces.SubflowPlaceable.depth_first" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a list of the nodes in the tree in depth-first order.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.interfaces.SubflowPlaceable.elem_at_offset">
<code class="descname">elem_at_offset</code><span class="sig-paren">(</span><em>offset</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.interfaces.SubflowPlaceable.elem_at_offset" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the <code class="docutils literal notranslate"><span class="pre">StringElem</span></code> in the tree that contains the string rendered
at the given offset.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.interfaces.SubflowPlaceable.elem_offset">
<code class="descname">elem_offset</code><span class="sig-paren">(</span><em>elem</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.interfaces.SubflowPlaceable.elem_offset" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the offset of <code class="docutils literal notranslate"><span class="pre">elem</span></code> in the current tree.</p>
<p>This cannot be reliably used if <code class="docutils literal notranslate"><span class="pre">self.renderer</span></code> is used and even
less so if the rendering function renders the string differently
upon different calls. In Virtaal the <code class="docutils literal notranslate"><span class="pre">StringElemGUI.index()</span></code> method
is used as replacement for this one.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The string index where element <code class="docutils literal notranslate"><span class="pre">e</span></code> starts, or -1 if <code class="docutils literal notranslate"><span class="pre">e</span></code>
was not found.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.interfaces.SubflowPlaceable.encode">
<code class="descname">encode</code><span class="sig-paren">(</span><em>encoding='ascii'</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.interfaces.SubflowPlaceable.encode" title="Permalink to this definition">¶</a></dt>
<dd><p>More <code class="docutils literal notranslate"><span class="pre">unicode</span></code> class emulation.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.interfaces.SubflowPlaceable.find">
<code class="descname">find</code><span class="sig-paren">(</span><em>x</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.interfaces.SubflowPlaceable.find" title="Permalink to this definition">¶</a></dt>
<dd><p>Find sub-string <code class="docutils literal notranslate"><span class="pre">x</span></code> in this string tree and return the position at
which it starts.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.interfaces.SubflowPlaceable.find_elems_with">
<code class="descname">find_elems_with</code><span class="sig-paren">(</span><em>x</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.interfaces.SubflowPlaceable.find_elems_with" title="Permalink to this definition">¶</a></dt>
<dd><p>Find all elements in the current sub-tree containing <code class="docutils literal notranslate"><span class="pre">x</span></code>.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.interfaces.SubflowPlaceable.flatten">
<code class="descname">flatten</code><span class="sig-paren">(</span><em>filter=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.interfaces.SubflowPlaceable.flatten" title="Permalink to this definition">¶</a></dt>
<dd><p>Flatten the tree by returning a depth-first search over the tree’s
leaves.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.interfaces.SubflowPlaceable.get_index_data">
<code class="descname">get_index_data</code><span class="sig-paren">(</span><em>index</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.interfaces.SubflowPlaceable.get_index_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Get info about the specified range in the tree.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">A dictionary with the following items:<ul class="simple">
<li><em>elem</em>: The element in which <code class="docutils literal notranslate"><span class="pre">index</span></code> resides.</li>
<li><em>index</em>: Copy of the <code class="docutils literal notranslate"><span class="pre">index</span></code> parameter</li>
<li><em>offset</em>: The offset of <code class="docutils literal notranslate"><span class="pre">index</span></code> into <code class="docutils literal notranslate"><span class="pre">'elem'</span></code>.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.interfaces.SubflowPlaceable.get_parent_elem">
<code class="descname">get_parent_elem</code><span class="sig-paren">(</span><em>child</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.interfaces.SubflowPlaceable.get_parent_elem" title="Permalink to this definition">¶</a></dt>
<dd><p>Searches the current sub-tree for and returns the parent of the
<code class="docutils literal notranslate"><span class="pre">child</span></code> element.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.interfaces.SubflowPlaceable.insert">
<code class="descname">insert</code><span class="sig-paren">(</span><em>offset</em>, <em>text</em>, <em>preferred_parent=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.interfaces.SubflowPlaceable.insert" title="Permalink to this definition">¶</a></dt>
<dd><p>Insert the given text at the specified offset of this string-tree’s
string (Unicode) representation.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.interfaces.SubflowPlaceable.insert_between">
<code class="descname">insert_between</code><span class="sig-paren">(</span><em>left</em>, <em>right</em>, <em>text</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.interfaces.SubflowPlaceable.insert_between" title="Permalink to this definition">¶</a></dt>
<dd><p>Insert the given text between the two parameter <code class="docutils literal notranslate"><span class="pre">StringElem</span></code>s.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.interfaces.SubflowPlaceable.isleaf">
<code class="descname">isleaf</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.interfaces.SubflowPlaceable.isleaf" title="Permalink to this definition">¶</a></dt>
<dd><p>Whether or not this instance is a leaf node in the <code class="docutils literal notranslate"><span class="pre">StringElem</span></code> tree.</p>
<p>A node is a leaf node if it is a <code class="docutils literal notranslate"><span class="pre">StringElem</span></code> (not a sub-class) and
contains only sub-elements of type <code class="docutils literal notranslate"><span class="pre">str</span></code> or <code class="docutils literal notranslate"><span class="pre">unicode</span></code>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/2.7/library/functions.html#bool" title="(in Python v2.7)">bool</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.interfaces.SubflowPlaceable.iter_depth_first">
<code class="descname">iter_depth_first</code><span class="sig-paren">(</span><em>filter=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.interfaces.SubflowPlaceable.iter_depth_first" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterate through the nodes in the tree in dept-first order.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.interfaces.SubflowPlaceable.map">
<code class="descname">map</code><span class="sig-paren">(</span><em>f</em>, <em>filter=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.interfaces.SubflowPlaceable.map" title="Permalink to this definition">¶</a></dt>
<dd><p>Apply <code class="docutils literal notranslate"><span class="pre">f</span></code> to all nodes for which <code class="docutils literal notranslate"><span class="pre">filter</span></code> returned <code class="docutils literal notranslate"><span class="pre">True</span></code>
(optional).</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.interfaces.SubflowPlaceable.print_tree">
<code class="descname">print_tree</code><span class="sig-paren">(</span><em>indent=0</em>, <em>verbose=False</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.interfaces.SubflowPlaceable.print_tree" title="Permalink to this definition">¶</a></dt>
<dd><p>Print the tree from the current instance’s point in an indented
manner.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.interfaces.SubflowPlaceable.prune">
<code class="descname">prune</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.interfaces.SubflowPlaceable.prune" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove unnecessary nodes to make the tree optimal.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.interfaces.SubflowPlaceable.remove_type">
<code class="descname">remove_type</code><span class="sig-paren">(</span><em>ptype</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.interfaces.SubflowPlaceable.remove_type" title="Permalink to this definition">¶</a></dt>
<dd><p>Replace nodes with type <code class="docutils literal notranslate"><span class="pre">ptype</span></code> with base <code class="docutils literal notranslate"><span class="pre">StringElem</span></code>s,
containing the same sub-elements. This is only applicable to elements
below the element tree root node.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.interfaces.SubflowPlaceable.translate">
<code class="descname">translate</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.interfaces.SubflowPlaceable.translate" title="Permalink to this definition">¶</a></dt>
<dd><p>Transform the sub-tree according to some class-specific needs.  This
method should be either overridden in implementing sub-classes or
dynamically replaced by specific applications.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The transformed Unicode string representing the sub-tree.</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="id3">
<h3>lisa<a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h3>
<span class="target" id="module-translate.storage.placeables.lisa"></span></div>
<div class="section" id="module-translate.storage.placeables.parse">
<span id="parse"></span><h3>parse<a class="headerlink" href="#module-translate.storage.placeables.parse" title="Permalink to this headline">¶</a></h3>
<p>Contains the <code class="docutils literal notranslate"><span class="pre">parse</span></code> function that parses normal strings into StringElem-
based “rich” string element trees.</p>
<dl class="function">
<dt id="translate.storage.placeables.parse.parse">
<code class="descclassname">translate.storage.placeables.parse.</code><code class="descname">parse</code><span class="sig-paren">(</span><em>tree</em>, <em>parse_funcs</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.parse.parse" title="Permalink to this definition">¶</a></dt>
<dd><p>Parse placeables from the given string or sub-tree by using the
parsing functions provided.</p>
<p>The output of this function is <strong>heavily</strong> dependent on the order of the
parsing functions. This is because of the algorithm used.</p>
<p>An over-simplification of the algorithm: the leaves in the <code class="docutils literal notranslate"><span class="pre">StringElem</span></code>
tree are expanded to the output of the first parsing function in
<code class="docutils literal notranslate"><span class="pre">parse_funcs</span></code>. The next level of recursion is then started on the new
set of leaves with the used parsing function removed from
<code class="docutils literal notranslate"><span class="pre">parse_funcs</span></code>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>tree</strong> (<em>unicode|StringElem</em>) – The string or string element sub-tree to parse.</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="module-translate.storage.placeables.strelem">
<span id="strelem"></span><h3>strelem<a class="headerlink" href="#module-translate.storage.placeables.strelem" title="Permalink to this headline">¶</a></h3>
<p>Contains the base <a class="reference internal" href="#translate.storage.placeables.strelem.StringElem" title="translate.storage.placeables.strelem.StringElem"><code class="xref py py-class docutils literal notranslate"><span class="pre">StringElem</span></code></a> class that represents a node in a
parsed rich-string tree. It is the base class of all placeables.</p>
<dl class="exception">
<dt id="translate.storage.placeables.strelem.ElementNotFoundError">
<em class="property">exception </em><code class="descclassname">translate.storage.placeables.strelem.</code><code class="descname">ElementNotFoundError</code><a class="headerlink" href="#translate.storage.placeables.strelem.ElementNotFoundError" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="class">
<dt id="translate.storage.placeables.strelem.StringElem">
<em class="property">class </em><code class="descclassname">translate.storage.placeables.strelem.</code><code class="descname">StringElem</code><span class="sig-paren">(</span><em>sub=None</em>, <em>id=None</em>, <em>rid=None</em>, <em>xid=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.strelem.StringElem" title="Permalink to this definition">¶</a></dt>
<dd><p>This class represents a sub-tree of a string parsed into a rich structure.
It is also the base class of all placeables.</p>
<dl class="method">
<dt id="translate.storage.placeables.strelem.StringElem.apply_to_strings">
<code class="descname">apply_to_strings</code><span class="sig-paren">(</span><em>f</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.strelem.StringElem.apply_to_strings" title="Permalink to this definition">¶</a></dt>
<dd><p>Apply <code class="docutils literal notranslate"><span class="pre">f</span></code> to all actual strings in the tree.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>f</strong> – Must take one (str or unicode) argument and return a
string or unicode.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.strelem.StringElem.copy">
<code class="descname">copy</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.strelem.StringElem.copy" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a copy of the sub-tree.  This should be overridden in
sub-classes with more data.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last"><code class="docutils literal notranslate"><span class="pre">self.renderer</span></code> is <strong>not</strong> copied.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.strelem.StringElem.delete_range">
<code class="descname">delete_range</code><span class="sig-paren">(</span><em>start_index</em>, <em>end_index</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.strelem.StringElem.delete_range" title="Permalink to this definition">¶</a></dt>
<dd><p>Delete the text in the range given by the string-indexes
<code class="docutils literal notranslate"><span class="pre">start_index</span></code> and <code class="docutils literal notranslate"><span class="pre">end_index</span></code>.</p>
<p>Partial nodes will only be removed if they are editable.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">A <code class="docutils literal notranslate"><span class="pre">StringElem</span></code> representing the removed sub-string, the
parent node from which it was deleted as well as the offset
at which it was deleted from. <code class="docutils literal notranslate"><span class="pre">None</span></code> is returned for the
parent value if the root was deleted. If the parent and
offset values are not <code class="docutils literal notranslate"><span class="pre">None</span></code>, <code class="docutils literal notranslate"><span class="pre">parent.insert(offset,</span>
<span class="pre">deleted)</span></code> effectively undoes the delete.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.strelem.StringElem.depth_first">
<code class="descname">depth_first</code><span class="sig-paren">(</span><em>filter=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.strelem.StringElem.depth_first" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a list of the nodes in the tree in depth-first order.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.strelem.StringElem.elem_at_offset">
<code class="descname">elem_at_offset</code><span class="sig-paren">(</span><em>offset</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.strelem.StringElem.elem_at_offset" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the <code class="docutils literal notranslate"><span class="pre">StringElem</span></code> in the tree that contains the string rendered
at the given offset.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.strelem.StringElem.elem_offset">
<code class="descname">elem_offset</code><span class="sig-paren">(</span><em>elem</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.strelem.StringElem.elem_offset" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the offset of <code class="docutils literal notranslate"><span class="pre">elem</span></code> in the current tree.</p>
<p>This cannot be reliably used if <code class="docutils literal notranslate"><span class="pre">self.renderer</span></code> is used and even
less so if the rendering function renders the string differently
upon different calls. In Virtaal the <code class="docutils literal notranslate"><span class="pre">StringElemGUI.index()</span></code> method
is used as replacement for this one.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The string index where element <code class="docutils literal notranslate"><span class="pre">e</span></code> starts, or -1 if <code class="docutils literal notranslate"><span class="pre">e</span></code>
was not found.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.strelem.StringElem.encode">
<code class="descname">encode</code><span class="sig-paren">(</span><em>encoding='ascii'</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.strelem.StringElem.encode" title="Permalink to this definition">¶</a></dt>
<dd><p>More <code class="docutils literal notranslate"><span class="pre">unicode</span></code> class emulation.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.strelem.StringElem.find">
<code class="descname">find</code><span class="sig-paren">(</span><em>x</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.strelem.StringElem.find" title="Permalink to this definition">¶</a></dt>
<dd><p>Find sub-string <code class="docutils literal notranslate"><span class="pre">x</span></code> in this string tree and return the position at
which it starts.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.strelem.StringElem.find_elems_with">
<code class="descname">find_elems_with</code><span class="sig-paren">(</span><em>x</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.strelem.StringElem.find_elems_with" title="Permalink to this definition">¶</a></dt>
<dd><p>Find all elements in the current sub-tree containing <code class="docutils literal notranslate"><span class="pre">x</span></code>.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.strelem.StringElem.flatten">
<code class="descname">flatten</code><span class="sig-paren">(</span><em>filter=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.strelem.StringElem.flatten" title="Permalink to this definition">¶</a></dt>
<dd><p>Flatten the tree by returning a depth-first search over the tree’s
leaves.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.strelem.StringElem.get_index_data">
<code class="descname">get_index_data</code><span class="sig-paren">(</span><em>index</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.strelem.StringElem.get_index_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Get info about the specified range in the tree.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">A dictionary with the following items:<ul class="simple">
<li><em>elem</em>: The element in which <code class="docutils literal notranslate"><span class="pre">index</span></code> resides.</li>
<li><em>index</em>: Copy of the <code class="docutils literal notranslate"><span class="pre">index</span></code> parameter</li>
<li><em>offset</em>: The offset of <code class="docutils literal notranslate"><span class="pre">index</span></code> into <code class="docutils literal notranslate"><span class="pre">'elem'</span></code>.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.strelem.StringElem.get_parent_elem">
<code class="descname">get_parent_elem</code><span class="sig-paren">(</span><em>child</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.strelem.StringElem.get_parent_elem" title="Permalink to this definition">¶</a></dt>
<dd><p>Searches the current sub-tree for and returns the parent of the
<code class="docutils literal notranslate"><span class="pre">child</span></code> element.</p>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.placeables.strelem.StringElem.has_content">
<code class="descname">has_content</code><em class="property"> = True</em><a class="headerlink" href="#translate.storage.placeables.strelem.StringElem.has_content" title="Permalink to this definition">¶</a></dt>
<dd><p>Whether this string can have sub-elements.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.strelem.StringElem.insert">
<code class="descname">insert</code><span class="sig-paren">(</span><em>offset</em>, <em>text</em>, <em>preferred_parent=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.strelem.StringElem.insert" title="Permalink to this definition">¶</a></dt>
<dd><p>Insert the given text at the specified offset of this string-tree’s
string (Unicode) representation.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.strelem.StringElem.insert_between">
<code class="descname">insert_between</code><span class="sig-paren">(</span><em>left</em>, <em>right</em>, <em>text</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.strelem.StringElem.insert_between" title="Permalink to this definition">¶</a></dt>
<dd><p>Insert the given text between the two parameter <code class="docutils literal notranslate"><span class="pre">StringElem</span></code>s.</p>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.placeables.strelem.StringElem.iseditable">
<code class="descname">iseditable</code><em class="property"> = True</em><a class="headerlink" href="#translate.storage.placeables.strelem.StringElem.iseditable" title="Permalink to this definition">¶</a></dt>
<dd><p>Whether this string should be changable by the user. Not used at
the moment.</p>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.placeables.strelem.StringElem.isfragile">
<code class="descname">isfragile</code><em class="property"> = False</em><a class="headerlink" href="#translate.storage.placeables.strelem.StringElem.isfragile" title="Permalink to this definition">¶</a></dt>
<dd><p>Whether this element should be deleted in its entirety when partially
deleted. Only checked when <code class="docutils literal notranslate"><span class="pre">iseditable</span> <span class="pre">=</span> <span class="pre">False</span></code></p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.strelem.StringElem.isleaf">
<code class="descname">isleaf</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.strelem.StringElem.isleaf" title="Permalink to this definition">¶</a></dt>
<dd><p>Whether or not this instance is a leaf node in the <code class="docutils literal notranslate"><span class="pre">StringElem</span></code> tree.</p>
<p>A node is a leaf node if it is a <code class="docutils literal notranslate"><span class="pre">StringElem</span></code> (not a sub-class) and
contains only sub-elements of type <code class="docutils literal notranslate"><span class="pre">str</span></code> or <code class="docutils literal notranslate"><span class="pre">unicode</span></code>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/2.7/library/functions.html#bool" title="(in Python v2.7)">bool</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.placeables.strelem.StringElem.istranslatable">
<code class="descname">istranslatable</code><em class="property"> = True</em><a class="headerlink" href="#translate.storage.placeables.strelem.StringElem.istranslatable" title="Permalink to this definition">¶</a></dt>
<dd><p>Whether this string is translatable into other languages.</p>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.placeables.strelem.StringElem.isvisible">
<code class="descname">isvisible</code><em class="property"> = True</em><a class="headerlink" href="#translate.storage.placeables.strelem.StringElem.isvisible" title="Permalink to this definition">¶</a></dt>
<dd><p>Whether this string should be visible to the user. Not used at
the moment.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.strelem.StringElem.iter_depth_first">
<code class="descname">iter_depth_first</code><span class="sig-paren">(</span><em>filter=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.strelem.StringElem.iter_depth_first" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterate through the nodes in the tree in dept-first order.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.strelem.StringElem.map">
<code class="descname">map</code><span class="sig-paren">(</span><em>f</em>, <em>filter=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.strelem.StringElem.map" title="Permalink to this definition">¶</a></dt>
<dd><p>Apply <code class="docutils literal notranslate"><span class="pre">f</span></code> to all nodes for which <code class="docutils literal notranslate"><span class="pre">filter</span></code> returned <code class="docutils literal notranslate"><span class="pre">True</span></code>
(optional).</p>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.placeables.strelem.StringElem.parse">
<em class="property">classmethod </em><code class="descname">parse</code><span class="sig-paren">(</span><em>pstr</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.strelem.StringElem.parse" title="Permalink to this definition">¶</a></dt>
<dd><p>Parse an instance of this class from the start of the given string.
This method should be implemented by any sub-class that wants to
parseable by <a class="reference internal" href="#module-translate.storage.placeables.parse" title="translate.storage.placeables.parse"><code class="xref py py-mod docutils literal notranslate"><span class="pre">translate.storage.placeables.parse</span></code></a>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>pstr</strong> (<em>unicode</em>) – The string to parse into an instance of this class.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">An instance of the current class, or <code class="docutils literal notranslate"><span class="pre">None</span></code> if the string
not parseable by this class.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.strelem.StringElem.print_tree">
<code class="descname">print_tree</code><span class="sig-paren">(</span><em>indent=0</em>, <em>verbose=False</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.strelem.StringElem.print_tree" title="Permalink to this definition">¶</a></dt>
<dd><p>Print the tree from the current instance’s point in an indented
manner.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.strelem.StringElem.prune">
<code class="descname">prune</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.strelem.StringElem.prune" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove unnecessary nodes to make the tree optimal.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.strelem.StringElem.remove_type">
<code class="descname">remove_type</code><span class="sig-paren">(</span><em>ptype</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.strelem.StringElem.remove_type" title="Permalink to this definition">¶</a></dt>
<dd><p>Replace nodes with type <code class="docutils literal notranslate"><span class="pre">ptype</span></code> with base <code class="docutils literal notranslate"><span class="pre">StringElem</span></code>s,
containing the same sub-elements. This is only applicable to elements
below the element tree root node.</p>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.placeables.strelem.StringElem.renderer">
<code class="descname">renderer</code><em class="property"> = None</em><a class="headerlink" href="#translate.storage.placeables.strelem.StringElem.renderer" title="Permalink to this definition">¶</a></dt>
<dd><p>An optional function that returns the Unicode representation of
the string.</p>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.placeables.strelem.StringElem.sub">
<code class="descname">sub</code><em class="property"> = []</em><a class="headerlink" href="#translate.storage.placeables.strelem.StringElem.sub" title="Permalink to this definition">¶</a></dt>
<dd><p>The sub-elements that make up this this string.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.strelem.StringElem.translate">
<code class="descname">translate</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.strelem.StringElem.translate" title="Permalink to this definition">¶</a></dt>
<dd><p>Transform the sub-tree according to some class-specific needs.  This
method should be either overridden in implementing sub-classes or
dynamically replaced by specific applications.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The transformed Unicode string representing the sub-tree.</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-translate.storage.placeables.terminology">
<span id="terminology"></span><h3>terminology<a class="headerlink" href="#module-translate.storage.placeables.terminology" title="Permalink to this headline">¶</a></h3>
<p>Contains the placeable that represents a terminology term.</p>
<dl class="class">
<dt id="translate.storage.placeables.terminology.TerminologyPlaceable">
<em class="property">class </em><code class="descclassname">translate.storage.placeables.terminology.</code><code class="descname">TerminologyPlaceable</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.terminology.TerminologyPlaceable" title="Permalink to this definition">¶</a></dt>
<dd><p>Terminology distinguished from the rest of a string by being
a placeable.</p>
<dl class="method">
<dt id="translate.storage.placeables.terminology.TerminologyPlaceable.apply_to_strings">
<code class="descname">apply_to_strings</code><span class="sig-paren">(</span><em>f</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.terminology.TerminologyPlaceable.apply_to_strings" title="Permalink to this definition">¶</a></dt>
<dd><p>Apply <code class="docutils literal notranslate"><span class="pre">f</span></code> to all actual strings in the tree.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>f</strong> – Must take one (str or unicode) argument and return a
string or unicode.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.terminology.TerminologyPlaceable.copy">
<code class="descname">copy</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.terminology.TerminologyPlaceable.copy" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a copy of the sub-tree.  This should be overridden in
sub-classes with more data.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last"><code class="docutils literal notranslate"><span class="pre">self.renderer</span></code> is <strong>not</strong> copied.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.terminology.TerminologyPlaceable.delete_range">
<code class="descname">delete_range</code><span class="sig-paren">(</span><em>start_index</em>, <em>end_index</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.terminology.TerminologyPlaceable.delete_range" title="Permalink to this definition">¶</a></dt>
<dd><p>Delete the text in the range given by the string-indexes
<code class="docutils literal notranslate"><span class="pre">start_index</span></code> and <code class="docutils literal notranslate"><span class="pre">end_index</span></code>.</p>
<p>Partial nodes will only be removed if they are editable.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">A <code class="docutils literal notranslate"><span class="pre">StringElem</span></code> representing the removed sub-string, the
parent node from which it was deleted as well as the offset
at which it was deleted from. <code class="docutils literal notranslate"><span class="pre">None</span></code> is returned for the
parent value if the root was deleted. If the parent and
offset values are not <code class="docutils literal notranslate"><span class="pre">None</span></code>, <code class="docutils literal notranslate"><span class="pre">parent.insert(offset,</span>
<span class="pre">deleted)</span></code> effectively undoes the delete.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.terminology.TerminologyPlaceable.depth_first">
<code class="descname">depth_first</code><span class="sig-paren">(</span><em>filter=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.terminology.TerminologyPlaceable.depth_first" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a list of the nodes in the tree in depth-first order.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.terminology.TerminologyPlaceable.elem_at_offset">
<code class="descname">elem_at_offset</code><span class="sig-paren">(</span><em>offset</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.terminology.TerminologyPlaceable.elem_at_offset" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the <code class="docutils literal notranslate"><span class="pre">StringElem</span></code> in the tree that contains the string rendered
at the given offset.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.terminology.TerminologyPlaceable.elem_offset">
<code class="descname">elem_offset</code><span class="sig-paren">(</span><em>elem</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.terminology.TerminologyPlaceable.elem_offset" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the offset of <code class="docutils literal notranslate"><span class="pre">elem</span></code> in the current tree.</p>
<p>This cannot be reliably used if <code class="docutils literal notranslate"><span class="pre">self.renderer</span></code> is used and even
less so if the rendering function renders the string differently
upon different calls. In Virtaal the <code class="docutils literal notranslate"><span class="pre">StringElemGUI.index()</span></code> method
is used as replacement for this one.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The string index where element <code class="docutils literal notranslate"><span class="pre">e</span></code> starts, or -1 if <code class="docutils literal notranslate"><span class="pre">e</span></code>
was not found.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.terminology.TerminologyPlaceable.encode">
<code class="descname">encode</code><span class="sig-paren">(</span><em>encoding='ascii'</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.terminology.TerminologyPlaceable.encode" title="Permalink to this definition">¶</a></dt>
<dd><p>More <code class="docutils literal notranslate"><span class="pre">unicode</span></code> class emulation.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.terminology.TerminologyPlaceable.find">
<code class="descname">find</code><span class="sig-paren">(</span><em>x</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.terminology.TerminologyPlaceable.find" title="Permalink to this definition">¶</a></dt>
<dd><p>Find sub-string <code class="docutils literal notranslate"><span class="pre">x</span></code> in this string tree and return the position at
which it starts.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.terminology.TerminologyPlaceable.find_elems_with">
<code class="descname">find_elems_with</code><span class="sig-paren">(</span><em>x</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.terminology.TerminologyPlaceable.find_elems_with" title="Permalink to this definition">¶</a></dt>
<dd><p>Find all elements in the current sub-tree containing <code class="docutils literal notranslate"><span class="pre">x</span></code>.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.terminology.TerminologyPlaceable.flatten">
<code class="descname">flatten</code><span class="sig-paren">(</span><em>filter=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.terminology.TerminologyPlaceable.flatten" title="Permalink to this definition">¶</a></dt>
<dd><p>Flatten the tree by returning a depth-first search over the tree’s
leaves.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.terminology.TerminologyPlaceable.get_index_data">
<code class="descname">get_index_data</code><span class="sig-paren">(</span><em>index</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.terminology.TerminologyPlaceable.get_index_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Get info about the specified range in the tree.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">A dictionary with the following items:<ul class="simple">
<li><em>elem</em>: The element in which <code class="docutils literal notranslate"><span class="pre">index</span></code> resides.</li>
<li><em>index</em>: Copy of the <code class="docutils literal notranslate"><span class="pre">index</span></code> parameter</li>
<li><em>offset</em>: The offset of <code class="docutils literal notranslate"><span class="pre">index</span></code> into <code class="docutils literal notranslate"><span class="pre">'elem'</span></code>.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.terminology.TerminologyPlaceable.get_parent_elem">
<code class="descname">get_parent_elem</code><span class="sig-paren">(</span><em>child</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.terminology.TerminologyPlaceable.get_parent_elem" title="Permalink to this definition">¶</a></dt>
<dd><p>Searches the current sub-tree for and returns the parent of the
<code class="docutils literal notranslate"><span class="pre">child</span></code> element.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.terminology.TerminologyPlaceable.insert">
<code class="descname">insert</code><span class="sig-paren">(</span><em>offset</em>, <em>text</em>, <em>preferred_parent=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.terminology.TerminologyPlaceable.insert" title="Permalink to this definition">¶</a></dt>
<dd><p>Insert the given text at the specified offset of this string-tree’s
string (Unicode) representation.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.terminology.TerminologyPlaceable.insert_between">
<code class="descname">insert_between</code><span class="sig-paren">(</span><em>left</em>, <em>right</em>, <em>text</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.terminology.TerminologyPlaceable.insert_between" title="Permalink to this definition">¶</a></dt>
<dd><p>Insert the given text between the two parameter <code class="docutils literal notranslate"><span class="pre">StringElem</span></code>s.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.terminology.TerminologyPlaceable.isleaf">
<code class="descname">isleaf</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.terminology.TerminologyPlaceable.isleaf" title="Permalink to this definition">¶</a></dt>
<dd><p>Whether or not this instance is a leaf node in the <code class="docutils literal notranslate"><span class="pre">StringElem</span></code> tree.</p>
<p>A node is a leaf node if it is a <code class="docutils literal notranslate"><span class="pre">StringElem</span></code> (not a sub-class) and
contains only sub-elements of type <code class="docutils literal notranslate"><span class="pre">str</span></code> or <code class="docutils literal notranslate"><span class="pre">unicode</span></code>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/2.7/library/functions.html#bool" title="(in Python v2.7)">bool</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.terminology.TerminologyPlaceable.iter_depth_first">
<code class="descname">iter_depth_first</code><span class="sig-paren">(</span><em>filter=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.terminology.TerminologyPlaceable.iter_depth_first" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterate through the nodes in the tree in dept-first order.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.terminology.TerminologyPlaceable.map">
<code class="descname">map</code><span class="sig-paren">(</span><em>f</em>, <em>filter=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.terminology.TerminologyPlaceable.map" title="Permalink to this definition">¶</a></dt>
<dd><p>Apply <code class="docutils literal notranslate"><span class="pre">f</span></code> to all nodes for which <code class="docutils literal notranslate"><span class="pre">filter</span></code> returned <code class="docutils literal notranslate"><span class="pre">True</span></code>
(optional).</p>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.placeables.terminology.TerminologyPlaceable.matchers">
<code class="descname">matchers</code><em class="property"> = []</em><a class="headerlink" href="#translate.storage.placeables.terminology.TerminologyPlaceable.matchers" title="Permalink to this definition">¶</a></dt>
<dd><p>A list of matcher objects to use to identify terminology.</p>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.placeables.terminology.TerminologyPlaceable.parse">
<em class="property">classmethod </em><code class="descname">parse</code><span class="sig-paren">(</span><em>pstr</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.terminology.TerminologyPlaceable.parse" title="Permalink to this definition">¶</a></dt>
<dd><p>Parse an instance of this class from the start of the given string.
This method should be implemented by any sub-class that wants to
parseable by <a class="reference internal" href="#module-translate.storage.placeables.parse" title="translate.storage.placeables.parse"><code class="xref py py-mod docutils literal notranslate"><span class="pre">translate.storage.placeables.parse</span></code></a>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>pstr</strong> (<em>unicode</em>) – The string to parse into an instance of this class.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">An instance of the current class, or <code class="docutils literal notranslate"><span class="pre">None</span></code> if the string
not parseable by this class.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.terminology.TerminologyPlaceable.print_tree">
<code class="descname">print_tree</code><span class="sig-paren">(</span><em>indent=0</em>, <em>verbose=False</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.terminology.TerminologyPlaceable.print_tree" title="Permalink to this definition">¶</a></dt>
<dd><p>Print the tree from the current instance’s point in an indented
manner.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.terminology.TerminologyPlaceable.prune">
<code class="descname">prune</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.terminology.TerminologyPlaceable.prune" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove unnecessary nodes to make the tree optimal.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.terminology.TerminologyPlaceable.remove_type">
<code class="descname">remove_type</code><span class="sig-paren">(</span><em>ptype</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.terminology.TerminologyPlaceable.remove_type" title="Permalink to this definition">¶</a></dt>
<dd><p>Replace nodes with type <code class="docutils literal notranslate"><span class="pre">ptype</span></code> with base <code class="docutils literal notranslate"><span class="pre">StringElem</span></code>s,
containing the same sub-elements. This is only applicable to elements
below the element tree root node.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.terminology.TerminologyPlaceable.translate">
<code class="descname">translate</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.terminology.TerminologyPlaceable.translate" title="Permalink to this definition">¶</a></dt>
<dd><p>Transform the sub-tree according to some class-specific needs.  This
method should be either overridden in implementing sub-classes or
dynamically replaced by specific applications.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The transformed Unicode string representing the sub-tree.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.placeables.terminology.TerminologyPlaceable.translations">
<code class="descname">translations</code><em class="property"> = []</em><a class="headerlink" href="#translate.storage.placeables.terminology.TerminologyPlaceable.translations" title="Permalink to this definition">¶</a></dt>
<dd><p>The available translations for this placeable.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="id4">
<h3>xliff<a class="headerlink" href="#id4" title="Permalink to this headline">¶</a></h3>
<span class="target" id="module-translate.storage.placeables.xliff"></span><p>Contains XLIFF-specific placeables.</p>
<dl class="class">
<dt id="translate.storage.placeables.xliff.Bpt">
<em class="property">class </em><code class="descclassname">translate.storage.placeables.xliff.</code><code class="descname">Bpt</code><span class="sig-paren">(</span><em>sub=None</em>, <em>id=None</em>, <em>rid=None</em>, <em>xid=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.xliff.Bpt" title="Permalink to this definition">¶</a></dt>
<dd><dl class="method">
<dt id="translate.storage.placeables.xliff.Bpt.apply_to_strings">
<code class="descname">apply_to_strings</code><span class="sig-paren">(</span><em>f</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.xliff.Bpt.apply_to_strings" title="Permalink to this definition">¶</a></dt>
<dd><p>Apply <code class="docutils literal notranslate"><span class="pre">f</span></code> to all actual strings in the tree.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>f</strong> – Must take one (str or unicode) argument and return a
string or unicode.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.xliff.Bpt.copy">
<code class="descname">copy</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.xliff.Bpt.copy" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a copy of the sub-tree.  This should be overridden in
sub-classes with more data.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last"><code class="docutils literal notranslate"><span class="pre">self.renderer</span></code> is <strong>not</strong> copied.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.xliff.Bpt.delete_range">
<code class="descname">delete_range</code><span class="sig-paren">(</span><em>start_index</em>, <em>end_index</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.xliff.Bpt.delete_range" title="Permalink to this definition">¶</a></dt>
<dd><p>Delete the text in the range given by the string-indexes
<code class="docutils literal notranslate"><span class="pre">start_index</span></code> and <code class="docutils literal notranslate"><span class="pre">end_index</span></code>.</p>
<p>Partial nodes will only be removed if they are editable.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">A <code class="docutils literal notranslate"><span class="pre">StringElem</span></code> representing the removed sub-string, the
parent node from which it was deleted as well as the offset
at which it was deleted from. <code class="docutils literal notranslate"><span class="pre">None</span></code> is returned for the
parent value if the root was deleted. If the parent and
offset values are not <code class="docutils literal notranslate"><span class="pre">None</span></code>, <code class="docutils literal notranslate"><span class="pre">parent.insert(offset,</span>
<span class="pre">deleted)</span></code> effectively undoes the delete.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.xliff.Bpt.depth_first">
<code class="descname">depth_first</code><span class="sig-paren">(</span><em>filter=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.xliff.Bpt.depth_first" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a list of the nodes in the tree in depth-first order.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.xliff.Bpt.elem_at_offset">
<code class="descname">elem_at_offset</code><span class="sig-paren">(</span><em>offset</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.xliff.Bpt.elem_at_offset" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the <code class="docutils literal notranslate"><span class="pre">StringElem</span></code> in the tree that contains the string rendered
at the given offset.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.xliff.Bpt.elem_offset">
<code class="descname">elem_offset</code><span class="sig-paren">(</span><em>elem</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.xliff.Bpt.elem_offset" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the offset of <code class="docutils literal notranslate"><span class="pre">elem</span></code> in the current tree.</p>
<p>This cannot be reliably used if <code class="docutils literal notranslate"><span class="pre">self.renderer</span></code> is used and even
less so if the rendering function renders the string differently
upon different calls. In Virtaal the <code class="docutils literal notranslate"><span class="pre">StringElemGUI.index()</span></code> method
is used as replacement for this one.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The string index where element <code class="docutils literal notranslate"><span class="pre">e</span></code> starts, or -1 if <code class="docutils literal notranslate"><span class="pre">e</span></code>
was not found.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.xliff.Bpt.encode">
<code class="descname">encode</code><span class="sig-paren">(</span><em>encoding='ascii'</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.xliff.Bpt.encode" title="Permalink to this definition">¶</a></dt>
<dd><p>More <code class="docutils literal notranslate"><span class="pre">unicode</span></code> class emulation.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.xliff.Bpt.find">
<code class="descname">find</code><span class="sig-paren">(</span><em>x</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.xliff.Bpt.find" title="Permalink to this definition">¶</a></dt>
<dd><p>Find sub-string <code class="docutils literal notranslate"><span class="pre">x</span></code> in this string tree and return the position at
which it starts.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.xliff.Bpt.find_elems_with">
<code class="descname">find_elems_with</code><span class="sig-paren">(</span><em>x</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.xliff.Bpt.find_elems_with" title="Permalink to this definition">¶</a></dt>
<dd><p>Find all elements in the current sub-tree containing <code class="docutils literal notranslate"><span class="pre">x</span></code>.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.xliff.Bpt.flatten">
<code class="descname">flatten</code><span class="sig-paren">(</span><em>filter=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.xliff.Bpt.flatten" title="Permalink to this definition">¶</a></dt>
<dd><p>Flatten the tree by returning a depth-first search over the tree’s
leaves.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.xliff.Bpt.get_index_data">
<code class="descname">get_index_data</code><span class="sig-paren">(</span><em>index</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.xliff.Bpt.get_index_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Get info about the specified range in the tree.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">A dictionary with the following items:<ul class="simple">
<li><em>elem</em>: The element in which <code class="docutils literal notranslate"><span class="pre">index</span></code> resides.</li>
<li><em>index</em>: Copy of the <code class="docutils literal notranslate"><span class="pre">index</span></code> parameter</li>
<li><em>offset</em>: The offset of <code class="docutils literal notranslate"><span class="pre">index</span></code> into <code class="docutils literal notranslate"><span class="pre">'elem'</span></code>.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.xliff.Bpt.get_parent_elem">
<code class="descname">get_parent_elem</code><span class="sig-paren">(</span><em>child</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.xliff.Bpt.get_parent_elem" title="Permalink to this definition">¶</a></dt>
<dd><p>Searches the current sub-tree for and returns the parent of the
<code class="docutils literal notranslate"><span class="pre">child</span></code> element.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.xliff.Bpt.insert">
<code class="descname">insert</code><span class="sig-paren">(</span><em>offset</em>, <em>text</em>, <em>preferred_parent=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.xliff.Bpt.insert" title="Permalink to this definition">¶</a></dt>
<dd><p>Insert the given text at the specified offset of this string-tree’s
string (Unicode) representation.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.xliff.Bpt.insert_between">
<code class="descname">insert_between</code><span class="sig-paren">(</span><em>left</em>, <em>right</em>, <em>text</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.xliff.Bpt.insert_between" title="Permalink to this definition">¶</a></dt>
<dd><p>Insert the given text between the two parameter <code class="docutils literal notranslate"><span class="pre">StringElem</span></code>s.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.xliff.Bpt.isleaf">
<code class="descname">isleaf</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.xliff.Bpt.isleaf" title="Permalink to this definition">¶</a></dt>
<dd><p>Whether or not this instance is a leaf node in the <code class="docutils literal notranslate"><span class="pre">StringElem</span></code> tree.</p>
<p>A node is a leaf node if it is a <code class="docutils literal notranslate"><span class="pre">StringElem</span></code> (not a sub-class) and
contains only sub-elements of type <code class="docutils literal notranslate"><span class="pre">str</span></code> or <code class="docutils literal notranslate"><span class="pre">unicode</span></code>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/2.7/library/functions.html#bool" title="(in Python v2.7)">bool</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.xliff.Bpt.iter_depth_first">
<code class="descname">iter_depth_first</code><span class="sig-paren">(</span><em>filter=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.xliff.Bpt.iter_depth_first" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterate through the nodes in the tree in dept-first order.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.xliff.Bpt.map">
<code class="descname">map</code><span class="sig-paren">(</span><em>f</em>, <em>filter=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.xliff.Bpt.map" title="Permalink to this definition">¶</a></dt>
<dd><p>Apply <code class="docutils literal notranslate"><span class="pre">f</span></code> to all nodes for which <code class="docutils literal notranslate"><span class="pre">filter</span></code> returned <code class="docutils literal notranslate"><span class="pre">True</span></code>
(optional).</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.xliff.Bpt.print_tree">
<code class="descname">print_tree</code><span class="sig-paren">(</span><em>indent=0</em>, <em>verbose=False</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.xliff.Bpt.print_tree" title="Permalink to this definition">¶</a></dt>
<dd><p>Print the tree from the current instance’s point in an indented
manner.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.xliff.Bpt.prune">
<code class="descname">prune</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.xliff.Bpt.prune" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove unnecessary nodes to make the tree optimal.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.xliff.Bpt.remove_type">
<code class="descname">remove_type</code><span class="sig-paren">(</span><em>ptype</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.xliff.Bpt.remove_type" title="Permalink to this definition">¶</a></dt>
<dd><p>Replace nodes with type <code class="docutils literal notranslate"><span class="pre">ptype</span></code> with base <code class="docutils literal notranslate"><span class="pre">StringElem</span></code>s,
containing the same sub-elements. This is only applicable to elements
below the element tree root node.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.xliff.Bpt.translate">
<code class="descname">translate</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.xliff.Bpt.translate" title="Permalink to this definition">¶</a></dt>
<dd><p>Transform the sub-tree according to some class-specific needs.  This
method should be either overridden in implementing sub-classes or
dynamically replaced by specific applications.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The transformed Unicode string representing the sub-tree.</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="translate.storage.placeables.xliff.Ept">
<em class="property">class </em><code class="descclassname">translate.storage.placeables.xliff.</code><code class="descname">Ept</code><span class="sig-paren">(</span><em>sub=None</em>, <em>id=None</em>, <em>rid=None</em>, <em>xid=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.xliff.Ept" title="Permalink to this definition">¶</a></dt>
<dd><dl class="method">
<dt id="translate.storage.placeables.xliff.Ept.apply_to_strings">
<code class="descname">apply_to_strings</code><span class="sig-paren">(</span><em>f</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.xliff.Ept.apply_to_strings" title="Permalink to this definition">¶</a></dt>
<dd><p>Apply <code class="docutils literal notranslate"><span class="pre">f</span></code> to all actual strings in the tree.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>f</strong> – Must take one (str or unicode) argument and return a
string or unicode.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.xliff.Ept.copy">
<code class="descname">copy</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.xliff.Ept.copy" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a copy of the sub-tree.  This should be overridden in
sub-classes with more data.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last"><code class="docutils literal notranslate"><span class="pre">self.renderer</span></code> is <strong>not</strong> copied.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.xliff.Ept.delete_range">
<code class="descname">delete_range</code><span class="sig-paren">(</span><em>start_index</em>, <em>end_index</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.xliff.Ept.delete_range" title="Permalink to this definition">¶</a></dt>
<dd><p>Delete the text in the range given by the string-indexes
<code class="docutils literal notranslate"><span class="pre">start_index</span></code> and <code class="docutils literal notranslate"><span class="pre">end_index</span></code>.</p>
<p>Partial nodes will only be removed if they are editable.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">A <code class="docutils literal notranslate"><span class="pre">StringElem</span></code> representing the removed sub-string, the
parent node from which it was deleted as well as the offset
at which it was deleted from. <code class="docutils literal notranslate"><span class="pre">None</span></code> is returned for the
parent value if the root was deleted. If the parent and
offset values are not <code class="docutils literal notranslate"><span class="pre">None</span></code>, <code class="docutils literal notranslate"><span class="pre">parent.insert(offset,</span>
<span class="pre">deleted)</span></code> effectively undoes the delete.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.xliff.Ept.depth_first">
<code class="descname">depth_first</code><span class="sig-paren">(</span><em>filter=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.xliff.Ept.depth_first" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a list of the nodes in the tree in depth-first order.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.xliff.Ept.elem_at_offset">
<code class="descname">elem_at_offset</code><span class="sig-paren">(</span><em>offset</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.xliff.Ept.elem_at_offset" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the <code class="docutils literal notranslate"><span class="pre">StringElem</span></code> in the tree that contains the string rendered
at the given offset.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.xliff.Ept.elem_offset">
<code class="descname">elem_offset</code><span class="sig-paren">(</span><em>elem</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.xliff.Ept.elem_offset" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the offset of <code class="docutils literal notranslate"><span class="pre">elem</span></code> in the current tree.</p>
<p>This cannot be reliably used if <code class="docutils literal notranslate"><span class="pre">self.renderer</span></code> is used and even
less so if the rendering function renders the string differently
upon different calls. In Virtaal the <code class="docutils literal notranslate"><span class="pre">StringElemGUI.index()</span></code> method
is used as replacement for this one.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The string index where element <code class="docutils literal notranslate"><span class="pre">e</span></code> starts, or -1 if <code class="docutils literal notranslate"><span class="pre">e</span></code>
was not found.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.xliff.Ept.encode">
<code class="descname">encode</code><span class="sig-paren">(</span><em>encoding='ascii'</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.xliff.Ept.encode" title="Permalink to this definition">¶</a></dt>
<dd><p>More <code class="docutils literal notranslate"><span class="pre">unicode</span></code> class emulation.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.xliff.Ept.find">
<code class="descname">find</code><span class="sig-paren">(</span><em>x</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.xliff.Ept.find" title="Permalink to this definition">¶</a></dt>
<dd><p>Find sub-string <code class="docutils literal notranslate"><span class="pre">x</span></code> in this string tree and return the position at
which it starts.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.xliff.Ept.find_elems_with">
<code class="descname">find_elems_with</code><span class="sig-paren">(</span><em>x</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.xliff.Ept.find_elems_with" title="Permalink to this definition">¶</a></dt>
<dd><p>Find all elements in the current sub-tree containing <code class="docutils literal notranslate"><span class="pre">x</span></code>.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.xliff.Ept.flatten">
<code class="descname">flatten</code><span class="sig-paren">(</span><em>filter=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.xliff.Ept.flatten" title="Permalink to this definition">¶</a></dt>
<dd><p>Flatten the tree by returning a depth-first search over the tree’s
leaves.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.xliff.Ept.get_index_data">
<code class="descname">get_index_data</code><span class="sig-paren">(</span><em>index</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.xliff.Ept.get_index_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Get info about the specified range in the tree.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">A dictionary with the following items:<ul class="simple">
<li><em>elem</em>: The element in which <code class="docutils literal notranslate"><span class="pre">index</span></code> resides.</li>
<li><em>index</em>: Copy of the <code class="docutils literal notranslate"><span class="pre">index</span></code> parameter</li>
<li><em>offset</em>: The offset of <code class="docutils literal notranslate"><span class="pre">index</span></code> into <code class="docutils literal notranslate"><span class="pre">'elem'</span></code>.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.xliff.Ept.get_parent_elem">
<code class="descname">get_parent_elem</code><span class="sig-paren">(</span><em>child</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.xliff.Ept.get_parent_elem" title="Permalink to this definition">¶</a></dt>
<dd><p>Searches the current sub-tree for and returns the parent of the
<code class="docutils literal notranslate"><span class="pre">child</span></code> element.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.xliff.Ept.insert">
<code class="descname">insert</code><span class="sig-paren">(</span><em>offset</em>, <em>text</em>, <em>preferred_parent=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.xliff.Ept.insert" title="Permalink to this definition">¶</a></dt>
<dd><p>Insert the given text at the specified offset of this string-tree’s
string (Unicode) representation.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.xliff.Ept.insert_between">
<code class="descname">insert_between</code><span class="sig-paren">(</span><em>left</em>, <em>right</em>, <em>text</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.xliff.Ept.insert_between" title="Permalink to this definition">¶</a></dt>
<dd><p>Insert the given text between the two parameter <code class="docutils literal notranslate"><span class="pre">StringElem</span></code>s.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.xliff.Ept.isleaf">
<code class="descname">isleaf</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.xliff.Ept.isleaf" title="Permalink to this definition">¶</a></dt>
<dd><p>Whether or not this instance is a leaf node in the <code class="docutils literal notranslate"><span class="pre">StringElem</span></code> tree.</p>
<p>A node is a leaf node if it is a <code class="docutils literal notranslate"><span class="pre">StringElem</span></code> (not a sub-class) and
contains only sub-elements of type <code class="docutils literal notranslate"><span class="pre">str</span></code> or <code class="docutils literal notranslate"><span class="pre">unicode</span></code>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/2.7/library/functions.html#bool" title="(in Python v2.7)">bool</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.xliff.Ept.iter_depth_first">
<code class="descname">iter_depth_first</code><span class="sig-paren">(</span><em>filter=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.xliff.Ept.iter_depth_first" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterate through the nodes in the tree in dept-first order.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.xliff.Ept.map">
<code class="descname">map</code><span class="sig-paren">(</span><em>f</em>, <em>filter=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.xliff.Ept.map" title="Permalink to this definition">¶</a></dt>
<dd><p>Apply <code class="docutils literal notranslate"><span class="pre">f</span></code> to all nodes for which <code class="docutils literal notranslate"><span class="pre">filter</span></code> returned <code class="docutils literal notranslate"><span class="pre">True</span></code>
(optional).</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.xliff.Ept.print_tree">
<code class="descname">print_tree</code><span class="sig-paren">(</span><em>indent=0</em>, <em>verbose=False</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.xliff.Ept.print_tree" title="Permalink to this definition">¶</a></dt>
<dd><p>Print the tree from the current instance’s point in an indented
manner.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.xliff.Ept.prune">
<code class="descname">prune</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.xliff.Ept.prune" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove unnecessary nodes to make the tree optimal.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.xliff.Ept.remove_type">
<code class="descname">remove_type</code><span class="sig-paren">(</span><em>ptype</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.xliff.Ept.remove_type" title="Permalink to this definition">¶</a></dt>
<dd><p>Replace nodes with type <code class="docutils literal notranslate"><span class="pre">ptype</span></code> with base <code class="docutils literal notranslate"><span class="pre">StringElem</span></code>s,
containing the same sub-elements. This is only applicable to elements
below the element tree root node.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.xliff.Ept.translate">
<code class="descname">translate</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.xliff.Ept.translate" title="Permalink to this definition">¶</a></dt>
<dd><p>Transform the sub-tree according to some class-specific needs.  This
method should be either overridden in implementing sub-classes or
dynamically replaced by specific applications.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The transformed Unicode string representing the sub-tree.</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="translate.storage.placeables.xliff.X">
<em class="property">class </em><code class="descclassname">translate.storage.placeables.xliff.</code><code class="descname">X</code><span class="sig-paren">(</span><em>id=None</em>, <em>xid=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.xliff.X" title="Permalink to this definition">¶</a></dt>
<dd><dl class="method">
<dt id="translate.storage.placeables.xliff.X.apply_to_strings">
<code class="descname">apply_to_strings</code><span class="sig-paren">(</span><em>f</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.xliff.X.apply_to_strings" title="Permalink to this definition">¶</a></dt>
<dd><p>Apply <code class="docutils literal notranslate"><span class="pre">f</span></code> to all actual strings in the tree.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>f</strong> – Must take one (str or unicode) argument and return a
string or unicode.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.xliff.X.copy">
<code class="descname">copy</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.xliff.X.copy" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a copy of the sub-tree.  This should be overridden in
sub-classes with more data.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last"><code class="docutils literal notranslate"><span class="pre">self.renderer</span></code> is <strong>not</strong> copied.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.xliff.X.delete_range">
<code class="descname">delete_range</code><span class="sig-paren">(</span><em>start_index</em>, <em>end_index</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.xliff.X.delete_range" title="Permalink to this definition">¶</a></dt>
<dd><p>Delete the text in the range given by the string-indexes
<code class="docutils literal notranslate"><span class="pre">start_index</span></code> and <code class="docutils literal notranslate"><span class="pre">end_index</span></code>.</p>
<p>Partial nodes will only be removed if they are editable.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">A <code class="docutils literal notranslate"><span class="pre">StringElem</span></code> representing the removed sub-string, the
parent node from which it was deleted as well as the offset
at which it was deleted from. <code class="docutils literal notranslate"><span class="pre">None</span></code> is returned for the
parent value if the root was deleted. If the parent and
offset values are not <code class="docutils literal notranslate"><span class="pre">None</span></code>, <code class="docutils literal notranslate"><span class="pre">parent.insert(offset,</span>
<span class="pre">deleted)</span></code> effectively undoes the delete.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.xliff.X.depth_first">
<code class="descname">depth_first</code><span class="sig-paren">(</span><em>filter=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.xliff.X.depth_first" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a list of the nodes in the tree in depth-first order.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.xliff.X.elem_at_offset">
<code class="descname">elem_at_offset</code><span class="sig-paren">(</span><em>offset</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.xliff.X.elem_at_offset" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the <code class="docutils literal notranslate"><span class="pre">StringElem</span></code> in the tree that contains the string rendered
at the given offset.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.xliff.X.elem_offset">
<code class="descname">elem_offset</code><span class="sig-paren">(</span><em>elem</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.xliff.X.elem_offset" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the offset of <code class="docutils literal notranslate"><span class="pre">elem</span></code> in the current tree.</p>
<p>This cannot be reliably used if <code class="docutils literal notranslate"><span class="pre">self.renderer</span></code> is used and even
less so if the rendering function renders the string differently
upon different calls. In Virtaal the <code class="docutils literal notranslate"><span class="pre">StringElemGUI.index()</span></code> method
is used as replacement for this one.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The string index where element <code class="docutils literal notranslate"><span class="pre">e</span></code> starts, or -1 if <code class="docutils literal notranslate"><span class="pre">e</span></code>
was not found.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.xliff.X.encode">
<code class="descname">encode</code><span class="sig-paren">(</span><em>encoding='ascii'</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.xliff.X.encode" title="Permalink to this definition">¶</a></dt>
<dd><p>More <code class="docutils literal notranslate"><span class="pre">unicode</span></code> class emulation.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.xliff.X.find">
<code class="descname">find</code><span class="sig-paren">(</span><em>x</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.xliff.X.find" title="Permalink to this definition">¶</a></dt>
<dd><p>Find sub-string <code class="docutils literal notranslate"><span class="pre">x</span></code> in this string tree and return the position at
which it starts.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.xliff.X.find_elems_with">
<code class="descname">find_elems_with</code><span class="sig-paren">(</span><em>x</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.xliff.X.find_elems_with" title="Permalink to this definition">¶</a></dt>
<dd><p>Find all elements in the current sub-tree containing <code class="docutils literal notranslate"><span class="pre">x</span></code>.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.xliff.X.flatten">
<code class="descname">flatten</code><span class="sig-paren">(</span><em>filter=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.xliff.X.flatten" title="Permalink to this definition">¶</a></dt>
<dd><p>Flatten the tree by returning a depth-first search over the tree’s
leaves.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.xliff.X.get_index_data">
<code class="descname">get_index_data</code><span class="sig-paren">(</span><em>index</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.xliff.X.get_index_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Get info about the specified range in the tree.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">A dictionary with the following items:<ul class="simple">
<li><em>elem</em>: The element in which <code class="docutils literal notranslate"><span class="pre">index</span></code> resides.</li>
<li><em>index</em>: Copy of the <code class="docutils literal notranslate"><span class="pre">index</span></code> parameter</li>
<li><em>offset</em>: The offset of <code class="docutils literal notranslate"><span class="pre">index</span></code> into <code class="docutils literal notranslate"><span class="pre">'elem'</span></code>.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.xliff.X.get_parent_elem">
<code class="descname">get_parent_elem</code><span class="sig-paren">(</span><em>child</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.xliff.X.get_parent_elem" title="Permalink to this definition">¶</a></dt>
<dd><p>Searches the current sub-tree for and returns the parent of the
<code class="docutils literal notranslate"><span class="pre">child</span></code> element.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.xliff.X.insert">
<code class="descname">insert</code><span class="sig-paren">(</span><em>offset</em>, <em>text</em>, <em>preferred_parent=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.xliff.X.insert" title="Permalink to this definition">¶</a></dt>
<dd><p>Insert the given text at the specified offset of this string-tree’s
string (Unicode) representation.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.xliff.X.insert_between">
<code class="descname">insert_between</code><span class="sig-paren">(</span><em>left</em>, <em>right</em>, <em>text</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.xliff.X.insert_between" title="Permalink to this definition">¶</a></dt>
<dd><p>Insert the given text between the two parameter <code class="docutils literal notranslate"><span class="pre">StringElem</span></code>s.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.xliff.X.isleaf">
<code class="descname">isleaf</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.xliff.X.isleaf" title="Permalink to this definition">¶</a></dt>
<dd><p>Whether or not this instance is a leaf node in the <code class="docutils literal notranslate"><span class="pre">StringElem</span></code> tree.</p>
<p>A node is a leaf node if it is a <code class="docutils literal notranslate"><span class="pre">StringElem</span></code> (not a sub-class) and
contains only sub-elements of type <code class="docutils literal notranslate"><span class="pre">str</span></code> or <code class="docutils literal notranslate"><span class="pre">unicode</span></code>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/2.7/library/functions.html#bool" title="(in Python v2.7)">bool</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.xliff.X.iter_depth_first">
<code class="descname">iter_depth_first</code><span class="sig-paren">(</span><em>filter=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.xliff.X.iter_depth_first" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterate through the nodes in the tree in dept-first order.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.xliff.X.map">
<code class="descname">map</code><span class="sig-paren">(</span><em>f</em>, <em>filter=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.xliff.X.map" title="Permalink to this definition">¶</a></dt>
<dd><p>Apply <code class="docutils literal notranslate"><span class="pre">f</span></code> to all nodes for which <code class="docutils literal notranslate"><span class="pre">filter</span></code> returned <code class="docutils literal notranslate"><span class="pre">True</span></code>
(optional).</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.xliff.X.print_tree">
<code class="descname">print_tree</code><span class="sig-paren">(</span><em>indent=0</em>, <em>verbose=False</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.xliff.X.print_tree" title="Permalink to this definition">¶</a></dt>
<dd><p>Print the tree from the current instance’s point in an indented
manner.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.xliff.X.prune">
<code class="descname">prune</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.xliff.X.prune" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove unnecessary nodes to make the tree optimal.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.xliff.X.remove_type">
<code class="descname">remove_type</code><span class="sig-paren">(</span><em>ptype</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.xliff.X.remove_type" title="Permalink to this definition">¶</a></dt>
<dd><p>Replace nodes with type <code class="docutils literal notranslate"><span class="pre">ptype</span></code> with base <code class="docutils literal notranslate"><span class="pre">StringElem</span></code>s,
containing the same sub-elements. This is only applicable to elements
below the element tree root node.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.xliff.X.translate">
<code class="descname">translate</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.xliff.X.translate" title="Permalink to this definition">¶</a></dt>
<dd><p>Transform the sub-tree according to some class-specific needs.  This
method should be either overridden in implementing sub-classes or
dynamically replaced by specific applications.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The transformed Unicode string representing the sub-tree.</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="translate.storage.placeables.xliff.Bx">
<em class="property">class </em><code class="descclassname">translate.storage.placeables.xliff.</code><code class="descname">Bx</code><span class="sig-paren">(</span><em>id=None</em>, <em>xid=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.xliff.Bx" title="Permalink to this definition">¶</a></dt>
<dd><dl class="method">
<dt id="translate.storage.placeables.xliff.Bx.apply_to_strings">
<code class="descname">apply_to_strings</code><span class="sig-paren">(</span><em>f</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.xliff.Bx.apply_to_strings" title="Permalink to this definition">¶</a></dt>
<dd><p>Apply <code class="docutils literal notranslate"><span class="pre">f</span></code> to all actual strings in the tree.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>f</strong> – Must take one (str or unicode) argument and return a
string or unicode.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.xliff.Bx.copy">
<code class="descname">copy</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.xliff.Bx.copy" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a copy of the sub-tree.  This should be overridden in
sub-classes with more data.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last"><code class="docutils literal notranslate"><span class="pre">self.renderer</span></code> is <strong>not</strong> copied.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.xliff.Bx.delete_range">
<code class="descname">delete_range</code><span class="sig-paren">(</span><em>start_index</em>, <em>end_index</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.xliff.Bx.delete_range" title="Permalink to this definition">¶</a></dt>
<dd><p>Delete the text in the range given by the string-indexes
<code class="docutils literal notranslate"><span class="pre">start_index</span></code> and <code class="docutils literal notranslate"><span class="pre">end_index</span></code>.</p>
<p>Partial nodes will only be removed if they are editable.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">A <code class="docutils literal notranslate"><span class="pre">StringElem</span></code> representing the removed sub-string, the
parent node from which it was deleted as well as the offset
at which it was deleted from. <code class="docutils literal notranslate"><span class="pre">None</span></code> is returned for the
parent value if the root was deleted. If the parent and
offset values are not <code class="docutils literal notranslate"><span class="pre">None</span></code>, <code class="docutils literal notranslate"><span class="pre">parent.insert(offset,</span>
<span class="pre">deleted)</span></code> effectively undoes the delete.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.xliff.Bx.depth_first">
<code class="descname">depth_first</code><span class="sig-paren">(</span><em>filter=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.xliff.Bx.depth_first" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a list of the nodes in the tree in depth-first order.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.xliff.Bx.elem_at_offset">
<code class="descname">elem_at_offset</code><span class="sig-paren">(</span><em>offset</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.xliff.Bx.elem_at_offset" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the <code class="docutils literal notranslate"><span class="pre">StringElem</span></code> in the tree that contains the string rendered
at the given offset.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.xliff.Bx.elem_offset">
<code class="descname">elem_offset</code><span class="sig-paren">(</span><em>elem</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.xliff.Bx.elem_offset" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the offset of <code class="docutils literal notranslate"><span class="pre">elem</span></code> in the current tree.</p>
<p>This cannot be reliably used if <code class="docutils literal notranslate"><span class="pre">self.renderer</span></code> is used and even
less so if the rendering function renders the string differently
upon different calls. In Virtaal the <code class="docutils literal notranslate"><span class="pre">StringElemGUI.index()</span></code> method
is used as replacement for this one.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The string index where element <code class="docutils literal notranslate"><span class="pre">e</span></code> starts, or -1 if <code class="docutils literal notranslate"><span class="pre">e</span></code>
was not found.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.xliff.Bx.encode">
<code class="descname">encode</code><span class="sig-paren">(</span><em>encoding='ascii'</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.xliff.Bx.encode" title="Permalink to this definition">¶</a></dt>
<dd><p>More <code class="docutils literal notranslate"><span class="pre">unicode</span></code> class emulation.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.xliff.Bx.find">
<code class="descname">find</code><span class="sig-paren">(</span><em>x</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.xliff.Bx.find" title="Permalink to this definition">¶</a></dt>
<dd><p>Find sub-string <code class="docutils literal notranslate"><span class="pre">x</span></code> in this string tree and return the position at
which it starts.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.xliff.Bx.find_elems_with">
<code class="descname">find_elems_with</code><span class="sig-paren">(</span><em>x</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.xliff.Bx.find_elems_with" title="Permalink to this definition">¶</a></dt>
<dd><p>Find all elements in the current sub-tree containing <code class="docutils literal notranslate"><span class="pre">x</span></code>.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.xliff.Bx.flatten">
<code class="descname">flatten</code><span class="sig-paren">(</span><em>filter=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.xliff.Bx.flatten" title="Permalink to this definition">¶</a></dt>
<dd><p>Flatten the tree by returning a depth-first search over the tree’s
leaves.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.xliff.Bx.get_index_data">
<code class="descname">get_index_data</code><span class="sig-paren">(</span><em>index</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.xliff.Bx.get_index_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Get info about the specified range in the tree.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">A dictionary with the following items:<ul class="simple">
<li><em>elem</em>: The element in which <code class="docutils literal notranslate"><span class="pre">index</span></code> resides.</li>
<li><em>index</em>: Copy of the <code class="docutils literal notranslate"><span class="pre">index</span></code> parameter</li>
<li><em>offset</em>: The offset of <code class="docutils literal notranslate"><span class="pre">index</span></code> into <code class="docutils literal notranslate"><span class="pre">'elem'</span></code>.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.xliff.Bx.get_parent_elem">
<code class="descname">get_parent_elem</code><span class="sig-paren">(</span><em>child</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.xliff.Bx.get_parent_elem" title="Permalink to this definition">¶</a></dt>
<dd><p>Searches the current sub-tree for and returns the parent of the
<code class="docutils literal notranslate"><span class="pre">child</span></code> element.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.xliff.Bx.insert">
<code class="descname">insert</code><span class="sig-paren">(</span><em>offset</em>, <em>text</em>, <em>preferred_parent=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.xliff.Bx.insert" title="Permalink to this definition">¶</a></dt>
<dd><p>Insert the given text at the specified offset of this string-tree’s
string (Unicode) representation.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.xliff.Bx.insert_between">
<code class="descname">insert_between</code><span class="sig-paren">(</span><em>left</em>, <em>right</em>, <em>text</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.xliff.Bx.insert_between" title="Permalink to this definition">¶</a></dt>
<dd><p>Insert the given text between the two parameter <code class="docutils literal notranslate"><span class="pre">StringElem</span></code>s.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.xliff.Bx.isleaf">
<code class="descname">isleaf</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.xliff.Bx.isleaf" title="Permalink to this definition">¶</a></dt>
<dd><p>Whether or not this instance is a leaf node in the <code class="docutils literal notranslate"><span class="pre">StringElem</span></code> tree.</p>
<p>A node is a leaf node if it is a <code class="docutils literal notranslate"><span class="pre">StringElem</span></code> (not a sub-class) and
contains only sub-elements of type <code class="docutils literal notranslate"><span class="pre">str</span></code> or <code class="docutils literal notranslate"><span class="pre">unicode</span></code>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/2.7/library/functions.html#bool" title="(in Python v2.7)">bool</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.xliff.Bx.iter_depth_first">
<code class="descname">iter_depth_first</code><span class="sig-paren">(</span><em>filter=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.xliff.Bx.iter_depth_first" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterate through the nodes in the tree in dept-first order.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.xliff.Bx.map">
<code class="descname">map</code><span class="sig-paren">(</span><em>f</em>, <em>filter=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.xliff.Bx.map" title="Permalink to this definition">¶</a></dt>
<dd><p>Apply <code class="docutils literal notranslate"><span class="pre">f</span></code> to all nodes for which <code class="docutils literal notranslate"><span class="pre">filter</span></code> returned <code class="docutils literal notranslate"><span class="pre">True</span></code>
(optional).</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.xliff.Bx.print_tree">
<code class="descname">print_tree</code><span class="sig-paren">(</span><em>indent=0</em>, <em>verbose=False</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.xliff.Bx.print_tree" title="Permalink to this definition">¶</a></dt>
<dd><p>Print the tree from the current instance’s point in an indented
manner.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.xliff.Bx.prune">
<code class="descname">prune</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.xliff.Bx.prune" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove unnecessary nodes to make the tree optimal.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.xliff.Bx.remove_type">
<code class="descname">remove_type</code><span class="sig-paren">(</span><em>ptype</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.xliff.Bx.remove_type" title="Permalink to this definition">¶</a></dt>
<dd><p>Replace nodes with type <code class="docutils literal notranslate"><span class="pre">ptype</span></code> with base <code class="docutils literal notranslate"><span class="pre">StringElem</span></code>s,
containing the same sub-elements. This is only applicable to elements
below the element tree root node.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.xliff.Bx.translate">
<code class="descname">translate</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.xliff.Bx.translate" title="Permalink to this definition">¶</a></dt>
<dd><p>Transform the sub-tree according to some class-specific needs.  This
method should be either overridden in implementing sub-classes or
dynamically replaced by specific applications.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The transformed Unicode string representing the sub-tree.</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="translate.storage.placeables.xliff.Ex">
<em class="property">class </em><code class="descclassname">translate.storage.placeables.xliff.</code><code class="descname">Ex</code><span class="sig-paren">(</span><em>id=None</em>, <em>xid=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.xliff.Ex" title="Permalink to this definition">¶</a></dt>
<dd><dl class="method">
<dt id="translate.storage.placeables.xliff.Ex.apply_to_strings">
<code class="descname">apply_to_strings</code><span class="sig-paren">(</span><em>f</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.xliff.Ex.apply_to_strings" title="Permalink to this definition">¶</a></dt>
<dd><p>Apply <code class="docutils literal notranslate"><span class="pre">f</span></code> to all actual strings in the tree.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>f</strong> – Must take one (str or unicode) argument and return a
string or unicode.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.xliff.Ex.copy">
<code class="descname">copy</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.xliff.Ex.copy" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a copy of the sub-tree.  This should be overridden in
sub-classes with more data.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last"><code class="docutils literal notranslate"><span class="pre">self.renderer</span></code> is <strong>not</strong> copied.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.xliff.Ex.delete_range">
<code class="descname">delete_range</code><span class="sig-paren">(</span><em>start_index</em>, <em>end_index</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.xliff.Ex.delete_range" title="Permalink to this definition">¶</a></dt>
<dd><p>Delete the text in the range given by the string-indexes
<code class="docutils literal notranslate"><span class="pre">start_index</span></code> and <code class="docutils literal notranslate"><span class="pre">end_index</span></code>.</p>
<p>Partial nodes will only be removed if they are editable.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">A <code class="docutils literal notranslate"><span class="pre">StringElem</span></code> representing the removed sub-string, the
parent node from which it was deleted as well as the offset
at which it was deleted from. <code class="docutils literal notranslate"><span class="pre">None</span></code> is returned for the
parent value if the root was deleted. If the parent and
offset values are not <code class="docutils literal notranslate"><span class="pre">None</span></code>, <code class="docutils literal notranslate"><span class="pre">parent.insert(offset,</span>
<span class="pre">deleted)</span></code> effectively undoes the delete.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.xliff.Ex.depth_first">
<code class="descname">depth_first</code><span class="sig-paren">(</span><em>filter=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.xliff.Ex.depth_first" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a list of the nodes in the tree in depth-first order.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.xliff.Ex.elem_at_offset">
<code class="descname">elem_at_offset</code><span class="sig-paren">(</span><em>offset</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.xliff.Ex.elem_at_offset" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the <code class="docutils literal notranslate"><span class="pre">StringElem</span></code> in the tree that contains the string rendered
at the given offset.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.xliff.Ex.elem_offset">
<code class="descname">elem_offset</code><span class="sig-paren">(</span><em>elem</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.xliff.Ex.elem_offset" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the offset of <code class="docutils literal notranslate"><span class="pre">elem</span></code> in the current tree.</p>
<p>This cannot be reliably used if <code class="docutils literal notranslate"><span class="pre">self.renderer</span></code> is used and even
less so if the rendering function renders the string differently
upon different calls. In Virtaal the <code class="docutils literal notranslate"><span class="pre">StringElemGUI.index()</span></code> method
is used as replacement for this one.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The string index where element <code class="docutils literal notranslate"><span class="pre">e</span></code> starts, or -1 if <code class="docutils literal notranslate"><span class="pre">e</span></code>
was not found.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.xliff.Ex.encode">
<code class="descname">encode</code><span class="sig-paren">(</span><em>encoding='ascii'</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.xliff.Ex.encode" title="Permalink to this definition">¶</a></dt>
<dd><p>More <code class="docutils literal notranslate"><span class="pre">unicode</span></code> class emulation.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.xliff.Ex.find">
<code class="descname">find</code><span class="sig-paren">(</span><em>x</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.xliff.Ex.find" title="Permalink to this definition">¶</a></dt>
<dd><p>Find sub-string <code class="docutils literal notranslate"><span class="pre">x</span></code> in this string tree and return the position at
which it starts.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.xliff.Ex.find_elems_with">
<code class="descname">find_elems_with</code><span class="sig-paren">(</span><em>x</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.xliff.Ex.find_elems_with" title="Permalink to this definition">¶</a></dt>
<dd><p>Find all elements in the current sub-tree containing <code class="docutils literal notranslate"><span class="pre">x</span></code>.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.xliff.Ex.flatten">
<code class="descname">flatten</code><span class="sig-paren">(</span><em>filter=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.xliff.Ex.flatten" title="Permalink to this definition">¶</a></dt>
<dd><p>Flatten the tree by returning a depth-first search over the tree’s
leaves.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.xliff.Ex.get_index_data">
<code class="descname">get_index_data</code><span class="sig-paren">(</span><em>index</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.xliff.Ex.get_index_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Get info about the specified range in the tree.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">A dictionary with the following items:<ul class="simple">
<li><em>elem</em>: The element in which <code class="docutils literal notranslate"><span class="pre">index</span></code> resides.</li>
<li><em>index</em>: Copy of the <code class="docutils literal notranslate"><span class="pre">index</span></code> parameter</li>
<li><em>offset</em>: The offset of <code class="docutils literal notranslate"><span class="pre">index</span></code> into <code class="docutils literal notranslate"><span class="pre">'elem'</span></code>.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.xliff.Ex.get_parent_elem">
<code class="descname">get_parent_elem</code><span class="sig-paren">(</span><em>child</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.xliff.Ex.get_parent_elem" title="Permalink to this definition">¶</a></dt>
<dd><p>Searches the current sub-tree for and returns the parent of the
<code class="docutils literal notranslate"><span class="pre">child</span></code> element.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.xliff.Ex.insert">
<code class="descname">insert</code><span class="sig-paren">(</span><em>offset</em>, <em>text</em>, <em>preferred_parent=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.xliff.Ex.insert" title="Permalink to this definition">¶</a></dt>
<dd><p>Insert the given text at the specified offset of this string-tree’s
string (Unicode) representation.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.xliff.Ex.insert_between">
<code class="descname">insert_between</code><span class="sig-paren">(</span><em>left</em>, <em>right</em>, <em>text</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.xliff.Ex.insert_between" title="Permalink to this definition">¶</a></dt>
<dd><p>Insert the given text between the two parameter <code class="docutils literal notranslate"><span class="pre">StringElem</span></code>s.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.xliff.Ex.isleaf">
<code class="descname">isleaf</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.xliff.Ex.isleaf" title="Permalink to this definition">¶</a></dt>
<dd><p>Whether or not this instance is a leaf node in the <code class="docutils literal notranslate"><span class="pre">StringElem</span></code> tree.</p>
<p>A node is a leaf node if it is a <code class="docutils literal notranslate"><span class="pre">StringElem</span></code> (not a sub-class) and
contains only sub-elements of type <code class="docutils literal notranslate"><span class="pre">str</span></code> or <code class="docutils literal notranslate"><span class="pre">unicode</span></code>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/2.7/library/functions.html#bool" title="(in Python v2.7)">bool</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.xliff.Ex.iter_depth_first">
<code class="descname">iter_depth_first</code><span class="sig-paren">(</span><em>filter=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.xliff.Ex.iter_depth_first" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterate through the nodes in the tree in dept-first order.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.xliff.Ex.map">
<code class="descname">map</code><span class="sig-paren">(</span><em>f</em>, <em>filter=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.xliff.Ex.map" title="Permalink to this definition">¶</a></dt>
<dd><p>Apply <code class="docutils literal notranslate"><span class="pre">f</span></code> to all nodes for which <code class="docutils literal notranslate"><span class="pre">filter</span></code> returned <code class="docutils literal notranslate"><span class="pre">True</span></code>
(optional).</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.xliff.Ex.print_tree">
<code class="descname">print_tree</code><span class="sig-paren">(</span><em>indent=0</em>, <em>verbose=False</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.xliff.Ex.print_tree" title="Permalink to this definition">¶</a></dt>
<dd><p>Print the tree from the current instance’s point in an indented
manner.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.xliff.Ex.prune">
<code class="descname">prune</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.xliff.Ex.prune" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove unnecessary nodes to make the tree optimal.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.xliff.Ex.remove_type">
<code class="descname">remove_type</code><span class="sig-paren">(</span><em>ptype</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.xliff.Ex.remove_type" title="Permalink to this definition">¶</a></dt>
<dd><p>Replace nodes with type <code class="docutils literal notranslate"><span class="pre">ptype</span></code> with base <code class="docutils literal notranslate"><span class="pre">StringElem</span></code>s,
containing the same sub-elements. This is only applicable to elements
below the element tree root node.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.xliff.Ex.translate">
<code class="descname">translate</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.xliff.Ex.translate" title="Permalink to this definition">¶</a></dt>
<dd><p>Transform the sub-tree according to some class-specific needs.  This
method should be either overridden in implementing sub-classes or
dynamically replaced by specific applications.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The transformed Unicode string representing the sub-tree.</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="translate.storage.placeables.xliff.G">
<em class="property">class </em><code class="descclassname">translate.storage.placeables.xliff.</code><code class="descname">G</code><span class="sig-paren">(</span><em>sub=None</em>, <em>id=None</em>, <em>rid=None</em>, <em>xid=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.xliff.G" title="Permalink to this definition">¶</a></dt>
<dd><dl class="method">
<dt id="translate.storage.placeables.xliff.G.apply_to_strings">
<code class="descname">apply_to_strings</code><span class="sig-paren">(</span><em>f</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.xliff.G.apply_to_strings" title="Permalink to this definition">¶</a></dt>
<dd><p>Apply <code class="docutils literal notranslate"><span class="pre">f</span></code> to all actual strings in the tree.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>f</strong> – Must take one (str or unicode) argument and return a
string or unicode.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.xliff.G.copy">
<code class="descname">copy</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.xliff.G.copy" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a copy of the sub-tree.  This should be overridden in
sub-classes with more data.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last"><code class="docutils literal notranslate"><span class="pre">self.renderer</span></code> is <strong>not</strong> copied.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.xliff.G.delete_range">
<code class="descname">delete_range</code><span class="sig-paren">(</span><em>start_index</em>, <em>end_index</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.xliff.G.delete_range" title="Permalink to this definition">¶</a></dt>
<dd><p>Delete the text in the range given by the string-indexes
<code class="docutils literal notranslate"><span class="pre">start_index</span></code> and <code class="docutils literal notranslate"><span class="pre">end_index</span></code>.</p>
<p>Partial nodes will only be removed if they are editable.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">A <code class="docutils literal notranslate"><span class="pre">StringElem</span></code> representing the removed sub-string, the
parent node from which it was deleted as well as the offset
at which it was deleted from. <code class="docutils literal notranslate"><span class="pre">None</span></code> is returned for the
parent value if the root was deleted. If the parent and
offset values are not <code class="docutils literal notranslate"><span class="pre">None</span></code>, <code class="docutils literal notranslate"><span class="pre">parent.insert(offset,</span>
<span class="pre">deleted)</span></code> effectively undoes the delete.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.xliff.G.depth_first">
<code class="descname">depth_first</code><span class="sig-paren">(</span><em>filter=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.xliff.G.depth_first" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a list of the nodes in the tree in depth-first order.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.xliff.G.elem_at_offset">
<code class="descname">elem_at_offset</code><span class="sig-paren">(</span><em>offset</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.xliff.G.elem_at_offset" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the <code class="docutils literal notranslate"><span class="pre">StringElem</span></code> in the tree that contains the string rendered
at the given offset.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.xliff.G.elem_offset">
<code class="descname">elem_offset</code><span class="sig-paren">(</span><em>elem</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.xliff.G.elem_offset" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the offset of <code class="docutils literal notranslate"><span class="pre">elem</span></code> in the current tree.</p>
<p>This cannot be reliably used if <code class="docutils literal notranslate"><span class="pre">self.renderer</span></code> is used and even
less so if the rendering function renders the string differently
upon different calls. In Virtaal the <code class="docutils literal notranslate"><span class="pre">StringElemGUI.index()</span></code> method
is used as replacement for this one.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The string index where element <code class="docutils literal notranslate"><span class="pre">e</span></code> starts, or -1 if <code class="docutils literal notranslate"><span class="pre">e</span></code>
was not found.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.xliff.G.encode">
<code class="descname">encode</code><span class="sig-paren">(</span><em>encoding='ascii'</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.xliff.G.encode" title="Permalink to this definition">¶</a></dt>
<dd><p>More <code class="docutils literal notranslate"><span class="pre">unicode</span></code> class emulation.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.xliff.G.find">
<code class="descname">find</code><span class="sig-paren">(</span><em>x</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.xliff.G.find" title="Permalink to this definition">¶</a></dt>
<dd><p>Find sub-string <code class="docutils literal notranslate"><span class="pre">x</span></code> in this string tree and return the position at
which it starts.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.xliff.G.find_elems_with">
<code class="descname">find_elems_with</code><span class="sig-paren">(</span><em>x</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.xliff.G.find_elems_with" title="Permalink to this definition">¶</a></dt>
<dd><p>Find all elements in the current sub-tree containing <code class="docutils literal notranslate"><span class="pre">x</span></code>.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.xliff.G.flatten">
<code class="descname">flatten</code><span class="sig-paren">(</span><em>filter=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.xliff.G.flatten" title="Permalink to this definition">¶</a></dt>
<dd><p>Flatten the tree by returning a depth-first search over the tree’s
leaves.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.xliff.G.get_index_data">
<code class="descname">get_index_data</code><span class="sig-paren">(</span><em>index</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.xliff.G.get_index_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Get info about the specified range in the tree.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">A dictionary with the following items:<ul class="simple">
<li><em>elem</em>: The element in which <code class="docutils literal notranslate"><span class="pre">index</span></code> resides.</li>
<li><em>index</em>: Copy of the <code class="docutils literal notranslate"><span class="pre">index</span></code> parameter</li>
<li><em>offset</em>: The offset of <code class="docutils literal notranslate"><span class="pre">index</span></code> into <code class="docutils literal notranslate"><span class="pre">'elem'</span></code>.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.xliff.G.get_parent_elem">
<code class="descname">get_parent_elem</code><span class="sig-paren">(</span><em>child</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.xliff.G.get_parent_elem" title="Permalink to this definition">¶</a></dt>
<dd><p>Searches the current sub-tree for and returns the parent of the
<code class="docutils literal notranslate"><span class="pre">child</span></code> element.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.xliff.G.insert">
<code class="descname">insert</code><span class="sig-paren">(</span><em>offset</em>, <em>text</em>, <em>preferred_parent=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.xliff.G.insert" title="Permalink to this definition">¶</a></dt>
<dd><p>Insert the given text at the specified offset of this string-tree’s
string (Unicode) representation.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.xliff.G.insert_between">
<code class="descname">insert_between</code><span class="sig-paren">(</span><em>left</em>, <em>right</em>, <em>text</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.xliff.G.insert_between" title="Permalink to this definition">¶</a></dt>
<dd><p>Insert the given text between the two parameter <code class="docutils literal notranslate"><span class="pre">StringElem</span></code>s.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.xliff.G.isleaf">
<code class="descname">isleaf</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.xliff.G.isleaf" title="Permalink to this definition">¶</a></dt>
<dd><p>Whether or not this instance is a leaf node in the <code class="docutils literal notranslate"><span class="pre">StringElem</span></code> tree.</p>
<p>A node is a leaf node if it is a <code class="docutils literal notranslate"><span class="pre">StringElem</span></code> (not a sub-class) and
contains only sub-elements of type <code class="docutils literal notranslate"><span class="pre">str</span></code> or <code class="docutils literal notranslate"><span class="pre">unicode</span></code>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/2.7/library/functions.html#bool" title="(in Python v2.7)">bool</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.xliff.G.iter_depth_first">
<code class="descname">iter_depth_first</code><span class="sig-paren">(</span><em>filter=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.xliff.G.iter_depth_first" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterate through the nodes in the tree in dept-first order.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.xliff.G.map">
<code class="descname">map</code><span class="sig-paren">(</span><em>f</em>, <em>filter=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.xliff.G.map" title="Permalink to this definition">¶</a></dt>
<dd><p>Apply <code class="docutils literal notranslate"><span class="pre">f</span></code> to all nodes for which <code class="docutils literal notranslate"><span class="pre">filter</span></code> returned <code class="docutils literal notranslate"><span class="pre">True</span></code>
(optional).</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.xliff.G.print_tree">
<code class="descname">print_tree</code><span class="sig-paren">(</span><em>indent=0</em>, <em>verbose=False</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.xliff.G.print_tree" title="Permalink to this definition">¶</a></dt>
<dd><p>Print the tree from the current instance’s point in an indented
manner.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.xliff.G.prune">
<code class="descname">prune</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.xliff.G.prune" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove unnecessary nodes to make the tree optimal.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.xliff.G.remove_type">
<code class="descname">remove_type</code><span class="sig-paren">(</span><em>ptype</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.xliff.G.remove_type" title="Permalink to this definition">¶</a></dt>
<dd><p>Replace nodes with type <code class="docutils literal notranslate"><span class="pre">ptype</span></code> with base <code class="docutils literal notranslate"><span class="pre">StringElem</span></code>s,
containing the same sub-elements. This is only applicable to elements
below the element tree root node.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.xliff.G.translate">
<code class="descname">translate</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.xliff.G.translate" title="Permalink to this definition">¶</a></dt>
<dd><p>Transform the sub-tree according to some class-specific needs.  This
method should be either overridden in implementing sub-classes or
dynamically replaced by specific applications.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The transformed Unicode string representing the sub-tree.</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="translate.storage.placeables.xliff.It">
<em class="property">class </em><code class="descclassname">translate.storage.placeables.xliff.</code><code class="descname">It</code><span class="sig-paren">(</span><em>sub=None</em>, <em>id=None</em>, <em>rid=None</em>, <em>xid=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.xliff.It" title="Permalink to this definition">¶</a></dt>
<dd><dl class="method">
<dt id="translate.storage.placeables.xliff.It.apply_to_strings">
<code class="descname">apply_to_strings</code><span class="sig-paren">(</span><em>f</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.xliff.It.apply_to_strings" title="Permalink to this definition">¶</a></dt>
<dd><p>Apply <code class="docutils literal notranslate"><span class="pre">f</span></code> to all actual strings in the tree.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>f</strong> – Must take one (str or unicode) argument and return a
string or unicode.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.xliff.It.copy">
<code class="descname">copy</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.xliff.It.copy" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a copy of the sub-tree.  This should be overridden in
sub-classes with more data.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last"><code class="docutils literal notranslate"><span class="pre">self.renderer</span></code> is <strong>not</strong> copied.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.xliff.It.delete_range">
<code class="descname">delete_range</code><span class="sig-paren">(</span><em>start_index</em>, <em>end_index</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.xliff.It.delete_range" title="Permalink to this definition">¶</a></dt>
<dd><p>Delete the text in the range given by the string-indexes
<code class="docutils literal notranslate"><span class="pre">start_index</span></code> and <code class="docutils literal notranslate"><span class="pre">end_index</span></code>.</p>
<p>Partial nodes will only be removed if they are editable.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">A <code class="docutils literal notranslate"><span class="pre">StringElem</span></code> representing the removed sub-string, the
parent node from which it was deleted as well as the offset
at which it was deleted from. <code class="docutils literal notranslate"><span class="pre">None</span></code> is returned for the
parent value if the root was deleted. If the parent and
offset values are not <code class="docutils literal notranslate"><span class="pre">None</span></code>, <code class="docutils literal notranslate"><span class="pre">parent.insert(offset,</span>
<span class="pre">deleted)</span></code> effectively undoes the delete.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.xliff.It.depth_first">
<code class="descname">depth_first</code><span class="sig-paren">(</span><em>filter=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.xliff.It.depth_first" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a list of the nodes in the tree in depth-first order.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.xliff.It.elem_at_offset">
<code class="descname">elem_at_offset</code><span class="sig-paren">(</span><em>offset</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.xliff.It.elem_at_offset" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the <code class="docutils literal notranslate"><span class="pre">StringElem</span></code> in the tree that contains the string rendered
at the given offset.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.xliff.It.elem_offset">
<code class="descname">elem_offset</code><span class="sig-paren">(</span><em>elem</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.xliff.It.elem_offset" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the offset of <code class="docutils literal notranslate"><span class="pre">elem</span></code> in the current tree.</p>
<p>This cannot be reliably used if <code class="docutils literal notranslate"><span class="pre">self.renderer</span></code> is used and even
less so if the rendering function renders the string differently
upon different calls. In Virtaal the <code class="docutils literal notranslate"><span class="pre">StringElemGUI.index()</span></code> method
is used as replacement for this one.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The string index where element <code class="docutils literal notranslate"><span class="pre">e</span></code> starts, or -1 if <code class="docutils literal notranslate"><span class="pre">e</span></code>
was not found.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.xliff.It.encode">
<code class="descname">encode</code><span class="sig-paren">(</span><em>encoding='ascii'</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.xliff.It.encode" title="Permalink to this definition">¶</a></dt>
<dd><p>More <code class="docutils literal notranslate"><span class="pre">unicode</span></code> class emulation.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.xliff.It.find">
<code class="descname">find</code><span class="sig-paren">(</span><em>x</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.xliff.It.find" title="Permalink to this definition">¶</a></dt>
<dd><p>Find sub-string <code class="docutils literal notranslate"><span class="pre">x</span></code> in this string tree and return the position at
which it starts.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.xliff.It.find_elems_with">
<code class="descname">find_elems_with</code><span class="sig-paren">(</span><em>x</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.xliff.It.find_elems_with" title="Permalink to this definition">¶</a></dt>
<dd><p>Find all elements in the current sub-tree containing <code class="docutils literal notranslate"><span class="pre">x</span></code>.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.xliff.It.flatten">
<code class="descname">flatten</code><span class="sig-paren">(</span><em>filter=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.xliff.It.flatten" title="Permalink to this definition">¶</a></dt>
<dd><p>Flatten the tree by returning a depth-first search over the tree’s
leaves.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.xliff.It.get_index_data">
<code class="descname">get_index_data</code><span class="sig-paren">(</span><em>index</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.xliff.It.get_index_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Get info about the specified range in the tree.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">A dictionary with the following items:<ul class="simple">
<li><em>elem</em>: The element in which <code class="docutils literal notranslate"><span class="pre">index</span></code> resides.</li>
<li><em>index</em>: Copy of the <code class="docutils literal notranslate"><span class="pre">index</span></code> parameter</li>
<li><em>offset</em>: The offset of <code class="docutils literal notranslate"><span class="pre">index</span></code> into <code class="docutils literal notranslate"><span class="pre">'elem'</span></code>.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.xliff.It.get_parent_elem">
<code class="descname">get_parent_elem</code><span class="sig-paren">(</span><em>child</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.xliff.It.get_parent_elem" title="Permalink to this definition">¶</a></dt>
<dd><p>Searches the current sub-tree for and returns the parent of the
<code class="docutils literal notranslate"><span class="pre">child</span></code> element.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.xliff.It.insert">
<code class="descname">insert</code><span class="sig-paren">(</span><em>offset</em>, <em>text</em>, <em>preferred_parent=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.xliff.It.insert" title="Permalink to this definition">¶</a></dt>
<dd><p>Insert the given text at the specified offset of this string-tree’s
string (Unicode) representation.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.xliff.It.insert_between">
<code class="descname">insert_between</code><span class="sig-paren">(</span><em>left</em>, <em>right</em>, <em>text</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.xliff.It.insert_between" title="Permalink to this definition">¶</a></dt>
<dd><p>Insert the given text between the two parameter <code class="docutils literal notranslate"><span class="pre">StringElem</span></code>s.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.xliff.It.isleaf">
<code class="descname">isleaf</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.xliff.It.isleaf" title="Permalink to this definition">¶</a></dt>
<dd><p>Whether or not this instance is a leaf node in the <code class="docutils literal notranslate"><span class="pre">StringElem</span></code> tree.</p>
<p>A node is a leaf node if it is a <code class="docutils literal notranslate"><span class="pre">StringElem</span></code> (not a sub-class) and
contains only sub-elements of type <code class="docutils literal notranslate"><span class="pre">str</span></code> or <code class="docutils literal notranslate"><span class="pre">unicode</span></code>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/2.7/library/functions.html#bool" title="(in Python v2.7)">bool</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.xliff.It.iter_depth_first">
<code class="descname">iter_depth_first</code><span class="sig-paren">(</span><em>filter=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.xliff.It.iter_depth_first" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterate through the nodes in the tree in dept-first order.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.xliff.It.map">
<code class="descname">map</code><span class="sig-paren">(</span><em>f</em>, <em>filter=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.xliff.It.map" title="Permalink to this definition">¶</a></dt>
<dd><p>Apply <code class="docutils literal notranslate"><span class="pre">f</span></code> to all nodes for which <code class="docutils literal notranslate"><span class="pre">filter</span></code> returned <code class="docutils literal notranslate"><span class="pre">True</span></code>
(optional).</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.xliff.It.print_tree">
<code class="descname">print_tree</code><span class="sig-paren">(</span><em>indent=0</em>, <em>verbose=False</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.xliff.It.print_tree" title="Permalink to this definition">¶</a></dt>
<dd><p>Print the tree from the current instance’s point in an indented
manner.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.xliff.It.prune">
<code class="descname">prune</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.xliff.It.prune" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove unnecessary nodes to make the tree optimal.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.xliff.It.remove_type">
<code class="descname">remove_type</code><span class="sig-paren">(</span><em>ptype</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.xliff.It.remove_type" title="Permalink to this definition">¶</a></dt>
<dd><p>Replace nodes with type <code class="docutils literal notranslate"><span class="pre">ptype</span></code> with base <code class="docutils literal notranslate"><span class="pre">StringElem</span></code>s,
containing the same sub-elements. This is only applicable to elements
below the element tree root node.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.xliff.It.translate">
<code class="descname">translate</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.xliff.It.translate" title="Permalink to this definition">¶</a></dt>
<dd><p>Transform the sub-tree according to some class-specific needs.  This
method should be either overridden in implementing sub-classes or
dynamically replaced by specific applications.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The transformed Unicode string representing the sub-tree.</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="translate.storage.placeables.xliff.Sub">
<em class="property">class </em><code class="descclassname">translate.storage.placeables.xliff.</code><code class="descname">Sub</code><span class="sig-paren">(</span><em>sub=None</em>, <em>id=None</em>, <em>rid=None</em>, <em>xid=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.xliff.Sub" title="Permalink to this definition">¶</a></dt>
<dd><dl class="method">
<dt id="translate.storage.placeables.xliff.Sub.apply_to_strings">
<code class="descname">apply_to_strings</code><span class="sig-paren">(</span><em>f</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.xliff.Sub.apply_to_strings" title="Permalink to this definition">¶</a></dt>
<dd><p>Apply <code class="docutils literal notranslate"><span class="pre">f</span></code> to all actual strings in the tree.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>f</strong> – Must take one (str or unicode) argument and return a
string or unicode.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.xliff.Sub.copy">
<code class="descname">copy</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.xliff.Sub.copy" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a copy of the sub-tree.  This should be overridden in
sub-classes with more data.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last"><code class="docutils literal notranslate"><span class="pre">self.renderer</span></code> is <strong>not</strong> copied.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.xliff.Sub.delete_range">
<code class="descname">delete_range</code><span class="sig-paren">(</span><em>start_index</em>, <em>end_index</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.xliff.Sub.delete_range" title="Permalink to this definition">¶</a></dt>
<dd><p>Delete the text in the range given by the string-indexes
<code class="docutils literal notranslate"><span class="pre">start_index</span></code> and <code class="docutils literal notranslate"><span class="pre">end_index</span></code>.</p>
<p>Partial nodes will only be removed if they are editable.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">A <code class="docutils literal notranslate"><span class="pre">StringElem</span></code> representing the removed sub-string, the
parent node from which it was deleted as well as the offset
at which it was deleted from. <code class="docutils literal notranslate"><span class="pre">None</span></code> is returned for the
parent value if the root was deleted. If the parent and
offset values are not <code class="docutils literal notranslate"><span class="pre">None</span></code>, <code class="docutils literal notranslate"><span class="pre">parent.insert(offset,</span>
<span class="pre">deleted)</span></code> effectively undoes the delete.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.xliff.Sub.depth_first">
<code class="descname">depth_first</code><span class="sig-paren">(</span><em>filter=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.xliff.Sub.depth_first" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a list of the nodes in the tree in depth-first order.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.xliff.Sub.elem_at_offset">
<code class="descname">elem_at_offset</code><span class="sig-paren">(</span><em>offset</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.xliff.Sub.elem_at_offset" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the <code class="docutils literal notranslate"><span class="pre">StringElem</span></code> in the tree that contains the string rendered
at the given offset.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.xliff.Sub.elem_offset">
<code class="descname">elem_offset</code><span class="sig-paren">(</span><em>elem</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.xliff.Sub.elem_offset" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the offset of <code class="docutils literal notranslate"><span class="pre">elem</span></code> in the current tree.</p>
<p>This cannot be reliably used if <code class="docutils literal notranslate"><span class="pre">self.renderer</span></code> is used and even
less so if the rendering function renders the string differently
upon different calls. In Virtaal the <code class="docutils literal notranslate"><span class="pre">StringElemGUI.index()</span></code> method
is used as replacement for this one.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The string index where element <code class="docutils literal notranslate"><span class="pre">e</span></code> starts, or -1 if <code class="docutils literal notranslate"><span class="pre">e</span></code>
was not found.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.xliff.Sub.encode">
<code class="descname">encode</code><span class="sig-paren">(</span><em>encoding='ascii'</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.xliff.Sub.encode" title="Permalink to this definition">¶</a></dt>
<dd><p>More <code class="docutils literal notranslate"><span class="pre">unicode</span></code> class emulation.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.xliff.Sub.find">
<code class="descname">find</code><span class="sig-paren">(</span><em>x</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.xliff.Sub.find" title="Permalink to this definition">¶</a></dt>
<dd><p>Find sub-string <code class="docutils literal notranslate"><span class="pre">x</span></code> in this string tree and return the position at
which it starts.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.xliff.Sub.find_elems_with">
<code class="descname">find_elems_with</code><span class="sig-paren">(</span><em>x</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.xliff.Sub.find_elems_with" title="Permalink to this definition">¶</a></dt>
<dd><p>Find all elements in the current sub-tree containing <code class="docutils literal notranslate"><span class="pre">x</span></code>.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.xliff.Sub.flatten">
<code class="descname">flatten</code><span class="sig-paren">(</span><em>filter=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.xliff.Sub.flatten" title="Permalink to this definition">¶</a></dt>
<dd><p>Flatten the tree by returning a depth-first search over the tree’s
leaves.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.xliff.Sub.get_index_data">
<code class="descname">get_index_data</code><span class="sig-paren">(</span><em>index</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.xliff.Sub.get_index_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Get info about the specified range in the tree.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">A dictionary with the following items:<ul class="simple">
<li><em>elem</em>: The element in which <code class="docutils literal notranslate"><span class="pre">index</span></code> resides.</li>
<li><em>index</em>: Copy of the <code class="docutils literal notranslate"><span class="pre">index</span></code> parameter</li>
<li><em>offset</em>: The offset of <code class="docutils literal notranslate"><span class="pre">index</span></code> into <code class="docutils literal notranslate"><span class="pre">'elem'</span></code>.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.xliff.Sub.get_parent_elem">
<code class="descname">get_parent_elem</code><span class="sig-paren">(</span><em>child</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.xliff.Sub.get_parent_elem" title="Permalink to this definition">¶</a></dt>
<dd><p>Searches the current sub-tree for and returns the parent of the
<code class="docutils literal notranslate"><span class="pre">child</span></code> element.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.xliff.Sub.insert">
<code class="descname">insert</code><span class="sig-paren">(</span><em>offset</em>, <em>text</em>, <em>preferred_parent=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.xliff.Sub.insert" title="Permalink to this definition">¶</a></dt>
<dd><p>Insert the given text at the specified offset of this string-tree’s
string (Unicode) representation.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.xliff.Sub.insert_between">
<code class="descname">insert_between</code><span class="sig-paren">(</span><em>left</em>, <em>right</em>, <em>text</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.xliff.Sub.insert_between" title="Permalink to this definition">¶</a></dt>
<dd><p>Insert the given text between the two parameter <code class="docutils literal notranslate"><span class="pre">StringElem</span></code>s.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.xliff.Sub.isleaf">
<code class="descname">isleaf</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.xliff.Sub.isleaf" title="Permalink to this definition">¶</a></dt>
<dd><p>Whether or not this instance is a leaf node in the <code class="docutils literal notranslate"><span class="pre">StringElem</span></code> tree.</p>
<p>A node is a leaf node if it is a <code class="docutils literal notranslate"><span class="pre">StringElem</span></code> (not a sub-class) and
contains only sub-elements of type <code class="docutils literal notranslate"><span class="pre">str</span></code> or <code class="docutils literal notranslate"><span class="pre">unicode</span></code>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/2.7/library/functions.html#bool" title="(in Python v2.7)">bool</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.xliff.Sub.iter_depth_first">
<code class="descname">iter_depth_first</code><span class="sig-paren">(</span><em>filter=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.xliff.Sub.iter_depth_first" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterate through the nodes in the tree in dept-first order.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.xliff.Sub.map">
<code class="descname">map</code><span class="sig-paren">(</span><em>f</em>, <em>filter=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.xliff.Sub.map" title="Permalink to this definition">¶</a></dt>
<dd><p>Apply <code class="docutils literal notranslate"><span class="pre">f</span></code> to all nodes for which <code class="docutils literal notranslate"><span class="pre">filter</span></code> returned <code class="docutils literal notranslate"><span class="pre">True</span></code>
(optional).</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.xliff.Sub.print_tree">
<code class="descname">print_tree</code><span class="sig-paren">(</span><em>indent=0</em>, <em>verbose=False</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.xliff.Sub.print_tree" title="Permalink to this definition">¶</a></dt>
<dd><p>Print the tree from the current instance’s point in an indented
manner.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.xliff.Sub.prune">
<code class="descname">prune</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.xliff.Sub.prune" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove unnecessary nodes to make the tree optimal.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.xliff.Sub.remove_type">
<code class="descname">remove_type</code><span class="sig-paren">(</span><em>ptype</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.xliff.Sub.remove_type" title="Permalink to this definition">¶</a></dt>
<dd><p>Replace nodes with type <code class="docutils literal notranslate"><span class="pre">ptype</span></code> with base <code class="docutils literal notranslate"><span class="pre">StringElem</span></code>s,
containing the same sub-elements. This is only applicable to elements
below the element tree root node.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.xliff.Sub.translate">
<code class="descname">translate</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.xliff.Sub.translate" title="Permalink to this definition">¶</a></dt>
<dd><p>Transform the sub-tree according to some class-specific needs.  This
method should be either overridden in implementing sub-classes or
dynamically replaced by specific applications.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The transformed Unicode string representing the sub-tree.</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="translate.storage.placeables.xliff.Ph">
<em class="property">class </em><code class="descclassname">translate.storage.placeables.xliff.</code><code class="descname">Ph</code><span class="sig-paren">(</span><em>sub=None</em>, <em>id=None</em>, <em>rid=None</em>, <em>xid=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.xliff.Ph" title="Permalink to this definition">¶</a></dt>
<dd><dl class="method">
<dt id="translate.storage.placeables.xliff.Ph.apply_to_strings">
<code class="descname">apply_to_strings</code><span class="sig-paren">(</span><em>f</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.xliff.Ph.apply_to_strings" title="Permalink to this definition">¶</a></dt>
<dd><p>Apply <code class="docutils literal notranslate"><span class="pre">f</span></code> to all actual strings in the tree.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>f</strong> – Must take one (str or unicode) argument and return a
string or unicode.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.xliff.Ph.copy">
<code class="descname">copy</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.xliff.Ph.copy" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a copy of the sub-tree.  This should be overridden in
sub-classes with more data.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last"><code class="docutils literal notranslate"><span class="pre">self.renderer</span></code> is <strong>not</strong> copied.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.xliff.Ph.delete_range">
<code class="descname">delete_range</code><span class="sig-paren">(</span><em>start_index</em>, <em>end_index</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.xliff.Ph.delete_range" title="Permalink to this definition">¶</a></dt>
<dd><p>Delete the text in the range given by the string-indexes
<code class="docutils literal notranslate"><span class="pre">start_index</span></code> and <code class="docutils literal notranslate"><span class="pre">end_index</span></code>.</p>
<p>Partial nodes will only be removed if they are editable.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">A <code class="docutils literal notranslate"><span class="pre">StringElem</span></code> representing the removed sub-string, the
parent node from which it was deleted as well as the offset
at which it was deleted from. <code class="docutils literal notranslate"><span class="pre">None</span></code> is returned for the
parent value if the root was deleted. If the parent and
offset values are not <code class="docutils literal notranslate"><span class="pre">None</span></code>, <code class="docutils literal notranslate"><span class="pre">parent.insert(offset,</span>
<span class="pre">deleted)</span></code> effectively undoes the delete.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.xliff.Ph.depth_first">
<code class="descname">depth_first</code><span class="sig-paren">(</span><em>filter=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.xliff.Ph.depth_first" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a list of the nodes in the tree in depth-first order.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.xliff.Ph.elem_at_offset">
<code class="descname">elem_at_offset</code><span class="sig-paren">(</span><em>offset</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.xliff.Ph.elem_at_offset" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the <code class="docutils literal notranslate"><span class="pre">StringElem</span></code> in the tree that contains the string rendered
at the given offset.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.xliff.Ph.elem_offset">
<code class="descname">elem_offset</code><span class="sig-paren">(</span><em>elem</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.xliff.Ph.elem_offset" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the offset of <code class="docutils literal notranslate"><span class="pre">elem</span></code> in the current tree.</p>
<p>This cannot be reliably used if <code class="docutils literal notranslate"><span class="pre">self.renderer</span></code> is used and even
less so if the rendering function renders the string differently
upon different calls. In Virtaal the <code class="docutils literal notranslate"><span class="pre">StringElemGUI.index()</span></code> method
is used as replacement for this one.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The string index where element <code class="docutils literal notranslate"><span class="pre">e</span></code> starts, or -1 if <code class="docutils literal notranslate"><span class="pre">e</span></code>
was not found.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.xliff.Ph.encode">
<code class="descname">encode</code><span class="sig-paren">(</span><em>encoding='ascii'</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.xliff.Ph.encode" title="Permalink to this definition">¶</a></dt>
<dd><p>More <code class="docutils literal notranslate"><span class="pre">unicode</span></code> class emulation.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.xliff.Ph.find">
<code class="descname">find</code><span class="sig-paren">(</span><em>x</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.xliff.Ph.find" title="Permalink to this definition">¶</a></dt>
<dd><p>Find sub-string <code class="docutils literal notranslate"><span class="pre">x</span></code> in this string tree and return the position at
which it starts.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.xliff.Ph.find_elems_with">
<code class="descname">find_elems_with</code><span class="sig-paren">(</span><em>x</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.xliff.Ph.find_elems_with" title="Permalink to this definition">¶</a></dt>
<dd><p>Find all elements in the current sub-tree containing <code class="docutils literal notranslate"><span class="pre">x</span></code>.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.xliff.Ph.flatten">
<code class="descname">flatten</code><span class="sig-paren">(</span><em>filter=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.xliff.Ph.flatten" title="Permalink to this definition">¶</a></dt>
<dd><p>Flatten the tree by returning a depth-first search over the tree’s
leaves.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.xliff.Ph.get_index_data">
<code class="descname">get_index_data</code><span class="sig-paren">(</span><em>index</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.xliff.Ph.get_index_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Get info about the specified range in the tree.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">A dictionary with the following items:<ul class="simple">
<li><em>elem</em>: The element in which <code class="docutils literal notranslate"><span class="pre">index</span></code> resides.</li>
<li><em>index</em>: Copy of the <code class="docutils literal notranslate"><span class="pre">index</span></code> parameter</li>
<li><em>offset</em>: The offset of <code class="docutils literal notranslate"><span class="pre">index</span></code> into <code class="docutils literal notranslate"><span class="pre">'elem'</span></code>.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.xliff.Ph.get_parent_elem">
<code class="descname">get_parent_elem</code><span class="sig-paren">(</span><em>child</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.xliff.Ph.get_parent_elem" title="Permalink to this definition">¶</a></dt>
<dd><p>Searches the current sub-tree for and returns the parent of the
<code class="docutils literal notranslate"><span class="pre">child</span></code> element.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.xliff.Ph.insert">
<code class="descname">insert</code><span class="sig-paren">(</span><em>offset</em>, <em>text</em>, <em>preferred_parent=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.xliff.Ph.insert" title="Permalink to this definition">¶</a></dt>
<dd><p>Insert the given text at the specified offset of this string-tree’s
string (Unicode) representation.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.xliff.Ph.insert_between">
<code class="descname">insert_between</code><span class="sig-paren">(</span><em>left</em>, <em>right</em>, <em>text</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.xliff.Ph.insert_between" title="Permalink to this definition">¶</a></dt>
<dd><p>Insert the given text between the two parameter <code class="docutils literal notranslate"><span class="pre">StringElem</span></code>s.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.xliff.Ph.isleaf">
<code class="descname">isleaf</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.xliff.Ph.isleaf" title="Permalink to this definition">¶</a></dt>
<dd><p>Whether or not this instance is a leaf node in the <code class="docutils literal notranslate"><span class="pre">StringElem</span></code> tree.</p>
<p>A node is a leaf node if it is a <code class="docutils literal notranslate"><span class="pre">StringElem</span></code> (not a sub-class) and
contains only sub-elements of type <code class="docutils literal notranslate"><span class="pre">str</span></code> or <code class="docutils literal notranslate"><span class="pre">unicode</span></code>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/2.7/library/functions.html#bool" title="(in Python v2.7)">bool</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.xliff.Ph.iter_depth_first">
<code class="descname">iter_depth_first</code><span class="sig-paren">(</span><em>filter=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.xliff.Ph.iter_depth_first" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterate through the nodes in the tree in dept-first order.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.xliff.Ph.map">
<code class="descname">map</code><span class="sig-paren">(</span><em>f</em>, <em>filter=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.xliff.Ph.map" title="Permalink to this definition">¶</a></dt>
<dd><p>Apply <code class="docutils literal notranslate"><span class="pre">f</span></code> to all nodes for which <code class="docutils literal notranslate"><span class="pre">filter</span></code> returned <code class="docutils literal notranslate"><span class="pre">True</span></code>
(optional).</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.xliff.Ph.print_tree">
<code class="descname">print_tree</code><span class="sig-paren">(</span><em>indent=0</em>, <em>verbose=False</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.xliff.Ph.print_tree" title="Permalink to this definition">¶</a></dt>
<dd><p>Print the tree from the current instance’s point in an indented
manner.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.xliff.Ph.prune">
<code class="descname">prune</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.xliff.Ph.prune" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove unnecessary nodes to make the tree optimal.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.xliff.Ph.remove_type">
<code class="descname">remove_type</code><span class="sig-paren">(</span><em>ptype</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.xliff.Ph.remove_type" title="Permalink to this definition">¶</a></dt>
<dd><p>Replace nodes with type <code class="docutils literal notranslate"><span class="pre">ptype</span></code> with base <code class="docutils literal notranslate"><span class="pre">StringElem</span></code>s,
containing the same sub-elements. This is only applicable to elements
below the element tree root node.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.xliff.Ph.translate">
<code class="descname">translate</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.xliff.Ph.translate" title="Permalink to this definition">¶</a></dt>
<dd><p>Transform the sub-tree according to some class-specific needs.  This
method should be either overridden in implementing sub-classes or
dynamically replaced by specific applications.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The transformed Unicode string representing the sub-tree.</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="translate.storage.placeables.xliff.UnknownXML">
<em class="property">class </em><code class="descclassname">translate.storage.placeables.xliff.</code><code class="descname">UnknownXML</code><span class="sig-paren">(</span><em>sub=None</em>, <em>id=None</em>, <em>rid=None</em>, <em>xid=None</em>, <em>xml_node=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.xliff.UnknownXML" title="Permalink to this definition">¶</a></dt>
<dd><p>Placeable for unrecognized or umimplemented XML nodes. It’s main purpose
is to preserve all associated XML data.</p>
<dl class="method">
<dt id="translate.storage.placeables.xliff.UnknownXML.apply_to_strings">
<code class="descname">apply_to_strings</code><span class="sig-paren">(</span><em>f</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.xliff.UnknownXML.apply_to_strings" title="Permalink to this definition">¶</a></dt>
<dd><p>Apply <code class="docutils literal notranslate"><span class="pre">f</span></code> to all actual strings in the tree.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>f</strong> – Must take one (str or unicode) argument and return a
string or unicode.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.xliff.UnknownXML.copy">
<code class="descname">copy</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.xliff.UnknownXML.copy" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a copy of the sub-tree.  This should be overridden in
sub-classes with more data.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last"><code class="docutils literal notranslate"><span class="pre">self.renderer</span></code> is <strong>not</strong> copied.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.xliff.UnknownXML.delete_range">
<code class="descname">delete_range</code><span class="sig-paren">(</span><em>start_index</em>, <em>end_index</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.xliff.UnknownXML.delete_range" title="Permalink to this definition">¶</a></dt>
<dd><p>Delete the text in the range given by the string-indexes
<code class="docutils literal notranslate"><span class="pre">start_index</span></code> and <code class="docutils literal notranslate"><span class="pre">end_index</span></code>.</p>
<p>Partial nodes will only be removed if they are editable.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">A <code class="docutils literal notranslate"><span class="pre">StringElem</span></code> representing the removed sub-string, the
parent node from which it was deleted as well as the offset
at which it was deleted from. <code class="docutils literal notranslate"><span class="pre">None</span></code> is returned for the
parent value if the root was deleted. If the parent and
offset values are not <code class="docutils literal notranslate"><span class="pre">None</span></code>, <code class="docutils literal notranslate"><span class="pre">parent.insert(offset,</span>
<span class="pre">deleted)</span></code> effectively undoes the delete.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.xliff.UnknownXML.depth_first">
<code class="descname">depth_first</code><span class="sig-paren">(</span><em>filter=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.xliff.UnknownXML.depth_first" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a list of the nodes in the tree in depth-first order.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.xliff.UnknownXML.elem_at_offset">
<code class="descname">elem_at_offset</code><span class="sig-paren">(</span><em>offset</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.xliff.UnknownXML.elem_at_offset" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the <code class="docutils literal notranslate"><span class="pre">StringElem</span></code> in the tree that contains the string rendered
at the given offset.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.xliff.UnknownXML.elem_offset">
<code class="descname">elem_offset</code><span class="sig-paren">(</span><em>elem</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.xliff.UnknownXML.elem_offset" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the offset of <code class="docutils literal notranslate"><span class="pre">elem</span></code> in the current tree.</p>
<p>This cannot be reliably used if <code class="docutils literal notranslate"><span class="pre">self.renderer</span></code> is used and even
less so if the rendering function renders the string differently
upon different calls. In Virtaal the <code class="docutils literal notranslate"><span class="pre">StringElemGUI.index()</span></code> method
is used as replacement for this one.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The string index where element <code class="docutils literal notranslate"><span class="pre">e</span></code> starts, or -1 if <code class="docutils literal notranslate"><span class="pre">e</span></code>
was not found.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.xliff.UnknownXML.encode">
<code class="descname">encode</code><span class="sig-paren">(</span><em>encoding='ascii'</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.xliff.UnknownXML.encode" title="Permalink to this definition">¶</a></dt>
<dd><p>More <code class="docutils literal notranslate"><span class="pre">unicode</span></code> class emulation.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.xliff.UnknownXML.find">
<code class="descname">find</code><span class="sig-paren">(</span><em>x</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.xliff.UnknownXML.find" title="Permalink to this definition">¶</a></dt>
<dd><p>Find sub-string <code class="docutils literal notranslate"><span class="pre">x</span></code> in this string tree and return the position at
which it starts.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.xliff.UnknownXML.find_elems_with">
<code class="descname">find_elems_with</code><span class="sig-paren">(</span><em>x</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.xliff.UnknownXML.find_elems_with" title="Permalink to this definition">¶</a></dt>
<dd><p>Find all elements in the current sub-tree containing <code class="docutils literal notranslate"><span class="pre">x</span></code>.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.xliff.UnknownXML.flatten">
<code class="descname">flatten</code><span class="sig-paren">(</span><em>filter=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.xliff.UnknownXML.flatten" title="Permalink to this definition">¶</a></dt>
<dd><p>Flatten the tree by returning a depth-first search over the tree’s
leaves.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.xliff.UnknownXML.get_index_data">
<code class="descname">get_index_data</code><span class="sig-paren">(</span><em>index</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.xliff.UnknownXML.get_index_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Get info about the specified range in the tree.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">A dictionary with the following items:<ul class="simple">
<li><em>elem</em>: The element in which <code class="docutils literal notranslate"><span class="pre">index</span></code> resides.</li>
<li><em>index</em>: Copy of the <code class="docutils literal notranslate"><span class="pre">index</span></code> parameter</li>
<li><em>offset</em>: The offset of <code class="docutils literal notranslate"><span class="pre">index</span></code> into <code class="docutils literal notranslate"><span class="pre">'elem'</span></code>.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.xliff.UnknownXML.get_parent_elem">
<code class="descname">get_parent_elem</code><span class="sig-paren">(</span><em>child</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.xliff.UnknownXML.get_parent_elem" title="Permalink to this definition">¶</a></dt>
<dd><p>Searches the current sub-tree for and returns the parent of the
<code class="docutils literal notranslate"><span class="pre">child</span></code> element.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.xliff.UnknownXML.insert">
<code class="descname">insert</code><span class="sig-paren">(</span><em>offset</em>, <em>text</em>, <em>preferred_parent=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.xliff.UnknownXML.insert" title="Permalink to this definition">¶</a></dt>
<dd><p>Insert the given text at the specified offset of this string-tree’s
string (Unicode) representation.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.xliff.UnknownXML.insert_between">
<code class="descname">insert_between</code><span class="sig-paren">(</span><em>left</em>, <em>right</em>, <em>text</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.xliff.UnknownXML.insert_between" title="Permalink to this definition">¶</a></dt>
<dd><p>Insert the given text between the two parameter <code class="docutils literal notranslate"><span class="pre">StringElem</span></code>s.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.xliff.UnknownXML.isleaf">
<code class="descname">isleaf</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.xliff.UnknownXML.isleaf" title="Permalink to this definition">¶</a></dt>
<dd><p>Whether or not this instance is a leaf node in the <code class="docutils literal notranslate"><span class="pre">StringElem</span></code> tree.</p>
<p>A node is a leaf node if it is a <code class="docutils literal notranslate"><span class="pre">StringElem</span></code> (not a sub-class) and
contains only sub-elements of type <code class="docutils literal notranslate"><span class="pre">str</span></code> or <code class="docutils literal notranslate"><span class="pre">unicode</span></code>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/2.7/library/functions.html#bool" title="(in Python v2.7)">bool</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.xliff.UnknownXML.iter_depth_first">
<code class="descname">iter_depth_first</code><span class="sig-paren">(</span><em>filter=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.xliff.UnknownXML.iter_depth_first" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterate through the nodes in the tree in dept-first order.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.xliff.UnknownXML.map">
<code class="descname">map</code><span class="sig-paren">(</span><em>f</em>, <em>filter=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.xliff.UnknownXML.map" title="Permalink to this definition">¶</a></dt>
<dd><p>Apply <code class="docutils literal notranslate"><span class="pre">f</span></code> to all nodes for which <code class="docutils literal notranslate"><span class="pre">filter</span></code> returned <code class="docutils literal notranslate"><span class="pre">True</span></code>
(optional).</p>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.placeables.xliff.UnknownXML.parse">
<em class="property">classmethod </em><code class="descname">parse</code><span class="sig-paren">(</span><em>pstr</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.xliff.UnknownXML.parse" title="Permalink to this definition">¶</a></dt>
<dd><p>Parse an instance of this class from the start of the given string.
This method should be implemented by any sub-class that wants to
parseable by <a class="reference internal" href="#module-translate.storage.placeables.parse" title="translate.storage.placeables.parse"><code class="xref py py-mod docutils literal notranslate"><span class="pre">translate.storage.placeables.parse</span></code></a>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>pstr</strong> (<em>unicode</em>) – The string to parse into an instance of this class.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">An instance of the current class, or <code class="docutils literal notranslate"><span class="pre">None</span></code> if the string
not parseable by this class.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.xliff.UnknownXML.print_tree">
<code class="descname">print_tree</code><span class="sig-paren">(</span><em>indent=0</em>, <em>verbose=False</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.xliff.UnknownXML.print_tree" title="Permalink to this definition">¶</a></dt>
<dd><p>Print the tree from the current instance’s point in an indented
manner.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.xliff.UnknownXML.prune">
<code class="descname">prune</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.xliff.UnknownXML.prune" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove unnecessary nodes to make the tree optimal.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.xliff.UnknownXML.remove_type">
<code class="descname">remove_type</code><span class="sig-paren">(</span><em>ptype</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.xliff.UnknownXML.remove_type" title="Permalink to this definition">¶</a></dt>
<dd><p>Replace nodes with type <code class="docutils literal notranslate"><span class="pre">ptype</span></code> with base <code class="docutils literal notranslate"><span class="pre">StringElem</span></code>s,
containing the same sub-elements. This is only applicable to elements
below the element tree root node.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.placeables.xliff.UnknownXML.translate">
<code class="descname">translate</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.placeables.xliff.UnknownXML.translate" title="Permalink to this definition">¶</a></dt>
<dd><p>Transform the sub-tree according to some class-specific needs.  This
method should be either overridden in implementing sub-classes or
dynamically replaced by specific applications.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The transformed Unicode string representing the sub-tree.</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
</div>
<div class="section" id="module-translate.storage.php">
<span id="php"></span><h2>php<a class="headerlink" href="#module-translate.storage.php" title="Permalink to this headline">¶</a></h2>
<p>Classes that hold units of PHP localisation files <a class="reference internal" href="#translate.storage.php.phpunit" title="translate.storage.php.phpunit"><code class="xref py py-class docutils literal notranslate"><span class="pre">phpunit</span></code></a> or
entire files <a class="reference internal" href="#translate.storage.php.phpfile" title="translate.storage.php.phpfile"><code class="xref py py-class docutils literal notranslate"><span class="pre">phpfile</span></code></a>. These files are used in translating many
PHP based applications.</p>
<p>Only PHP files written with these conventions are supported:</p>
<div class="highlight-php notranslate"><div class="highlight"><pre><span></span><span class="cp">&lt;?php</span>
<span class="nv">$lang</span><span class="p">[</span><span class="s1">&#39;item&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;vale&quot;</span><span class="p">;</span>  <span class="c1"># Array of values</span>
<span class="nv">$some_entity</span> <span class="o">=</span> <span class="s2">&quot;value&quot;</span><span class="p">;</span>  <span class="c1"># Named variables</span>
<span class="nb">define</span><span class="p">(</span><span class="s2">&quot;ENTITY&quot;</span><span class="p">,</span> <span class="s2">&quot;value&quot;</span><span class="p">);</span>
<span class="nv">$lang</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
   <span class="s1">&#39;item1&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;value1&#39;</span>    <span class="p">,</span>   <span class="c1">#Supports space before comma</span>
   <span class="s1">&#39;item2&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;value2&#39;</span><span class="p">,</span>
<span class="p">);</span>
<span class="nv">$lang</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>    <span class="c1"># Nested arrays</span>
   <span class="s1">&#39;item1&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;value1&#39;</span><span class="p">,</span>
   <span class="s1">&#39;item2&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
      <span class="s1">&#39;key&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;value&#39;</span>    <span class="p">,</span>   <span class="c1">#Supports space before comma</span>
      <span class="s1">&#39;key2&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;value2&#39;</span><span class="p">,</span>
   <span class="p">),</span>
<span class="p">);</span>
</pre></div>
</div>
<p>Nested arrays without key for nested array are not supported:</p>
<div class="highlight-php notranslate"><div class="highlight"><pre><span></span><span class="cp">&lt;?php</span>
<span class="nv">$lang</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span><span class="k">array</span><span class="p">(</span><span class="s1">&#39;key&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;value&#39;</span><span class="p">));</span>
</pre></div>
</div>
<p>The working of PHP strings and specifically the escaping conventions which
differ between single quote (‘) and double quote (“) characters are
implemented as outlined in the PHP documentation for the
<a class="reference external" href="http://www.php.net/language.types.string">String type</a>.</p>
<dl class="function">
<dt id="translate.storage.php.phpdecode">
<code class="descclassname">translate.storage.php.</code><code class="descname">phpdecode</code><span class="sig-paren">(</span><em>text</em>, <em>quotechar=u&quot;'&quot;</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.php.phpdecode" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert PHP escaped string to a Python string.</p>
</dd></dl>

<dl class="function">
<dt id="translate.storage.php.phpencode">
<code class="descclassname">translate.storage.php.</code><code class="descname">phpencode</code><span class="sig-paren">(</span><em>text</em>, <em>quotechar=u&quot;'&quot;</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.php.phpencode" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert Python string to PHP escaping.</p>
<p>The encoding is implemented for
<a class="reference external" href="http://www.php.net/manual/en/language.types.string.php#language.types.string.syntax.single">‘single quote’</a>
and <a class="reference external" href="http://www.php.net/manual/en/language.types.string.php#language.types.string.syntax.double">“double quote”</a>
syntax.</p>
<p>heredoc and nowdoc are not implemented and it is not certain whether this
would ever be needed for PHP localisation needs.</p>
</dd></dl>

<dl class="class">
<dt id="translate.storage.php.phpfile">
<em class="property">class </em><code class="descclassname">translate.storage.php.</code><code class="descname">phpfile</code><span class="sig-paren">(</span><em>inputfile=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.php.phpfile" title="Permalink to this definition">¶</a></dt>
<dd><p>This class represents a PHP file, made up of phpunits.</p>
<dl class="attribute">
<dt id="translate.storage.php.phpfile.UnitClass">
<code class="descname">UnitClass</code><a class="headerlink" href="#translate.storage.php.phpfile.UnitClass" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <a class="reference internal" href="#translate.storage.php.phpunit" title="translate.storage.php.phpunit"><code class="xref py py-class docutils literal notranslate"><span class="pre">phpunit</span></code></a></p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.php.phpfile.add_unit_to_index">
<code class="descname">add_unit_to_index</code><span class="sig-paren">(</span><em>unit</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.php.phpfile.add_unit_to_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a unit to source and location idexes</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.php.phpfile.addsourceunit">
<code class="descname">addsourceunit</code><span class="sig-paren">(</span><em>source</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.php.phpfile.addsourceunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Add and returns a new unit with the given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><code class="xref py py-class docutils literal notranslate"><span class="pre">TranslationUnit</span></code></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.php.phpfile.addunit">
<code class="descname">addunit</code><span class="sig-paren">(</span><em>unit</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.php.phpfile.addunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Append the given unit to the object’s list of units.</p>
<p>This method should always be used rather than trying to modify the
list manually.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>unit</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">TranslationUnit</span></code>) – The unit that will be added.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.php.phpfile.detect_encoding">
<code class="descname">detect_encoding</code><span class="sig-paren">(</span><em>text</em>, <em>default_encodings=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.php.phpfile.detect_encoding" title="Permalink to this definition">¶</a></dt>
<dd><p>Try to detect a file encoding from <cite>text</cite>, using either the chardet lib
or by trying to decode the file.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.php.phpfile.fallback_detection">
<code class="descname">fallback_detection</code><span class="sig-paren">(</span><em>text</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.php.phpfile.fallback_detection" title="Permalink to this definition">¶</a></dt>
<dd><p>Simple detection based on BOM in case chardet is not available.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.php.phpfile.findid">
<code class="descname">findid</code><span class="sig-paren">(</span><em>id</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.php.phpfile.findid" title="Permalink to this definition">¶</a></dt>
<dd><p>find unit with matching id by checking id_index</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.php.phpfile.findunit">
<code class="descname">findunit</code><span class="sig-paren">(</span><em>source</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.php.phpfile.findunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the unit with the given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><code class="xref py py-class docutils literal notranslate"><span class="pre">TranslationUnit</span></code> or None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.php.phpfile.findunits">
<code class="descname">findunits</code><span class="sig-paren">(</span><em>source</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.php.phpfile.findunits" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the units with the given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><code class="xref py py-class docutils literal notranslate"><span class="pre">TranslationUnit</span></code> or None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.php.phpfile.getids">
<code class="descname">getids</code><span class="sig-paren">(</span><em>filename=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.php.phpfile.getids" title="Permalink to this definition">¶</a></dt>
<dd><p>return a list of unit ids</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.php.phpfile.getprojectstyle">
<code class="descname">getprojectstyle</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.php.phpfile.getprojectstyle" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the project type for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.php.phpfile.getsourcelanguage">
<code class="descname">getsourcelanguage</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.php.phpfile.getsourcelanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the source language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.php.phpfile.gettargetlanguage">
<code class="descname">gettargetlanguage</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.php.phpfile.gettargetlanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the target language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.php.phpfile.getunits">
<code class="descname">getunits</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.php.phpfile.getunits" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of all units in this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.php.phpfile.isempty">
<code class="descname">isempty</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.php.phpfile.isempty" title="Permalink to this definition">¶</a></dt>
<dd><p>Return True if the object doesn’t contain any translation units.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.php.phpfile.makeindex">
<code class="descname">makeindex</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.php.phpfile.makeindex" title="Permalink to this definition">¶</a></dt>
<dd><p>Indexes the items in this store. At least .sourceindex should be
useful.</p>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.php.phpfile.merge_on">
<code class="descname">merge_on</code><a class="headerlink" href="#translate.storage.php.phpfile.merge_on" title="Permalink to this definition">¶</a></dt>
<dd><p>The matching criterion to use when merging on.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The default matching criterion for all the subclasses.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">string</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.php.phpfile.parse">
<code class="descname">parse</code><span class="sig-paren">(</span><em>phpsrc</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.php.phpfile.parse" title="Permalink to this definition">¶</a></dt>
<dd><p>Read the source of a PHP file in and include them as units.</p>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.php.phpfile.parsefile">
<em class="property">classmethod </em><code class="descname">parsefile</code><span class="sig-paren">(</span><em>storefile</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.php.phpfile.parsefile" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads the given file (or opens the given filename) and parses back
to an object.</p>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.php.phpfile.parsestring">
<em class="property">classmethod </em><code class="descname">parsestring</code><span class="sig-paren">(</span><em>storestring</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.php.phpfile.parsestring" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert the string representation back to an object.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.php.phpfile.remove_unit_from_index">
<code class="descname">remove_unit_from_index</code><span class="sig-paren">(</span><em>unit</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.php.phpfile.remove_unit_from_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove a unit from source and locaton indexes</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.php.phpfile.require_index">
<code class="descname">require_index</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.php.phpfile.require_index" title="Permalink to this definition">¶</a></dt>
<dd><p>make sure source index exists</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.php.phpfile.save">
<code class="descname">save</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.php.phpfile.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Save to the file that data was originally read from, if available.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.php.phpfile.savefile">
<code class="descname">savefile</code><span class="sig-paren">(</span><em>storefile</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.php.phpfile.savefile" title="Permalink to this definition">¶</a></dt>
<dd><p>Write the string representation to the given file (or filename).</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.php.phpfile.serialize">
<code class="descname">serialize</code><span class="sig-paren">(</span><em>out</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.php.phpfile.serialize" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert the units back to lines.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.php.phpfile.setprojectstyle">
<code class="descname">setprojectstyle</code><span class="sig-paren">(</span><em>project_style</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.php.phpfile.setprojectstyle" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the project type for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.php.phpfile.setsourcelanguage">
<code class="descname">setsourcelanguage</code><span class="sig-paren">(</span><em>sourcelanguage</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.php.phpfile.setsourcelanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the source language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.php.phpfile.settargetlanguage">
<code class="descname">settargetlanguage</code><span class="sig-paren">(</span><em>targetlanguage</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.php.phpfile.settargetlanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the target language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.php.phpfile.translate">
<code class="descname">translate</code><span class="sig-paren">(</span><em>source</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.php.phpfile.translate" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the translated string for a given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">String or <a class="reference external" href="https://docs.python.org/2.7/library/constants.html#None" title="(in Python v2.7)">None</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.php.phpfile.unit_iter">
<code class="descname">unit_iter</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.php.phpfile.unit_iter" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterator over all the units in this store.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="translate.storage.php.phpunit">
<em class="property">class </em><code class="descclassname">translate.storage.php.</code><code class="descname">phpunit</code><span class="sig-paren">(</span><em>source=u''</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.php.phpunit" title="Permalink to this definition">¶</a></dt>
<dd><p>A unit of a PHP file: a name, a value, and any comments associated.</p>
<dl class="method">
<dt id="translate.storage.php.phpunit.adderror">
<code class="descname">adderror</code><span class="sig-paren">(</span><em>errorname</em>, <em>errortext</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.php.phpunit.adderror" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds an error message to this unit.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>errorname</strong> (<em>string</em>) – A single word to id the error.</li>
<li><strong>errortext</strong> (<em>string</em>) – The text describing the error.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.php.phpunit.addlocation">
<code class="descname">addlocation</code><span class="sig-paren">(</span><em>location</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.php.phpunit.addlocation" title="Permalink to this definition">¶</a></dt>
<dd><p>Add one location to the list of locations.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Shouldn’t be implemented if the format doesn’t support it.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.php.phpunit.addlocations">
<code class="descname">addlocations</code><span class="sig-paren">(</span><em>location</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.php.phpunit.addlocations" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a location or a list of locations.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Most classes shouldn’t need to implement this, but should rather
implement <code class="xref py py-meth docutils literal notranslate"><span class="pre">TranslationUnit.addlocation()</span></code>.</p>
</div>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">This method might be removed in future.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.php.phpunit.addnote">
<code class="descname">addnote</code><span class="sig-paren">(</span><em>text</em>, <em>origin=None</em>, <em>position=u'append'</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.php.phpunit.addnote" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds a note (comment).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>text</strong> (<em>string</em>) – Usually just a sentence or two.</li>
<li><strong>origin</strong> (<em>string</em>) – Specifies who/where the comment comes from.
Origin can be one of the following text strings:
- ‘translator’
- ‘developer’, ‘programmer’, ‘source code’ (synonyms)</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.php.phpunit.buildfromunit">
<em class="property">classmethod </em><code class="descname">buildfromunit</code><span class="sig-paren">(</span><em>unit</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.php.phpunit.buildfromunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Build a native unit from a foreign unit, preserving as much
information as possible.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.php.phpunit.getcontext">
<code class="descname">getcontext</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.php.phpunit.getcontext" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the message context.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.php.phpunit.geterrors">
<code class="descname">geterrors</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.php.phpunit.geterrors" title="Permalink to this definition">¶</a></dt>
<dd><p>Get all error messages.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">Dictionary</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.php.phpunit.getid">
<code class="descname">getid</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.php.phpunit.getid" title="Permalink to this definition">¶</a></dt>
<dd><p>A unique identifier for this unit.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">string</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">an identifier for this unit that is unique in the store</td>
</tr>
</tbody>
</table>
<p>Derived classes should override this in a way that guarantees a unique
identifier for each unit in the store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.php.phpunit.getlocations">
<code class="descname">getlocations</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.php.phpunit.getlocations" title="Permalink to this definition">¶</a></dt>
<dd><p>A list of source code locations.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">List</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Shouldn’t be implemented if the format doesn’t support it.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.php.phpunit.getnotes">
<code class="descname">getnotes</code><span class="sig-paren">(</span><em>origin=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.php.phpunit.getnotes" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns all notes about this unit.</p>
<p>It will probably be freeform text or something reasonable that can be
synthesised by the format.
It should not include location comments (see
<a class="reference internal" href="#translate.storage.base.TranslationUnit.getlocations" title="translate.storage.base.TranslationUnit.getlocations"><code class="xref py py-meth docutils literal notranslate"><span class="pre">getlocations()</span></code></a>).</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.php.phpunit.getoutput">
<code class="descname">getoutput</code><span class="sig-paren">(</span><em>indent=u''</em>, <em>name=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.php.phpunit.getoutput" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert the unit back into formatted lines for a php file.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.php.phpunit.gettargetlen">
<code class="descname">gettargetlen</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.php.phpunit.gettargetlen" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the length of the target string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">Integer</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Plural forms might be combined.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.php.phpunit.getunits">
<code class="descname">getunits</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.php.phpunit.getunits" title="Permalink to this definition">¶</a></dt>
<dd><p>This unit in a list.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.php.phpunit.hasplural">
<code class="descname">hasplural</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.php.phpunit.hasplural" title="Permalink to this definition">¶</a></dt>
<dd><p>Tells whether or not this specific unit has plural strings.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.php.phpunit.infer_state">
<code class="descname">infer_state</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.php.phpunit.infer_state" title="Permalink to this definition">¶</a></dt>
<dd><p>Empty method that should be overridden in sub-classes to infer the
current state(_n) of the unit from its current state.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.php.phpunit.isblank">
<code class="descname">isblank</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.php.phpunit.isblank" title="Permalink to this definition">¶</a></dt>
<dd><p>Return whether this is a blank element, containing only comments.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.php.phpunit.isfuzzy">
<code class="descname">isfuzzy</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.php.phpunit.isfuzzy" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit is fuzzy.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.php.phpunit.isheader">
<code class="descname">isheader</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.php.phpunit.isheader" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit is a header.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.php.phpunit.isobsolete">
<code class="descname">isobsolete</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.php.phpunit.isobsolete" title="Permalink to this definition">¶</a></dt>
<dd><p>indicate whether a unit is obsolete</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.php.phpunit.isreview">
<code class="descname">isreview</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.php.phpunit.isreview" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit needs review.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.php.phpunit.istranslatable">
<code class="descname">istranslatable</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.php.phpunit.istranslatable" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit can be translated.</p>
<p>This should be used to distinguish real units for translation from
header, obsolete, binary or other blank units.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.php.phpunit.istranslated">
<code class="descname">istranslated</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.php.phpunit.istranslated" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit is translated.</p>
<p>This should be used rather than deducing it from .target,
to ensure that other classes can implement more functionality
(as XLIFF does).</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.php.phpunit.makeobsolete">
<code class="descname">makeobsolete</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.php.phpunit.makeobsolete" title="Permalink to this definition">¶</a></dt>
<dd><p>Make a unit obsolete</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.php.phpunit.markfuzzy">
<code class="descname">markfuzzy</code><span class="sig-paren">(</span><em>value=True</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.php.phpunit.markfuzzy" title="Permalink to this definition">¶</a></dt>
<dd><p>Marks the unit as fuzzy or not.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.php.phpunit.markreviewneeded">
<code class="descname">markreviewneeded</code><span class="sig-paren">(</span><em>needsreview=True</em>, <em>explanation=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.php.phpunit.markreviewneeded" title="Permalink to this definition">¶</a></dt>
<dd><p>Marks the unit to indicate whether it needs review.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>needsreview</strong> – Defaults to True.</li>
<li><strong>explanation</strong> – Adds an optional explanation as a note.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.php.phpunit.merge">
<code class="descname">merge</code><span class="sig-paren">(</span><em>otherunit</em>, <em>overwrite=False</em>, <em>comments=True</em>, <em>authoritative=False</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.php.phpunit.merge" title="Permalink to this definition">¶</a></dt>
<dd><p>Do basic format agnostic merging.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.php.phpunit.multistring_to_rich">
<code class="descname">multistring_to_rich</code><span class="sig-paren">(</span><em>mulstring</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.php.phpunit.multistring_to_rich" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a multistring to a list of “rich” string trees:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">target</span> <span class="o">=</span> <span class="n">multistring</span><span class="p">([</span><span class="sa">u</span><span class="s1">&#39;foo&#39;</span><span class="p">,</span> <span class="sa">u</span><span class="s1">&#39;bar&#39;</span><span class="p">,</span> <span class="sa">u</span><span class="s1">&#39;baz&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">TranslationUnit</span><span class="o">.</span><span class="n">multistring_to_rich</span><span class="p">(</span><span class="n">target</span><span class="p">)</span>
<span class="go">[&lt;StringElem([&lt;StringElem([u&#39;foo&#39;])&gt;])&gt;,</span>
<span class="go"> &lt;StringElem([&lt;StringElem([u&#39;bar&#39;])&gt;])&gt;,</span>
<span class="go"> &lt;StringElem([&lt;StringElem([u&#39;baz&#39;])&gt;])&gt;]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.php.phpunit.removenotes">
<code class="descname">removenotes</code><span class="sig-paren">(</span><em>origin=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.php.phpunit.removenotes" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove all the translator’s notes.</p>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.php.phpunit.rich_source">
<code class="descname">rich_source</code><a class="headerlink" href="#translate.storage.php.phpunit.rich_source" title="Permalink to this definition">¶</a></dt>
<dd><div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="#translate.storage.php.phpunit.rich_to_multistring" title="translate.storage.php.phpunit.rich_to_multistring"><code class="xref py py-meth docutils literal notranslate"><span class="pre">rich_to_multistring()</span></code></a>, <a class="reference internal" href="#translate.storage.php.phpunit.multistring_to_rich" title="translate.storage.php.phpunit.multistring_to_rich"><code class="xref py py-meth docutils literal notranslate"><span class="pre">multistring_to_rich()</span></code></a></p>
</div>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.php.phpunit.rich_target">
<code class="descname">rich_target</code><a class="headerlink" href="#translate.storage.php.phpunit.rich_target" title="Permalink to this definition">¶</a></dt>
<dd><div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="#translate.storage.php.phpunit.rich_to_multistring" title="translate.storage.php.phpunit.rich_to_multistring"><code class="xref py py-meth docutils literal notranslate"><span class="pre">rich_to_multistring()</span></code></a>, <a class="reference internal" href="#translate.storage.php.phpunit.multistring_to_rich" title="translate.storage.php.phpunit.multistring_to_rich"><code class="xref py py-meth docutils literal notranslate"><span class="pre">multistring_to_rich()</span></code></a></p>
</div>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.php.phpunit.rich_to_multistring">
<em class="property">classmethod </em><code class="descname">rich_to_multistring</code><span class="sig-paren">(</span><em>elem_list</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.php.phpunit.rich_to_multistring" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a “rich” string tree to a <code class="docutils literal notranslate"><span class="pre">multistring</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">translate.storage.placeables.interfaces</span> <span class="kn">import</span> <span class="n">X</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rich</span> <span class="o">=</span> <span class="p">[</span><span class="n">StringElem</span><span class="p">([</span><span class="s1">&#39;foo&#39;</span><span class="p">,</span> <span class="n">X</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="s1">&#39;xxx&#39;</span><span class="p">,</span> <span class="n">sub</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39; &#39;</span><span class="p">]),</span> <span class="s1">&#39;bar&#39;</span><span class="p">])]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">TranslationUnit</span><span class="o">.</span><span class="n">rich_to_multistring</span><span class="p">(</span><span class="n">rich</span><span class="p">)</span>
<span class="go">multistring(u&#39;foo bar&#39;)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.php.phpunit.setcontext">
<code class="descname">setcontext</code><span class="sig-paren">(</span><em>context</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.php.phpunit.setcontext" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the message context</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.php.phpunit.setid">
<code class="descname">setid</code><span class="sig-paren">(</span><em>value</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.php.phpunit.setid" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the unique identified for this unit.</p>
<p>only implemented if format allows ids independant from other unit
properties like source or context</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.php.phpunit.unit_iter">
<code class="descname">unit_iter</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.php.phpunit.unit_iter" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterator that only returns this unit.</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="translate.storage.php.wrap_production">
<code class="descclassname">translate.storage.php.</code><code class="descname">wrap_production</code><span class="sig-paren">(</span><em>func</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.php.wrap_production" title="Permalink to this definition">¶</a></dt>
<dd><p>Decorator for production functions to store lexer positions.</p>
</dd></dl>

</div>
<div class="section" id="module-translate.storage.pocommon">
<span id="pocommon"></span><h2>pocommon<a class="headerlink" href="#module-translate.storage.pocommon" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="translate.storage.pocommon.extract_msgid_comment">
<code class="descclassname">translate.storage.pocommon.</code><code class="descname">extract_msgid_comment</code><span class="sig-paren">(</span><em>text</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.pocommon.extract_msgid_comment" title="Permalink to this definition">¶</a></dt>
<dd><p>The one definitive way to extract a msgid comment out of an unescaped
unicode string that might contain it.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">unicode</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="class">
<dt id="translate.storage.pocommon.pofile">
<em class="property">class </em><code class="descclassname">translate.storage.pocommon.</code><code class="descname">pofile</code><span class="sig-paren">(</span><em>inputfile=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.pocommon.pofile" title="Permalink to this definition">¶</a></dt>
<dd><dl class="attribute">
<dt id="translate.storage.pocommon.pofile.UnitClass">
<code class="descname">UnitClass</code><a class="headerlink" href="#translate.storage.pocommon.pofile.UnitClass" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <a class="reference internal" href="#translate.storage.base.TranslationUnit" title="translate.storage.base.TranslationUnit"><code class="xref py py-class docutils literal notranslate"><span class="pre">translate.storage.base.TranslationUnit</span></code></a></p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.pocommon.pofile.add_unit_to_index">
<code class="descname">add_unit_to_index</code><span class="sig-paren">(</span><em>unit</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.pocommon.pofile.add_unit_to_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a unit to source and location idexes</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.pocommon.pofile.addsourceunit">
<code class="descname">addsourceunit</code><span class="sig-paren">(</span><em>source</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.pocommon.pofile.addsourceunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Add and returns a new unit with the given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><code class="xref py py-class docutils literal notranslate"><span class="pre">TranslationUnit</span></code></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.pocommon.pofile.addunit">
<code class="descname">addunit</code><span class="sig-paren">(</span><em>unit</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.pocommon.pofile.addunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Append the given unit to the object’s list of units.</p>
<p>This method should always be used rather than trying to modify the
list manually.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>unit</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">TranslationUnit</span></code>) – The unit that will be added.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.pocommon.pofile.detect_encoding">
<code class="descname">detect_encoding</code><span class="sig-paren">(</span><em>text</em>, <em>default_encodings=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.pocommon.pofile.detect_encoding" title="Permalink to this definition">¶</a></dt>
<dd><p>Try to detect a file encoding from <cite>text</cite>, using either the chardet lib
or by trying to decode the file.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.pocommon.pofile.fallback_detection">
<code class="descname">fallback_detection</code><span class="sig-paren">(</span><em>text</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.pocommon.pofile.fallback_detection" title="Permalink to this definition">¶</a></dt>
<dd><p>Simple detection based on BOM in case chardet is not available.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.pocommon.pofile.findid">
<code class="descname">findid</code><span class="sig-paren">(</span><em>id</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.pocommon.pofile.findid" title="Permalink to this definition">¶</a></dt>
<dd><p>find unit with matching id by checking id_index</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.pocommon.pofile.findunit">
<code class="descname">findunit</code><span class="sig-paren">(</span><em>source</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.pocommon.pofile.findunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the unit with the given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><code class="xref py py-class docutils literal notranslate"><span class="pre">TranslationUnit</span></code> or None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.pocommon.pofile.findunits">
<code class="descname">findunits</code><span class="sig-paren">(</span><em>source</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.pocommon.pofile.findunits" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the units with the given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><code class="xref py py-class docutils literal notranslate"><span class="pre">TranslationUnit</span></code> or None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.pocommon.pofile.getheaderplural">
<code class="descname">getheaderplural</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.pocommon.pofile.getheaderplural" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the nplural and plural values from the header.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.pocommon.pofile.getids">
<code class="descname">getids</code><span class="sig-paren">(</span><em>filename=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.pocommon.pofile.getids" title="Permalink to this definition">¶</a></dt>
<dd><p>return a list of unit ids</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.pocommon.pofile.getprojectstyle">
<code class="descname">getprojectstyle</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.pocommon.pofile.getprojectstyle" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the project based on information in the header.</p>
<dl class="docutils">
<dt>The project is determined in the following sequence:</dt>
<dd><ol class="first last arabic simple">
<li>Use the ‘X-Project-Style’ entry in the header.</li>
<li>Use ‘Report-Msgid-Bug-To’ entry</li>
<li>Use the ‘X-Accelerator’ entry</li>
<li>Use the Project ID</li>
<li>Analyse the file itself (not yet implemented)</li>
</ol>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="translate.storage.pocommon.pofile.getsourcelanguage">
<code class="descname">getsourcelanguage</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.pocommon.pofile.getsourcelanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the source language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.pocommon.pofile.gettargetlanguage">
<code class="descname">gettargetlanguage</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.pocommon.pofile.gettargetlanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the target language based on information in the header.</p>
<dl class="docutils">
<dt>The target language is determined in the following sequence:</dt>
<dd><ol class="first last arabic simple">
<li>Use the ‘Language’ entry in the header.</li>
<li>Poedit’s custom headers.</li>
<li>Analysing the ‘Language-Team’ entry.</li>
</ol>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="translate.storage.pocommon.pofile.getunits">
<code class="descname">getunits</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.pocommon.pofile.getunits" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of all units in this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.pocommon.pofile.header">
<code class="descname">header</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.pocommon.pofile.header" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the header element, or None. Only the first element is
allowed to be a header. Note that this could still return an empty
header element, if present.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.pocommon.pofile.init_headers">
<code class="descname">init_headers</code><span class="sig-paren">(</span><em>charset='UTF-8'</em>, <em>encoding='8bit'</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.pocommon.pofile.init_headers" title="Permalink to this definition">¶</a></dt>
<dd><p>sets default values for po headers</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.pocommon.pofile.isempty">
<code class="descname">isempty</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.pocommon.pofile.isempty" title="Permalink to this definition">¶</a></dt>
<dd><p>Return True if the object doesn’t contain any translation units.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.pocommon.pofile.makeheader">
<code class="descname">makeheader</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.pocommon.pofile.makeheader" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a header for the given filename.</p>
<p>Check .makeheaderdict() for information on parameters.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.pocommon.pofile.makeheaderdict">
<code class="descname">makeheaderdict</code><span class="sig-paren">(</span><em>charset='CHARSET'</em>, <em>encoding='ENCODING'</em>, <em>project_id_version=None</em>, <em>pot_creation_date=None</em>, <em>po_revision_date=None</em>, <em>last_translator=None</em>, <em>language_team=None</em>, <em>mime_version=None</em>, <em>plural_forms=None</em>, <em>report_msgid_bugs_to=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.pocommon.pofile.makeheaderdict" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a header dictionary with useful defaults.</p>
<p>pot_creation_date can be None (current date) or a value (datetime or string)
po_revision_date can be None (form), False (=pot_creation_date), True (=now),
or a value (datetime or string)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">Dictionary with the header items</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">dict of strings</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.pocommon.pofile.makeindex">
<code class="descname">makeindex</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.pocommon.pofile.makeindex" title="Permalink to this definition">¶</a></dt>
<dd><p>Indexes the items in this store. At least .sourceindex should be
useful.</p>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.pocommon.pofile.merge_on">
<code class="descname">merge_on</code><a class="headerlink" href="#translate.storage.pocommon.pofile.merge_on" title="Permalink to this definition">¶</a></dt>
<dd><p>The matching criterion to use when merging on.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.pocommon.pofile.mergeheaders">
<code class="descname">mergeheaders</code><span class="sig-paren">(</span><em>otherstore</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.pocommon.pofile.mergeheaders" title="Permalink to this definition">¶</a></dt>
<dd><p>Merges another header with this header.</p>
<p>This header is assumed to be the template.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.pocommon.pofile.parse">
<code class="descname">parse</code><span class="sig-paren">(</span><em>data</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.pocommon.pofile.parse" title="Permalink to this definition">¶</a></dt>
<dd><p>parser to process the given source string</p>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.pocommon.pofile.parsefile">
<em class="property">classmethod </em><code class="descname">parsefile</code><span class="sig-paren">(</span><em>storefile</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.pocommon.pofile.parsefile" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads the given file (or opens the given filename) and parses back
to an object.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.pocommon.pofile.parseheader">
<code class="descname">parseheader</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.pocommon.pofile.parseheader" title="Permalink to this definition">¶</a></dt>
<dd><p>Parses the PO header and returns the interpreted values as a
dictionary.</p>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.pocommon.pofile.parsestring">
<em class="property">classmethod </em><code class="descname">parsestring</code><span class="sig-paren">(</span><em>storestring</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.pocommon.pofile.parsestring" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert the string representation back to an object.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.pocommon.pofile.remove_unit_from_index">
<code class="descname">remove_unit_from_index</code><span class="sig-paren">(</span><em>unit</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.pocommon.pofile.remove_unit_from_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove a unit from source and locaton indexes</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.pocommon.pofile.require_index">
<code class="descname">require_index</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.pocommon.pofile.require_index" title="Permalink to this definition">¶</a></dt>
<dd><p>make sure source index exists</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.pocommon.pofile.save">
<code class="descname">save</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.pocommon.pofile.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Save to the file that data was originally read from, if available.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.pocommon.pofile.savefile">
<code class="descname">savefile</code><span class="sig-paren">(</span><em>storefile</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.pocommon.pofile.savefile" title="Permalink to this definition">¶</a></dt>
<dd><p>Write the string representation to the given file (or filename).</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.pocommon.pofile.serialize">
<code class="descname">serialize</code><span class="sig-paren">(</span><em>out</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.pocommon.pofile.serialize" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts to a bytes representation that can be parsed back using
<a class="reference internal" href="#translate.storage.base.TranslationStore.parsestring" title="translate.storage.base.TranslationStore.parsestring"><code class="xref py py-meth docutils literal notranslate"><span class="pre">parsestring()</span></code></a>.
<cite>out</cite> should be an open file-like objects to write to.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.pocommon.pofile.setprojectstyle">
<code class="descname">setprojectstyle</code><span class="sig-paren">(</span><em>project_style</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.pocommon.pofile.setprojectstyle" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the project in the header.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>project_style</strong> (<a class="reference external" href="https://docs.python.org/2.7/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) – the new project</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.pocommon.pofile.setsourcelanguage">
<code class="descname">setsourcelanguage</code><span class="sig-paren">(</span><em>sourcelanguage</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.pocommon.pofile.setsourcelanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the source language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.pocommon.pofile.settargetlanguage">
<code class="descname">settargetlanguage</code><span class="sig-paren">(</span><em>lang</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.pocommon.pofile.settargetlanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the target language in the header.</p>
<p>This removes any custom Poedit headers if they exist.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>lang</strong> (<a class="reference external" href="https://docs.python.org/2.7/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) – the new target language code</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.pocommon.pofile.translate">
<code class="descname">translate</code><span class="sig-paren">(</span><em>source</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.pocommon.pofile.translate" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the translated string for a given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">String or <a class="reference external" href="https://docs.python.org/2.7/library/constants.html#None" title="(in Python v2.7)">None</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.pocommon.pofile.unit_iter">
<code class="descname">unit_iter</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.pocommon.pofile.unit_iter" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterator over all the units in this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.pocommon.pofile.updatecontributor">
<code class="descname">updatecontributor</code><span class="sig-paren">(</span><em>name</em>, <em>email=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.pocommon.pofile.updatecontributor" title="Permalink to this definition">¶</a></dt>
<dd><p>Add contribution comments if necessary.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.pocommon.pofile.updateheader">
<code class="descname">updateheader</code><span class="sig-paren">(</span><em>add=False</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.pocommon.pofile.updateheader" title="Permalink to this definition">¶</a></dt>
<dd><p>Updates the fields in the PO style header.</p>
<p>This will create a header if add == True.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.pocommon.pofile.updateheaderplural">
<code class="descname">updateheaderplural</code><span class="sig-paren">(</span><em>nplurals</em>, <em>plural</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.pocommon.pofile.updateheaderplural" title="Permalink to this definition">¶</a></dt>
<dd><p>Update the Plural-Form PO header.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="translate.storage.pocommon.pounit">
<em class="property">class </em><code class="descclassname">translate.storage.pocommon.</code><code class="descname">pounit</code><span class="sig-paren">(</span><em>source=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.pocommon.pounit" title="Permalink to this definition">¶</a></dt>
<dd><dl class="method">
<dt id="translate.storage.pocommon.pounit.adderror">
<code class="descname">adderror</code><span class="sig-paren">(</span><em>errorname</em>, <em>errortext</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.pocommon.pounit.adderror" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds an error message to this unit.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.pocommon.pounit.addlocation">
<code class="descname">addlocation</code><span class="sig-paren">(</span><em>location</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.pocommon.pounit.addlocation" title="Permalink to this definition">¶</a></dt>
<dd><p>Add one location to the list of locations.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Shouldn’t be implemented if the format doesn’t support it.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.pocommon.pounit.addlocations">
<code class="descname">addlocations</code><span class="sig-paren">(</span><em>location</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.pocommon.pounit.addlocations" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a location or a list of locations.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Most classes shouldn’t need to implement this, but should rather
implement <code class="xref py py-meth docutils literal notranslate"><span class="pre">TranslationUnit.addlocation()</span></code>.</p>
</div>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">This method might be removed in future.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.pocommon.pounit.addnote">
<code class="descname">addnote</code><span class="sig-paren">(</span><em>text</em>, <em>origin=None</em>, <em>position='append'</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.pocommon.pounit.addnote" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds a note (comment).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>text</strong> (<em>string</em>) – Usually just a sentence or two.</li>
<li><strong>origin</strong> (<em>string</em>) – Specifies who/where the comment comes from.
Origin can be one of the following text strings:
- ‘translator’
- ‘developer’, ‘programmer’, ‘source code’ (synonyms)</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.pocommon.pounit.buildfromunit">
<em class="property">classmethod </em><code class="descname">buildfromunit</code><span class="sig-paren">(</span><em>unit</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.pocommon.pounit.buildfromunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Build a native unit from a foreign unit, preserving as much
information as possible.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.pocommon.pounit.getcontext">
<code class="descname">getcontext</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.pocommon.pounit.getcontext" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the message context.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.pocommon.pounit.geterrors">
<code class="descname">geterrors</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.pocommon.pounit.geterrors" title="Permalink to this definition">¶</a></dt>
<dd><p>Get all error messages.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.pocommon.pounit.getid">
<code class="descname">getid</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.pocommon.pounit.getid" title="Permalink to this definition">¶</a></dt>
<dd><p>A unique identifier for this unit.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">string</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">an identifier for this unit that is unique in the store</td>
</tr>
</tbody>
</table>
<p>Derived classes should override this in a way that guarantees a unique
identifier for each unit in the store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.pocommon.pounit.getlocations">
<code class="descname">getlocations</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.pocommon.pounit.getlocations" title="Permalink to this definition">¶</a></dt>
<dd><p>A list of source code locations.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">List</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Shouldn’t be implemented if the format doesn’t support it.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.pocommon.pounit.getnotes">
<code class="descname">getnotes</code><span class="sig-paren">(</span><em>origin=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.pocommon.pounit.getnotes" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns all notes about this unit.</p>
<p>It will probably be freeform text or something reasonable that can be
synthesised by the format.
It should not include location comments (see
<a class="reference internal" href="#translate.storage.base.TranslationUnit.getlocations" title="translate.storage.base.TranslationUnit.getlocations"><code class="xref py py-meth docutils literal notranslate"><span class="pre">getlocations()</span></code></a>).</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.pocommon.pounit.gettargetlen">
<code class="descname">gettargetlen</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.pocommon.pounit.gettargetlen" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the length of the target string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">Integer</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Plural forms might be combined.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.pocommon.pounit.getunits">
<code class="descname">getunits</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.pocommon.pounit.getunits" title="Permalink to this definition">¶</a></dt>
<dd><p>This unit in a list.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.pocommon.pounit.hasplural">
<code class="descname">hasplural</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.pocommon.pounit.hasplural" title="Permalink to this definition">¶</a></dt>
<dd><p>Tells whether or not this specific unit has plural strings.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.pocommon.pounit.infer_state">
<code class="descname">infer_state</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.pocommon.pounit.infer_state" title="Permalink to this definition">¶</a></dt>
<dd><p>Empty method that should be overridden in sub-classes to infer the
current state(_n) of the unit from its current state.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.pocommon.pounit.isblank">
<code class="descname">isblank</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.pocommon.pounit.isblank" title="Permalink to this definition">¶</a></dt>
<dd><p>Used to see if this unit has no source or target string.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This is probably used more to find translatable units,
and we might want to move in that direction rather and
get rid of this.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.pocommon.pounit.isfuzzy">
<code class="descname">isfuzzy</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.pocommon.pounit.isfuzzy" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit is fuzzy.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.pocommon.pounit.isheader">
<code class="descname">isheader</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.pocommon.pounit.isheader" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit is a header.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.pocommon.pounit.isobsolete">
<code class="descname">isobsolete</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.pocommon.pounit.isobsolete" title="Permalink to this definition">¶</a></dt>
<dd><p>indicate whether a unit is obsolete</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.pocommon.pounit.isreview">
<code class="descname">isreview</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.pocommon.pounit.isreview" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit needs review.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.pocommon.pounit.istranslatable">
<code class="descname">istranslatable</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.pocommon.pounit.istranslatable" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit can be translated.</p>
<p>This should be used to distinguish real units for translation from
header, obsolete, binary or other blank units.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.pocommon.pounit.istranslated">
<code class="descname">istranslated</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.pocommon.pounit.istranslated" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit is translated.</p>
<p>This should be used rather than deducing it from .target,
to ensure that other classes can implement more functionality
(as XLIFF does).</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.pocommon.pounit.makeobsolete">
<code class="descname">makeobsolete</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.pocommon.pounit.makeobsolete" title="Permalink to this definition">¶</a></dt>
<dd><p>Make a unit obsolete</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.pocommon.pounit.markfuzzy">
<code class="descname">markfuzzy</code><span class="sig-paren">(</span><em>present=True</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.pocommon.pounit.markfuzzy" title="Permalink to this definition">¶</a></dt>
<dd><p>Marks the unit as fuzzy or not.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.pocommon.pounit.markreviewneeded">
<code class="descname">markreviewneeded</code><span class="sig-paren">(</span><em>needsreview=True</em>, <em>explanation=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.pocommon.pounit.markreviewneeded" title="Permalink to this definition">¶</a></dt>
<dd><p>Marks the unit to indicate whether it needs review. Adds an optional explanation as a note.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.pocommon.pounit.merge">
<code class="descname">merge</code><span class="sig-paren">(</span><em>otherunit</em>, <em>overwrite=False</em>, <em>comments=True</em>, <em>authoritative=False</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.pocommon.pounit.merge" title="Permalink to this definition">¶</a></dt>
<dd><p>Do basic format agnostic merging.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.pocommon.pounit.multistring_to_rich">
<code class="descname">multistring_to_rich</code><span class="sig-paren">(</span><em>mulstring</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.pocommon.pounit.multistring_to_rich" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a multistring to a list of “rich” string trees:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">target</span> <span class="o">=</span> <span class="n">multistring</span><span class="p">([</span><span class="sa">u</span><span class="s1">&#39;foo&#39;</span><span class="p">,</span> <span class="sa">u</span><span class="s1">&#39;bar&#39;</span><span class="p">,</span> <span class="sa">u</span><span class="s1">&#39;baz&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">TranslationUnit</span><span class="o">.</span><span class="n">multistring_to_rich</span><span class="p">(</span><span class="n">target</span><span class="p">)</span>
<span class="go">[&lt;StringElem([&lt;StringElem([u&#39;foo&#39;])&gt;])&gt;,</span>
<span class="go"> &lt;StringElem([&lt;StringElem([u&#39;bar&#39;])&gt;])&gt;,</span>
<span class="go"> &lt;StringElem([&lt;StringElem([u&#39;baz&#39;])&gt;])&gt;]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.pocommon.pounit.removenotes">
<code class="descname">removenotes</code><span class="sig-paren">(</span><em>origin=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.pocommon.pounit.removenotes" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove all the translator’s notes.</p>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.pocommon.pounit.rich_source">
<code class="descname">rich_source</code><a class="headerlink" href="#translate.storage.pocommon.pounit.rich_source" title="Permalink to this definition">¶</a></dt>
<dd><div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="#translate.storage.pocommon.pounit.rich_to_multistring" title="translate.storage.pocommon.pounit.rich_to_multistring"><code class="xref py py-meth docutils literal notranslate"><span class="pre">rich_to_multistring()</span></code></a>, <a class="reference internal" href="#translate.storage.pocommon.pounit.multistring_to_rich" title="translate.storage.pocommon.pounit.multistring_to_rich"><code class="xref py py-meth docutils literal notranslate"><span class="pre">multistring_to_rich()</span></code></a></p>
</div>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.pocommon.pounit.rich_target">
<code class="descname">rich_target</code><a class="headerlink" href="#translate.storage.pocommon.pounit.rich_target" title="Permalink to this definition">¶</a></dt>
<dd><div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="#translate.storage.pocommon.pounit.rich_to_multistring" title="translate.storage.pocommon.pounit.rich_to_multistring"><code class="xref py py-meth docutils literal notranslate"><span class="pre">rich_to_multistring()</span></code></a>, <a class="reference internal" href="#translate.storage.pocommon.pounit.multistring_to_rich" title="translate.storage.pocommon.pounit.multistring_to_rich"><code class="xref py py-meth docutils literal notranslate"><span class="pre">multistring_to_rich()</span></code></a></p>
</div>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.pocommon.pounit.rich_to_multistring">
<em class="property">classmethod </em><code class="descname">rich_to_multistring</code><span class="sig-paren">(</span><em>elem_list</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.pocommon.pounit.rich_to_multistring" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a “rich” string tree to a <code class="docutils literal notranslate"><span class="pre">multistring</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">translate.storage.placeables.interfaces</span> <span class="kn">import</span> <span class="n">X</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rich</span> <span class="o">=</span> <span class="p">[</span><span class="n">StringElem</span><span class="p">([</span><span class="s1">&#39;foo&#39;</span><span class="p">,</span> <span class="n">X</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="s1">&#39;xxx&#39;</span><span class="p">,</span> <span class="n">sub</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39; &#39;</span><span class="p">]),</span> <span class="s1">&#39;bar&#39;</span><span class="p">])]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">TranslationUnit</span><span class="o">.</span><span class="n">rich_to_multistring</span><span class="p">(</span><span class="n">rich</span><span class="p">)</span>
<span class="go">multistring(u&#39;foo bar&#39;)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.pocommon.pounit.setcontext">
<code class="descname">setcontext</code><span class="sig-paren">(</span><em>context</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.pocommon.pounit.setcontext" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the message context</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.pocommon.pounit.setid">
<code class="descname">setid</code><span class="sig-paren">(</span><em>value</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.pocommon.pounit.setid" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the unique identified for this unit.</p>
<p>only implemented if format allows ids independant from other unit
properties like source or context</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.pocommon.pounit.unit_iter">
<code class="descname">unit_iter</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.pocommon.pounit.unit_iter" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterator that only returns this unit.</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="translate.storage.pocommon.quote_plus">
<code class="descclassname">translate.storage.pocommon.</code><code class="descname">quote_plus</code><span class="sig-paren">(</span><em>text</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.pocommon.quote_plus" title="Permalink to this definition">¶</a></dt>
<dd><p>Quote the query fragment of a URL; replacing ‘ ‘ with ‘+’</p>
</dd></dl>

<dl class="function">
<dt id="translate.storage.pocommon.unquote_plus">
<code class="descclassname">translate.storage.pocommon.</code><code class="descname">unquote_plus</code><span class="sig-paren">(</span><em>text</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.pocommon.unquote_plus" title="Permalink to this definition">¶</a></dt>
<dd><p>unquote(‘%7e/abc+def’) -&gt; ‘~/abc def’</p>
</dd></dl>

</div>
<div class="section" id="module-translate.storage.poheader">
<span id="poheader"></span><h2>poheader<a class="headerlink" href="#module-translate.storage.poheader" title="Permalink to this headline">¶</a></h2>
<p>class that handles all header functions for a header in a po file</p>
<dl class="function">
<dt id="translate.storage.poheader.parseheaderstring">
<code class="descclassname">translate.storage.poheader.</code><code class="descname">parseheaderstring</code><span class="sig-paren">(</span><em>input</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.poheader.parseheaderstring" title="Permalink to this definition">¶</a></dt>
<dd><p>Parses an input string with the definition of a PO header and returns
the interpreted values as a dictionary.</p>
</dd></dl>

<dl class="class">
<dt id="translate.storage.poheader.poheader">
<em class="property">class </em><code class="descclassname">translate.storage.poheader.</code><code class="descname">poheader</code><a class="headerlink" href="#translate.storage.poheader.poheader" title="Permalink to this definition">¶</a></dt>
<dd><p>This class implements functionality for manipulation of po file headers.
This class is a mix-in class and useless on its own. It must be used from
all classes which represent a po file</p>
<dl class="method">
<dt id="translate.storage.poheader.poheader.getheaderplural">
<code class="descname">getheaderplural</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.poheader.poheader.getheaderplural" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the nplural and plural values from the header.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.poheader.poheader.getprojectstyle">
<code class="descname">getprojectstyle</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.poheader.poheader.getprojectstyle" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the project based on information in the header.</p>
<dl class="docutils">
<dt>The project is determined in the following sequence:</dt>
<dd><ol class="first last arabic simple">
<li>Use the ‘X-Project-Style’ entry in the header.</li>
<li>Use ‘Report-Msgid-Bug-To’ entry</li>
<li>Use the ‘X-Accelerator’ entry</li>
<li>Use the Project ID</li>
<li>Analyse the file itself (not yet implemented)</li>
</ol>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="translate.storage.poheader.poheader.gettargetlanguage">
<code class="descname">gettargetlanguage</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.poheader.poheader.gettargetlanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the target language based on information in the header.</p>
<dl class="docutils">
<dt>The target language is determined in the following sequence:</dt>
<dd><ol class="first last arabic simple">
<li>Use the ‘Language’ entry in the header.</li>
<li>Poedit’s custom headers.</li>
<li>Analysing the ‘Language-Team’ entry.</li>
</ol>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="translate.storage.poheader.poheader.header">
<code class="descname">header</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.poheader.poheader.header" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the header element, or None. Only the first element is
allowed to be a header. Note that this could still return an empty
header element, if present.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.poheader.poheader.init_headers">
<code class="descname">init_headers</code><span class="sig-paren">(</span><em>charset='UTF-8'</em>, <em>encoding='8bit'</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.poheader.poheader.init_headers" title="Permalink to this definition">¶</a></dt>
<dd><p>sets default values for po headers</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.poheader.poheader.makeheader">
<code class="descname">makeheader</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.poheader.poheader.makeheader" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a header for the given filename.</p>
<p>Check .makeheaderdict() for information on parameters.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.poheader.poheader.makeheaderdict">
<code class="descname">makeheaderdict</code><span class="sig-paren">(</span><em>charset='CHARSET'</em>, <em>encoding='ENCODING'</em>, <em>project_id_version=None</em>, <em>pot_creation_date=None</em>, <em>po_revision_date=None</em>, <em>last_translator=None</em>, <em>language_team=None</em>, <em>mime_version=None</em>, <em>plural_forms=None</em>, <em>report_msgid_bugs_to=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.poheader.poheader.makeheaderdict" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a header dictionary with useful defaults.</p>
<p>pot_creation_date can be None (current date) or a value (datetime or string)
po_revision_date can be None (form), False (=pot_creation_date), True (=now),
or a value (datetime or string)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">Dictionary with the header items</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">dict of strings</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.poheader.poheader.mergeheaders">
<code class="descname">mergeheaders</code><span class="sig-paren">(</span><em>otherstore</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.poheader.poheader.mergeheaders" title="Permalink to this definition">¶</a></dt>
<dd><p>Merges another header with this header.</p>
<p>This header is assumed to be the template.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.poheader.poheader.parseheader">
<code class="descname">parseheader</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.poheader.poheader.parseheader" title="Permalink to this definition">¶</a></dt>
<dd><p>Parses the PO header and returns the interpreted values as a
dictionary.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.poheader.poheader.setprojectstyle">
<code class="descname">setprojectstyle</code><span class="sig-paren">(</span><em>project_style</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.poheader.poheader.setprojectstyle" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the project in the header.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>project_style</strong> (<a class="reference external" href="https://docs.python.org/2.7/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) – the new project</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.poheader.poheader.settargetlanguage">
<code class="descname">settargetlanguage</code><span class="sig-paren">(</span><em>lang</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.poheader.poheader.settargetlanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the target language in the header.</p>
<p>This removes any custom Poedit headers if they exist.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>lang</strong> (<a class="reference external" href="https://docs.python.org/2.7/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) – the new target language code</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.poheader.poheader.updatecontributor">
<code class="descname">updatecontributor</code><span class="sig-paren">(</span><em>name</em>, <em>email=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.poheader.poheader.updatecontributor" title="Permalink to this definition">¶</a></dt>
<dd><p>Add contribution comments if necessary.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.poheader.poheader.updateheader">
<code class="descname">updateheader</code><span class="sig-paren">(</span><em>add=False</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.poheader.poheader.updateheader" title="Permalink to this definition">¶</a></dt>
<dd><p>Updates the fields in the PO style header.</p>
<p>This will create a header if add == True.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.poheader.poheader.updateheaderplural">
<code class="descname">updateheaderplural</code><span class="sig-paren">(</span><em>nplurals</em>, <em>plural</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.poheader.poheader.updateheaderplural" title="Permalink to this definition">¶</a></dt>
<dd><p>Update the Plural-Form PO header.</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="translate.storage.poheader.tzstring">
<code class="descclassname">translate.storage.poheader.</code><code class="descname">tzstring</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.poheader.tzstring" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the timezone as a string in the format [+-]0000, eg +0200.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/2.7/library/functions.html#str" title="(in Python v2.7)">str</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="translate.storage.poheader.update">
<code class="descclassname">translate.storage.poheader.</code><code class="descname">update</code><span class="sig-paren">(</span><em>existing</em>, <em>add=False</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.poheader.update" title="Permalink to this definition">¶</a></dt>
<dd><p>Update an existing header dictionary with the values in kwargs, adding
new values only if add is true.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">Updated dictionary of header entries</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">dict of strings</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="module-translate.storage.poparser">
<span id="poparser"></span><h2>poparser<a class="headerlink" href="#module-translate.storage.poparser" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="translate.storage.poparser.decode_header">
<code class="descclassname">translate.storage.poparser.</code><code class="descname">decode_header</code><span class="sig-paren">(</span><em>unit</em>, <em>decode</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.poparser.decode_header" title="Permalink to this definition">¶</a></dt>
<dd><p>The header has been arbitrarily decoded with a single-byte encoding. We
re-encode it to decode values with the proper encoding defined in the header
(using decode_list above).</p>
</dd></dl>

<dl class="function">
<dt id="translate.storage.poparser.read_obsolete_lines">
<code class="descclassname">translate.storage.poparser.</code><code class="descname">read_obsolete_lines</code><span class="sig-paren">(</span><em>parse_state</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.poparser.read_obsolete_lines" title="Permalink to this definition">¶</a></dt>
<dd><p>Read all the lines belonging to the current unit if obsolete.</p>
</dd></dl>

<dl class="function">
<dt id="translate.storage.poparser.read_prevmsgid_lines">
<code class="descclassname">translate.storage.poparser.</code><code class="descname">read_prevmsgid_lines</code><span class="sig-paren">(</span><em>parse_state</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.poparser.read_prevmsgid_lines" title="Permalink to this definition">¶</a></dt>
<dd><p>Read all the lines belonging starting with #|. These lines contain the
previous msgid and msgctxt info. We strip away the leading ‘#| ‘ and read
until we stop seeing #|.</p>
</dd></dl>

</div>
<div class="section" id="module-translate.storage.po">
<span id="po"></span><h2>po<a class="headerlink" href="#module-translate.storage.po" title="Permalink to this headline">¶</a></h2>
<p>A class loader that will load C or Python implementations of the PO class
depending on the <code class="docutils literal notranslate"><span class="pre">USECPO</span></code> variable.</p>
<p>Use the environment variable <code class="docutils literal notranslate"><span class="pre">USECPO=2</span></code> (or <code class="docutils literal notranslate"><span class="pre">USECPO=1</span></code>) to choose the
C implementation which uses Gettext’s libgettextpo for high parsing speed.
Otherwise the local Python based parser is used (slower but very well
tested).</p>
</div>
<div class="section" id="module-translate.storage.poxliff">
<span id="poxliff"></span><h2>poxliff<a class="headerlink" href="#module-translate.storage.poxliff" title="Permalink to this headline">¶</a></h2>
<p>XLIFF classes specifically suited for handling the PO representation in
XLIFF.</p>
<p>This way the API supports plurals as if it was a PO file, for example.</p>
<dl class="class">
<dt id="translate.storage.poxliff.PoXliffFile">
<em class="property">class </em><code class="descclassname">translate.storage.poxliff.</code><code class="descname">PoXliffFile</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.poxliff.PoXliffFile" title="Permalink to this definition">¶</a></dt>
<dd><p>a file for the po variant of Xliff files</p>
<dl class="attribute">
<dt id="translate.storage.poxliff.PoXliffFile.UnitClass">
<code class="descname">UnitClass</code><a class="headerlink" href="#translate.storage.poxliff.PoXliffFile.UnitClass" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <a class="reference internal" href="#translate.storage.poxliff.PoXliffUnit" title="translate.storage.poxliff.PoXliffUnit"><code class="xref py py-class docutils literal notranslate"><span class="pre">PoXliffUnit</span></code></a></p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.poxliff.PoXliffFile.add_unit_to_index">
<code class="descname">add_unit_to_index</code><span class="sig-paren">(</span><em>unit</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.poxliff.PoXliffFile.add_unit_to_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a unit to source and location idexes</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.poxliff.PoXliffFile.addheader">
<code class="descname">addheader</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.poxliff.PoXliffFile.addheader" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialise the file header.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.poxliff.PoXliffFile.addplural">
<code class="descname">addplural</code><span class="sig-paren">(</span><em>source</em>, <em>target</em>, <em>filename</em>, <em>createifmissing=False</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.poxliff.PoXliffFile.addplural" title="Permalink to this definition">¶</a></dt>
<dd><p>This method should now be unnecessary, but is left for reference</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.poxliff.PoXliffFile.addsourceunit">
<code class="descname">addsourceunit</code><span class="sig-paren">(</span><em>source</em>, <em>filename='NoName'</em>, <em>createifmissing=False</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.poxliff.PoXliffFile.addsourceunit" title="Permalink to this definition">¶</a></dt>
<dd><p>adds the given trans-unit to the last used body node if the filename
has changed it uses the slow method instead (will create the nodes
required if asked). Returns success</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.poxliff.PoXliffFile.addunit">
<code class="descname">addunit</code><span class="sig-paren">(</span><em>unit</em>, <em>new=True</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.poxliff.PoXliffFile.addunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Append the given unit to the object’s list of units.</p>
<p>This method should always be used rather than trying to modify the
list manually.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>unit</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">TranslationUnit</span></code>) – The unit that will be added.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.poxliff.PoXliffFile.createfilenode">
<code class="descname">createfilenode</code><span class="sig-paren">(</span><em>filename</em>, <em>sourcelanguage='en-US'</em>, <em>datatype='po'</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.poxliff.PoXliffFile.createfilenode" title="Permalink to this definition">¶</a></dt>
<dd><p>creates a filenode with the given filename. All parameters are
needed for XLIFF compliance.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.poxliff.PoXliffFile.creategroup">
<code class="descname">creategroup</code><span class="sig-paren">(</span><em>filename='NoName'</em>, <em>createifmissing=False</em>, <em>restype=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.poxliff.PoXliffFile.creategroup" title="Permalink to this definition">¶</a></dt>
<dd><p>adds a group tag into the specified file</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.poxliff.PoXliffFile.detect_encoding">
<code class="descname">detect_encoding</code><span class="sig-paren">(</span><em>text</em>, <em>default_encodings=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.poxliff.PoXliffFile.detect_encoding" title="Permalink to this definition">¶</a></dt>
<dd><p>Try to detect a file encoding from <cite>text</cite>, using either the chardet lib
or by trying to decode the file.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.poxliff.PoXliffFile.fallback_detection">
<code class="descname">fallback_detection</code><span class="sig-paren">(</span><em>text</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.poxliff.PoXliffFile.fallback_detection" title="Permalink to this definition">¶</a></dt>
<dd><p>Simple detection based on BOM in case chardet is not available.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.poxliff.PoXliffFile.findid">
<code class="descname">findid</code><span class="sig-paren">(</span><em>id</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.poxliff.PoXliffFile.findid" title="Permalink to this definition">¶</a></dt>
<dd><p>find unit with matching id by checking id_index</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.poxliff.PoXliffFile.findunit">
<code class="descname">findunit</code><span class="sig-paren">(</span><em>source</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.poxliff.PoXliffFile.findunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the unit with the given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><code class="xref py py-class docutils literal notranslate"><span class="pre">TranslationUnit</span></code> or None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.poxliff.PoXliffFile.findunits">
<code class="descname">findunits</code><span class="sig-paren">(</span><em>source</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.poxliff.PoXliffFile.findunits" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the units with the given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><code class="xref py py-class docutils literal notranslate"><span class="pre">TranslationUnit</span></code> or None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.poxliff.PoXliffFile.getbodynode">
<code class="descname">getbodynode</code><span class="sig-paren">(</span><em>filenode</em>, <em>createifmissing=False</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.poxliff.PoXliffFile.getbodynode" title="Permalink to this definition">¶</a></dt>
<dd><p>finds the body node for the given filenode</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.poxliff.PoXliffFile.getdatatype">
<code class="descname">getdatatype</code><span class="sig-paren">(</span><em>filename=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.poxliff.PoXliffFile.getdatatype" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the datatype of the stored file. If no filename is given,
the datatype of the first file is given.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.poxliff.PoXliffFile.getdate">
<code class="descname">getdate</code><span class="sig-paren">(</span><em>filename=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.poxliff.PoXliffFile.getdate" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the date attribute for the file.</p>
<p>If no filename is given, the date of the first file is given.
If the date attribute is not specified, None is returned.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">Date attribute of file</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">Date or <a class="reference external" href="https://docs.python.org/2.7/library/constants.html#None" title="(in Python v2.7)">None</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.poxliff.PoXliffFile.getfilename">
<code class="descname">getfilename</code><span class="sig-paren">(</span><em>filenode</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.poxliff.PoXliffFile.getfilename" title="Permalink to this definition">¶</a></dt>
<dd><p>returns the name of the given file</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.poxliff.PoXliffFile.getfilenames">
<code class="descname">getfilenames</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.poxliff.PoXliffFile.getfilenames" title="Permalink to this definition">¶</a></dt>
<dd><p>returns all filenames in this XLIFF file</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.poxliff.PoXliffFile.getfilenode">
<code class="descname">getfilenode</code><span class="sig-paren">(</span><em>filename</em>, <em>createifmissing=False</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.poxliff.PoXliffFile.getfilenode" title="Permalink to this definition">¶</a></dt>
<dd><p>finds the filenode with the given name</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.poxliff.PoXliffFile.getheadernode">
<code class="descname">getheadernode</code><span class="sig-paren">(</span><em>filenode</em>, <em>createifmissing=False</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.poxliff.PoXliffFile.getheadernode" title="Permalink to this definition">¶</a></dt>
<dd><p>finds the header node for the given filenode</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.poxliff.PoXliffFile.getheaderplural">
<code class="descname">getheaderplural</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.poxliff.PoXliffFile.getheaderplural" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the nplural and plural values from the header.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.poxliff.PoXliffFile.getids">
<code class="descname">getids</code><span class="sig-paren">(</span><em>filename=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.poxliff.PoXliffFile.getids" title="Permalink to this definition">¶</a></dt>
<dd><p>return a list of unit ids</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.poxliff.PoXliffFile.getprojectstyle">
<code class="descname">getprojectstyle</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.poxliff.PoXliffFile.getprojectstyle" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the project type for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.poxliff.PoXliffFile.getsourcelanguage">
<code class="descname">getsourcelanguage</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.poxliff.PoXliffFile.getsourcelanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the source language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.poxliff.PoXliffFile.gettargetlanguage">
<code class="descname">gettargetlanguage</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.poxliff.PoXliffFile.gettargetlanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the target language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.poxliff.PoXliffFile.getunits">
<code class="descname">getunits</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.poxliff.PoXliffFile.getunits" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of all units in this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.poxliff.PoXliffFile.header">
<code class="descname">header</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.poxliff.PoXliffFile.header" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the header element, or None. Only the first element is
allowed to be a header. Note that this could still return an empty
header element, if present.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.poxliff.PoXliffFile.init_headers">
<code class="descname">init_headers</code><span class="sig-paren">(</span><em>charset='UTF-8'</em>, <em>encoding='8bit'</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.poxliff.PoXliffFile.init_headers" title="Permalink to this definition">¶</a></dt>
<dd><p>sets default values for po headers</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.poxliff.PoXliffFile.initbody">
<code class="descname">initbody</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.poxliff.PoXliffFile.initbody" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialises self.body so it never needs to be retrieved from the XML
again.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.poxliff.PoXliffFile.isempty">
<code class="descname">isempty</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.poxliff.PoXliffFile.isempty" title="Permalink to this definition">¶</a></dt>
<dd><p>Return True if the object doesn’t contain any translation units.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.poxliff.PoXliffFile.makeheader">
<code class="descname">makeheader</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.poxliff.PoXliffFile.makeheader" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a header for the given filename.</p>
<p>Check .makeheaderdict() for information on parameters.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.poxliff.PoXliffFile.makeheaderdict">
<code class="descname">makeheaderdict</code><span class="sig-paren">(</span><em>charset='CHARSET'</em>, <em>encoding='ENCODING'</em>, <em>project_id_version=None</em>, <em>pot_creation_date=None</em>, <em>po_revision_date=None</em>, <em>last_translator=None</em>, <em>language_team=None</em>, <em>mime_version=None</em>, <em>plural_forms=None</em>, <em>report_msgid_bugs_to=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.poxliff.PoXliffFile.makeheaderdict" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a header dictionary with useful defaults.</p>
<p>pot_creation_date can be None (current date) or a value (datetime or string)
po_revision_date can be None (form), False (=pot_creation_date), True (=now),
or a value (datetime or string)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">Dictionary with the header items</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">dict of strings</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.poxliff.PoXliffFile.makeindex">
<code class="descname">makeindex</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.poxliff.PoXliffFile.makeindex" title="Permalink to this definition">¶</a></dt>
<dd><p>Indexes the items in this store. At least .sourceindex should be
useful.</p>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.poxliff.PoXliffFile.merge_on">
<code class="descname">merge_on</code><a class="headerlink" href="#translate.storage.poxliff.PoXliffFile.merge_on" title="Permalink to this definition">¶</a></dt>
<dd><p>The matching criterion to use when merging on.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The default matching criterion for all the subclasses.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">string</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.poxliff.PoXliffFile.mergeheaders">
<code class="descname">mergeheaders</code><span class="sig-paren">(</span><em>otherstore</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.poxliff.PoXliffFile.mergeheaders" title="Permalink to this definition">¶</a></dt>
<dd><p>Merges another header with this header.</p>
<p>This header is assumed to be the template.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.poxliff.PoXliffFile.namespaced">
<code class="descname">namespaced</code><span class="sig-paren">(</span><em>name</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.poxliff.PoXliffFile.namespaced" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns name in Clark notation.</p>
<p>For example <code class="docutils literal notranslate"><span class="pre">namespaced(&quot;source&quot;)</span></code> in an XLIFF document
might return:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span><span class="n">urn</span><span class="p">:</span><span class="n">oasis</span><span class="p">:</span><span class="n">names</span><span class="p">:</span><span class="n">tc</span><span class="p">:</span><span class="n">xliff</span><span class="p">:</span><span class="n">document</span><span class="p">:</span><span class="mf">1.1</span><span class="p">}</span><span class="n">source</span>
</pre></div>
</div>
<p>This is needed throughout lxml.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.poxliff.PoXliffFile.parse">
<code class="descname">parse</code><span class="sig-paren">(</span><em>xml</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.poxliff.PoXliffFile.parse" title="Permalink to this definition">¶</a></dt>
<dd><p>Populates this object from the given xml string</p>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.poxliff.PoXliffFile.parsefile">
<em class="property">classmethod </em><code class="descname">parsefile</code><span class="sig-paren">(</span><em>storefile</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.poxliff.PoXliffFile.parsefile" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads the given file (or opens the given filename) and parses back
to an object.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.poxliff.PoXliffFile.parseheader">
<code class="descname">parseheader</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.poxliff.PoXliffFile.parseheader" title="Permalink to this definition">¶</a></dt>
<dd><p>Parses the PO header and returns the interpreted values as a
dictionary.</p>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.poxliff.PoXliffFile.parsestring">
<em class="property">classmethod </em><code class="descname">parsestring</code><span class="sig-paren">(</span><em>storestring</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.poxliff.PoXliffFile.parsestring" title="Permalink to this definition">¶</a></dt>
<dd><p>Parses the string to return the correct file object</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.poxliff.PoXliffFile.remove_unit_from_index">
<code class="descname">remove_unit_from_index</code><span class="sig-paren">(</span><em>unit</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.poxliff.PoXliffFile.remove_unit_from_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove a unit from source and locaton indexes</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.poxliff.PoXliffFile.removedefaultfile">
<code class="descname">removedefaultfile</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.poxliff.PoXliffFile.removedefaultfile" title="Permalink to this definition">¶</a></dt>
<dd><p>We want to remove the default file-tag as soon as possible if we
know if still present and empty.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.poxliff.PoXliffFile.require_index">
<code class="descname">require_index</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.poxliff.PoXliffFile.require_index" title="Permalink to this definition">¶</a></dt>
<dd><p>make sure source index exists</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.poxliff.PoXliffFile.save">
<code class="descname">save</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.poxliff.PoXliffFile.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Save to the file that data was originally read from, if available.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.poxliff.PoXliffFile.savefile">
<code class="descname">savefile</code><span class="sig-paren">(</span><em>storefile</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.poxliff.PoXliffFile.savefile" title="Permalink to this definition">¶</a></dt>
<dd><p>Write the string representation to the given file (or filename).</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.poxliff.PoXliffFile.serialize">
<code class="descname">serialize</code><span class="sig-paren">(</span><em>out</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.poxliff.PoXliffFile.serialize" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts to a string containing the file’s XML</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.poxliff.PoXliffFile.setfilename">
<code class="descname">setfilename</code><span class="sig-paren">(</span><em>filenode</em>, <em>filename</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.poxliff.PoXliffFile.setfilename" title="Permalink to this definition">¶</a></dt>
<dd><p>set the name of the given file</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.poxliff.PoXliffFile.setprojectstyle">
<code class="descname">setprojectstyle</code><span class="sig-paren">(</span><em>project_style</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.poxliff.PoXliffFile.setprojectstyle" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the project type for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.poxliff.PoXliffFile.setsourcelanguage">
<code class="descname">setsourcelanguage</code><span class="sig-paren">(</span><em>language</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.poxliff.PoXliffFile.setsourcelanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the source language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.poxliff.PoXliffFile.settargetlanguage">
<code class="descname">settargetlanguage</code><span class="sig-paren">(</span><em>language</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.poxliff.PoXliffFile.settargetlanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the target language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.poxliff.PoXliffFile.switchfile">
<code class="descname">switchfile</code><span class="sig-paren">(</span><em>filename</em>, <em>createifmissing=False</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.poxliff.PoXliffFile.switchfile" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds the given trans-unit (will create the nodes required if asked).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">Success</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">Boolean</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.poxliff.PoXliffFile.translate">
<code class="descname">translate</code><span class="sig-paren">(</span><em>source</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.poxliff.PoXliffFile.translate" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the translated string for a given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">String or <a class="reference external" href="https://docs.python.org/2.7/library/constants.html#None" title="(in Python v2.7)">None</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.poxliff.PoXliffFile.unit_iter">
<code class="descname">unit_iter</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.poxliff.PoXliffFile.unit_iter" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterator over all the units in this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.poxliff.PoXliffFile.updatecontributor">
<code class="descname">updatecontributor</code><span class="sig-paren">(</span><em>name</em>, <em>email=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.poxliff.PoXliffFile.updatecontributor" title="Permalink to this definition">¶</a></dt>
<dd><p>Add contribution comments if necessary.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.poxliff.PoXliffFile.updateheader">
<code class="descname">updateheader</code><span class="sig-paren">(</span><em>add=False</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.poxliff.PoXliffFile.updateheader" title="Permalink to this definition">¶</a></dt>
<dd><p>Updates the fields in the PO style header.</p>
<p>This will create a header if add == True.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.poxliff.PoXliffFile.updateheaderplural">
<code class="descname">updateheaderplural</code><span class="sig-paren">(</span><em>nplurals</em>, <em>plural</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.poxliff.PoXliffFile.updateheaderplural" title="Permalink to this definition">¶</a></dt>
<dd><p>Update the Plural-Form PO header.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="translate.storage.poxliff.PoXliffUnit">
<em class="property">class </em><code class="descclassname">translate.storage.poxliff.</code><code class="descname">PoXliffUnit</code><span class="sig-paren">(</span><em>source=None</em>, <em>empty=False</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.poxliff.PoXliffUnit" title="Permalink to this definition">¶</a></dt>
<dd><p>A class to specifically handle the plural units created from a po file.</p>
<dl class="method">
<dt id="translate.storage.poxliff.PoXliffUnit.addalttrans">
<code class="descname">addalttrans</code><span class="sig-paren">(</span><em>txt</em>, <em>origin=None</em>, <em>lang=None</em>, <em>sourcetxt=None</em>, <em>matchquality=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.poxliff.PoXliffUnit.addalttrans" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds an alt-trans tag and alt-trans components to the unit.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>txt</strong> (<em>String</em>) – Alternative translation of the source text.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.poxliff.PoXliffUnit.adderror">
<code class="descname">adderror</code><span class="sig-paren">(</span><em>errorname</em>, <em>errortext</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.poxliff.PoXliffUnit.adderror" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds an error message to this unit.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.poxliff.PoXliffUnit.addlocation">
<code class="descname">addlocation</code><span class="sig-paren">(</span><em>location</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.poxliff.PoXliffUnit.addlocation" title="Permalink to this definition">¶</a></dt>
<dd><p>Add one location to the list of locations.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Shouldn’t be implemented if the format doesn’t support it.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.poxliff.PoXliffUnit.addlocations">
<code class="descname">addlocations</code><span class="sig-paren">(</span><em>location</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.poxliff.PoXliffUnit.addlocations" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a location or a list of locations.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Most classes shouldn’t need to implement this, but should rather
implement <code class="xref py py-meth docutils literal notranslate"><span class="pre">TranslationUnit.addlocation()</span></code>.</p>
</div>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">This method might be removed in future.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.poxliff.PoXliffUnit.addnote">
<code class="descname">addnote</code><span class="sig-paren">(</span><em>text</em>, <em>origin=None</em>, <em>position='append'</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.poxliff.PoXliffUnit.addnote" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a note specifically in a “note” tag</p>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.poxliff.PoXliffUnit.buildfromunit">
<em class="property">classmethod </em><code class="descname">buildfromunit</code><span class="sig-paren">(</span><em>unit</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.poxliff.PoXliffUnit.buildfromunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Build a native unit from a foreign unit, preserving as much
information as possible.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.poxliff.PoXliffUnit.correctorigin">
<code class="descname">correctorigin</code><span class="sig-paren">(</span><em>node</em>, <em>origin</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.poxliff.PoXliffUnit.correctorigin" title="Permalink to this definition">¶</a></dt>
<dd><p>Check against node tag’s origin (e.g note or alt-trans)</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.poxliff.PoXliffUnit.createcontextgroup">
<code class="descname">createcontextgroup</code><span class="sig-paren">(</span><em>name</em>, <em>contexts=None</em>, <em>purpose=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.poxliff.PoXliffUnit.createcontextgroup" title="Permalink to this definition">¶</a></dt>
<dd><p>Add the context group to the trans-unit with contexts a list with
(type, text) tuples describing each context.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.poxliff.PoXliffUnit.createlanguageNode">
<code class="descname">createlanguageNode</code><span class="sig-paren">(</span><em>lang</em>, <em>text</em>, <em>purpose</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.poxliff.PoXliffUnit.createlanguageNode" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns an xml Element setup with given parameters.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.poxliff.PoXliffUnit.delalttrans">
<code class="descname">delalttrans</code><span class="sig-paren">(</span><em>alternative</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.poxliff.PoXliffUnit.delalttrans" title="Permalink to this definition">¶</a></dt>
<dd><p>Removes the supplied alternative from the list of alt-trans tags</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.poxliff.PoXliffUnit.getNodeText">
<code class="descname">getNodeText</code><span class="sig-paren">(</span><em>languageNode</em>, <em>xml_space='preserve'</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.poxliff.PoXliffUnit.getNodeText" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieves the term from the given <code class="xref py py-attr docutils literal notranslate"><span class="pre">languageNode</span></code>.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.poxliff.PoXliffUnit.get_rich_target">
<code class="descname">get_rich_target</code><span class="sig-paren">(</span><em>lang=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.poxliff.PoXliffUnit.get_rich_target" title="Permalink to this definition">¶</a></dt>
<dd><p>retrieves the “target” text (second entry), or the entry in the
specified language, if it exists</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.poxliff.PoXliffUnit.getalttrans">
<code class="descname">getalttrans</code><span class="sig-paren">(</span><em>origin=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.poxliff.PoXliffUnit.getalttrans" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns &lt;alt-trans&gt; for the given origin as a list of units. No
origin means all alternatives.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.poxliff.PoXliffUnit.getautomaticcomments">
<code class="descname">getautomaticcomments</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.poxliff.PoXliffUnit.getautomaticcomments" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the automatic comments (x-po-autocomment), which corresponds
to the #. style po comments.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.poxliff.PoXliffUnit.getcontext">
<code class="descname">getcontext</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.poxliff.PoXliffUnit.getcontext" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the message context.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.poxliff.PoXliffUnit.getcontextgroups">
<code class="descname">getcontextgroups</code><span class="sig-paren">(</span><em>name</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.poxliff.PoXliffUnit.getcontextgroups" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the contexts in the context groups with the specified name</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.poxliff.PoXliffUnit.geterrors">
<code class="descname">geterrors</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.poxliff.PoXliffUnit.geterrors" title="Permalink to this definition">¶</a></dt>
<dd><p>Get all error messages.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.poxliff.PoXliffUnit.getid">
<code class="descname">getid</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.poxliff.PoXliffUnit.getid" title="Permalink to this definition">¶</a></dt>
<dd><p>A unique identifier for this unit.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">string</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">an identifier for this unit that is unique in the store</td>
</tr>
</tbody>
</table>
<p>Derived classes should override this in a way that guarantees a unique
identifier for each unit in the store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.poxliff.PoXliffUnit.getlanguageNode">
<code class="descname">getlanguageNode</code><span class="sig-paren">(</span><em>lang=None</em>, <em>index=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.poxliff.PoXliffUnit.getlanguageNode" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieves a <code class="xref py py-attr docutils literal notranslate"><span class="pre">languageNode</span></code> either by language or by index.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.poxliff.PoXliffUnit.getlanguageNodes">
<code class="descname">getlanguageNodes</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.poxliff.PoXliffUnit.getlanguageNodes" title="Permalink to this definition">¶</a></dt>
<dd><p>We override this to get source and target nodes.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.poxliff.PoXliffUnit.getlocations">
<code class="descname">getlocations</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.poxliff.PoXliffUnit.getlocations" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns all the references (source locations)</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.poxliff.PoXliffUnit.getnotes">
<code class="descname">getnotes</code><span class="sig-paren">(</span><em>origin=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.poxliff.PoXliffUnit.getnotes" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns all notes about this unit.</p>
<p>It will probably be freeform text or something reasonable that can be
synthesised by the format.
It should not include location comments (see
<a class="reference internal" href="#translate.storage.base.TranslationUnit.getlocations" title="translate.storage.base.TranslationUnit.getlocations"><code class="xref py py-meth docutils literal notranslate"><span class="pre">getlocations()</span></code></a>).</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.poxliff.PoXliffUnit.getrestype">
<code class="descname">getrestype</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.poxliff.PoXliffUnit.getrestype" title="Permalink to this definition">¶</a></dt>
<dd><p>returns the restype attribute in the trans-unit tag</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.poxliff.PoXliffUnit.gettarget">
<code class="descname">gettarget</code><span class="sig-paren">(</span><em>lang=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.poxliff.PoXliffUnit.gettarget" title="Permalink to this definition">¶</a></dt>
<dd><p>retrieves the “target” text (second entry), or the entry in the
specified language, if it exists</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.poxliff.PoXliffUnit.gettargetlen">
<code class="descname">gettargetlen</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.poxliff.PoXliffUnit.gettargetlen" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the length of the target string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">Integer</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Plural forms might be combined.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.poxliff.PoXliffUnit.gettranslatorcomments">
<code class="descname">gettranslatorcomments</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.poxliff.PoXliffUnit.gettranslatorcomments" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the translator comments (x-po-trancomment), which
corresponds to the # style po comments.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.poxliff.PoXliffUnit.getunits">
<code class="descname">getunits</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.poxliff.PoXliffUnit.getunits" title="Permalink to this definition">¶</a></dt>
<dd><p>This unit in a list.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.poxliff.PoXliffUnit.hasplural">
<code class="descname">hasplural</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.poxliff.PoXliffUnit.hasplural" title="Permalink to this definition">¶</a></dt>
<dd><p>Tells whether or not this specific unit has plural strings.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.poxliff.PoXliffUnit.infer_state">
<code class="descname">infer_state</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.poxliff.PoXliffUnit.infer_state" title="Permalink to this definition">¶</a></dt>
<dd><p>Empty method that should be overridden in sub-classes to infer the
current state(_n) of the unit from its current state.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.poxliff.PoXliffUnit.isapproved">
<code class="descname">isapproved</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.poxliff.PoXliffUnit.isapproved" title="Permalink to this definition">¶</a></dt>
<dd><p>States whether this unit is approved.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.poxliff.PoXliffUnit.isblank">
<code class="descname">isblank</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.poxliff.PoXliffUnit.isblank" title="Permalink to this definition">¶</a></dt>
<dd><p>Used to see if this unit has no source or target string.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This is probably used more to find translatable units,
and we might want to move in that direction rather and
get rid of this.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.poxliff.PoXliffUnit.isfuzzy">
<code class="descname">isfuzzy</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.poxliff.PoXliffUnit.isfuzzy" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit is fuzzy.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.poxliff.PoXliffUnit.isheader">
<code class="descname">isheader</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.poxliff.PoXliffUnit.isheader" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit is a header.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.poxliff.PoXliffUnit.isobsolete">
<code class="descname">isobsolete</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.poxliff.PoXliffUnit.isobsolete" title="Permalink to this definition">¶</a></dt>
<dd><p>indicate whether a unit is obsolete</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.poxliff.PoXliffUnit.isreview">
<code class="descname">isreview</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.poxliff.PoXliffUnit.isreview" title="Permalink to this definition">¶</a></dt>
<dd><p>States whether this unit needs to be reviewed</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.poxliff.PoXliffUnit.istranslatable">
<code class="descname">istranslatable</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.poxliff.PoXliffUnit.istranslatable" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit can be translated.</p>
<p>This should be used to distinguish real units for translation from
header, obsolete, binary or other blank units.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.poxliff.PoXliffUnit.istranslated">
<code class="descname">istranslated</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.poxliff.PoXliffUnit.istranslated" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit is translated.</p>
<p>This should be used rather than deducing it from .target,
to ensure that other classes can implement more functionality
(as XLIFF does).</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.poxliff.PoXliffUnit.makeobsolete">
<code class="descname">makeobsolete</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.poxliff.PoXliffUnit.makeobsolete" title="Permalink to this definition">¶</a></dt>
<dd><p>Make a unit obsolete</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.poxliff.PoXliffUnit.markapproved">
<code class="descname">markapproved</code><span class="sig-paren">(</span><em>value=True</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.poxliff.PoXliffUnit.markapproved" title="Permalink to this definition">¶</a></dt>
<dd><p>Mark this unit as approved.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.poxliff.PoXliffUnit.markfuzzy">
<code class="descname">markfuzzy</code><span class="sig-paren">(</span><em>value=True</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.poxliff.PoXliffUnit.markfuzzy" title="Permalink to this definition">¶</a></dt>
<dd><p>Marks the unit as fuzzy or not.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.poxliff.PoXliffUnit.markreviewneeded">
<code class="descname">markreviewneeded</code><span class="sig-paren">(</span><em>needsreview=True</em>, <em>explanation=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.poxliff.PoXliffUnit.markreviewneeded" title="Permalink to this definition">¶</a></dt>
<dd><p>Marks the unit to indicate whether it needs review.</p>
<p>Adds an optional explanation as a note.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.poxliff.PoXliffUnit.merge">
<code class="descname">merge</code><span class="sig-paren">(</span><em>otherunit</em>, <em>overwrite=False</em>, <em>comments=True</em>, <em>authoritative=False</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.poxliff.PoXliffUnit.merge" title="Permalink to this definition">¶</a></dt>
<dd><p>Do basic format agnostic merging.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.poxliff.PoXliffUnit.multistring_to_rich">
<code class="descname">multistring_to_rich</code><span class="sig-paren">(</span><em>mulstring</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.poxliff.PoXliffUnit.multistring_to_rich" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a multistring to a list of “rich” string trees:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">target</span> <span class="o">=</span> <span class="n">multistring</span><span class="p">([</span><span class="sa">u</span><span class="s1">&#39;foo&#39;</span><span class="p">,</span> <span class="sa">u</span><span class="s1">&#39;bar&#39;</span><span class="p">,</span> <span class="sa">u</span><span class="s1">&#39;baz&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">TranslationUnit</span><span class="o">.</span><span class="n">multistring_to_rich</span><span class="p">(</span><span class="n">target</span><span class="p">)</span>
<span class="go">[&lt;StringElem([&lt;StringElem([u&#39;foo&#39;])&gt;])&gt;,</span>
<span class="go"> &lt;StringElem([&lt;StringElem([u&#39;bar&#39;])&gt;])&gt;,</span>
<span class="go"> &lt;StringElem([&lt;StringElem([u&#39;baz&#39;])&gt;])&gt;]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.poxliff.PoXliffUnit.namespaced">
<code class="descname">namespaced</code><span class="sig-paren">(</span><em>name</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.poxliff.PoXliffUnit.namespaced" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns name in Clark notation.</p>
<p>For example <code class="docutils literal notranslate"><span class="pre">namespaced(&quot;source&quot;)</span></code> in an XLIFF document
might return:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span><span class="n">urn</span><span class="p">:</span><span class="n">oasis</span><span class="p">:</span><span class="n">names</span><span class="p">:</span><span class="n">tc</span><span class="p">:</span><span class="n">xliff</span><span class="p">:</span><span class="n">document</span><span class="p">:</span><span class="mf">1.1</span><span class="p">}</span><span class="n">source</span>
</pre></div>
</div>
<p>This is needed throughout lxml.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.poxliff.PoXliffUnit.removenotes">
<code class="descname">removenotes</code><span class="sig-paren">(</span><em>origin=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.poxliff.PoXliffUnit.removenotes" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove all the translator notes.</p>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.poxliff.PoXliffUnit.rich_source">
<code class="descname">rich_source</code><a class="headerlink" href="#translate.storage.poxliff.PoXliffUnit.rich_source" title="Permalink to this definition">¶</a></dt>
<dd><div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="#translate.storage.poxliff.PoXliffUnit.rich_to_multistring" title="translate.storage.poxliff.PoXliffUnit.rich_to_multistring"><code class="xref py py-meth docutils literal notranslate"><span class="pre">rich_to_multistring()</span></code></a>, <a class="reference internal" href="#translate.storage.poxliff.PoXliffUnit.multistring_to_rich" title="translate.storage.poxliff.PoXliffUnit.multistring_to_rich"><code class="xref py py-meth docutils literal notranslate"><span class="pre">multistring_to_rich()</span></code></a></p>
</div>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.poxliff.PoXliffUnit.rich_target">
<code class="descname">rich_target</code><a class="headerlink" href="#translate.storage.poxliff.PoXliffUnit.rich_target" title="Permalink to this definition">¶</a></dt>
<dd><div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="#translate.storage.poxliff.PoXliffUnit.rich_to_multistring" title="translate.storage.poxliff.PoXliffUnit.rich_to_multistring"><code class="xref py py-meth docutils literal notranslate"><span class="pre">rich_to_multistring()</span></code></a>, <a class="reference internal" href="#translate.storage.poxliff.PoXliffUnit.multistring_to_rich" title="translate.storage.poxliff.PoXliffUnit.multistring_to_rich"><code class="xref py py-meth docutils literal notranslate"><span class="pre">multistring_to_rich()</span></code></a></p>
</div>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.poxliff.PoXliffUnit.rich_to_multistring">
<em class="property">classmethod </em><code class="descname">rich_to_multistring</code><span class="sig-paren">(</span><em>elem_list</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.poxliff.PoXliffUnit.rich_to_multistring" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a “rich” string tree to a <code class="docutils literal notranslate"><span class="pre">multistring</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">translate.storage.placeables.interfaces</span> <span class="kn">import</span> <span class="n">X</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rich</span> <span class="o">=</span> <span class="p">[</span><span class="n">StringElem</span><span class="p">([</span><span class="s1">&#39;foo&#39;</span><span class="p">,</span> <span class="n">X</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="s1">&#39;xxx&#39;</span><span class="p">,</span> <span class="n">sub</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39; &#39;</span><span class="p">]),</span> <span class="s1">&#39;bar&#39;</span><span class="p">])]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">TranslationUnit</span><span class="o">.</span><span class="n">rich_to_multistring</span><span class="p">(</span><span class="n">rich</span><span class="p">)</span>
<span class="go">multistring(u&#39;foo bar&#39;)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.poxliff.PoXliffUnit.setcontext">
<code class="descname">setcontext</code><span class="sig-paren">(</span><em>context</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.poxliff.PoXliffUnit.setcontext" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the message context</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.poxliff.PoXliffUnit.setid">
<code class="descname">setid</code><span class="sig-paren">(</span><em>id</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.poxliff.PoXliffUnit.setid" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the unique identified for this unit.</p>
<p>only implemented if format allows ids independant from other unit
properties like source or context</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.poxliff.PoXliffUnit.settarget">
<code class="descname">settarget</code><span class="sig-paren">(</span><em>target</em>, <em>lang='xx'</em>, <em>append=False</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.poxliff.PoXliffUnit.settarget" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the target string to the given value.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.poxliff.PoXliffUnit.unit_iter">
<code class="descname">unit_iter</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.poxliff.PoXliffUnit.unit_iter" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterator that only returns this unit.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-translate.storage.project">
<span id="project"></span><h2>project<a class="headerlink" href="#module-translate.storage.project" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="translate.storage.project.Project">
<em class="property">class </em><code class="descclassname">translate.storage.project.</code><code class="descname">Project</code><span class="sig-paren">(</span><em>projstore=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.project.Project" title="Permalink to this definition">¶</a></dt>
<dd><p>Manages a project store as well as the processes involved in a project
workflow.</p>
<dl class="method">
<dt id="translate.storage.project.Project.add_source">
<code class="descname">add_source</code><span class="sig-paren">(</span><em>srcfile</em>, <em>src_fname=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.project.Project.add_source" title="Permalink to this definition">¶</a></dt>
<dd><p>Proxy for <code class="docutils literal notranslate"><span class="pre">self.store.append_sourcefile()</span></code>.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.project.Project.add_source_convert">
<code class="descname">add_source_convert</code><span class="sig-paren">(</span><em>srcfile</em>, <em>src_fname=None</em>, <em>convert_options=None</em>, <em>extension=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.project.Project.add_source_convert" title="Permalink to this definition">¶</a></dt>
<dd><p>Convenience method that calls <a class="reference internal" href="#translate.storage.project.Project.add_source" title="translate.storage.project.Project.add_source"><code class="xref py py-meth docutils literal notranslate"><span class="pre">add_source()</span></code></a> and
<a class="reference internal" href="#translate.storage.project.Project.convert_forward" title="translate.storage.project.Project.convert_forward"><code class="xref py py-meth docutils literal notranslate"><span class="pre">convert_forward()</span></code></a> and returns the results from both.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.project.Project.close">
<code class="descname">close</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.project.Project.close" title="Permalink to this definition">¶</a></dt>
<dd><p>Proxy for <code class="docutils literal notranslate"><span class="pre">self.store.close()</span></code>.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.project.Project.convert_forward">
<code class="descname">convert_forward</code><span class="sig-paren">(</span><em>input_fname</em>, <em>template=None</em>, <em>output_fname=None</em>, <em>**options</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.project.Project.convert_forward" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert the given input file to the next type in the process:</p>
<p>Source document (eg. ODT) -&gt; Translation file (eg. XLIFF) -&gt;
Translated document (eg. ODT).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>input_fname</strong> (<em>basestring</em>) – The project name of the file to convert</li>
<li><strong>convert_options</strong> (<em>Dictionary</em><em> (</em><em>optional</em><em>)</em>) – Passed as-is to
<code class="xref py py-meth docutils literal notranslate"><span class="pre">translate.convert.factory.convert()</span></code>.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">Returns 2-tuple:</th></tr>
<tr class="field-even field"><td>&#160;</td><td class="field-body"><p class="first last">the converted file object and its project name.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.project.Project.export_file">
<code class="descname">export_file</code><span class="sig-paren">(</span><em>fname</em>, <em>destfname</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.project.Project.export_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Export the file with the specified filename to the given
destination.  This method will raise
<a class="reference internal" href="#translate.storage.projstore.FileNotInProjectError" title="translate.storage.projstore.FileNotInProjectError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">FileNotInProjectError</span></code></a> via the call
to <a class="reference internal" href="#translate.storage.projstore.ProjectStore.get_file" title="translate.storage.projstore.ProjectStore.get_file"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_file()</span></code></a> if
<em>fname</em> is not found in the project.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.project.Project.get_file">
<code class="descname">get_file</code><span class="sig-paren">(</span><em>fname</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.project.Project.get_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Proxy for <code class="docutils literal notranslate"><span class="pre">self.store.get_file()</span></code>.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.project.Project.get_proj_filename">
<code class="descname">get_proj_filename</code><span class="sig-paren">(</span><em>realfname</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.project.Project.get_proj_filename" title="Permalink to this definition">¶</a></dt>
<dd><p>Proxy for <code class="docutils literal notranslate"><span class="pre">self.store.get_proj_filename()</span></code>.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.project.Project.get_real_filename">
<code class="descname">get_real_filename</code><span class="sig-paren">(</span><em>projfname</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.project.Project.get_real_filename" title="Permalink to this definition">¶</a></dt>
<dd><p>Try and find a real file name for the given project file name.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.project.Project.remove_file">
<code class="descname">remove_file</code><span class="sig-paren">(</span><em>projfname</em>, <em>ftype=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.project.Project.remove_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Proxy for <code class="docutils literal notranslate"><span class="pre">self.store.remove_file()</span></code>.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.project.Project.save">
<code class="descname">save</code><span class="sig-paren">(</span><em>filename=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.project.Project.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Proxy for <code class="docutils literal notranslate"><span class="pre">self.store.save()</span></code>.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.project.Project.update_file">
<code class="descname">update_file</code><span class="sig-paren">(</span><em>proj_fname</em>, <em>infile</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.project.Project.update_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Proxy for <code class="docutils literal notranslate"><span class="pre">self.store.update_file()</span></code>.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-translate.storage.projstore">
<span id="projstore"></span><h2>projstore<a class="headerlink" href="#module-translate.storage.projstore" title="Permalink to this headline">¶</a></h2>
<dl class="exception">
<dt id="translate.storage.projstore.FileExistsInProjectError">
<em class="property">exception </em><code class="descclassname">translate.storage.projstore.</code><code class="descname">FileExistsInProjectError</code><a class="headerlink" href="#translate.storage.projstore.FileExistsInProjectError" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="exception">
<dt id="translate.storage.projstore.FileNotInProjectError">
<em class="property">exception </em><code class="descclassname">translate.storage.projstore.</code><code class="descname">FileNotInProjectError</code><a class="headerlink" href="#translate.storage.projstore.FileNotInProjectError" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="class">
<dt id="translate.storage.projstore.ProjectStore">
<em class="property">class </em><code class="descclassname">translate.storage.projstore.</code><code class="descname">ProjectStore</code><a class="headerlink" href="#translate.storage.projstore.ProjectStore" title="Permalink to this definition">¶</a></dt>
<dd><p>Basic project file container.</p>
<dl class="method">
<dt id="translate.storage.projstore.ProjectStore.append_file">
<code class="descname">append_file</code><span class="sig-paren">(</span><em>afile</em>, <em>fname</em>, <em>ftype='trans'</em>, <em>delete_orig=False</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.projstore.ProjectStore.append_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Append the given file to the project with the given filename, marked
to be of type <code class="docutils literal notranslate"><span class="pre">ftype</span></code> (‘src’, ‘trans’, ‘tgt’).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>delete_orig</strong> (<a class="reference external" href="https://docs.python.org/2.7/library/functions.html#bool" title="(in Python v2.7)"><em>bool</em></a>) – Whether or not the original (given) file should be
deleted after being appended. This is set to
<code class="docutils literal notranslate"><span class="pre">True</span></code> by
<code class="xref py py-meth docutils literal notranslate"><span class="pre">convert_forward()</span></code>
. Not used in this class.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.projstore.ProjectStore.get_file">
<code class="descname">get_file</code><span class="sig-paren">(</span><em>fname</em>, <em>mode='rb'</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.projstore.ProjectStore.get_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieve the file with the given name from the project store.</p>
<p>The file is looked up in the <code class="docutils literal notranslate"><span class="pre">self._files</span></code> dictionary. The values
in this dictionary may be <code class="docutils literal notranslate"><span class="pre">None</span></code>, to indicate that the file is not
cacheable and needs to be retrieved in a special way. This special
way must be defined in this method of sub-classes. The value may
also be a string, which indicates that it is a real file accessible
via <code class="docutils literal notranslate"><span class="pre">open</span></code>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>mode</strong> (<a class="reference external" href="https://docs.python.org/2.7/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) – The mode in which to re-open the file (if it is closed).</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.projstore.ProjectStore.get_filename_type">
<code class="descname">get_filename_type</code><span class="sig-paren">(</span><em>fname</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.projstore.ProjectStore.get_filename_type" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the type of file (‘src’, ‘trans’, ‘tgt’) with the given name.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.projstore.ProjectStore.get_proj_filename">
<code class="descname">get_proj_filename</code><span class="sig-paren">(</span><em>realfname</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.projstore.ProjectStore.get_proj_filename" title="Permalink to this definition">¶</a></dt>
<dd><p>Try and find a project file name for the given real file name.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.projstore.ProjectStore.load">
<code class="descname">load</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.projstore.ProjectStore.load" title="Permalink to this definition">¶</a></dt>
<dd><p>Load the project in some way. Undefined for this (base) class.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.projstore.ProjectStore.remove_file">
<code class="descname">remove_file</code><span class="sig-paren">(</span><em>fname</em>, <em>ftype=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.projstore.ProjectStore.remove_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove the file with the given project name from the project.  If
the file type (‘src’, ‘trans’ or ‘tgt’) is not given, it is guessed.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.projstore.ProjectStore.save">
<code class="descname">save</code><span class="sig-paren">(</span><em>filename=None</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.projstore.ProjectStore.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Save the project in some way. Undefined for this (base) class.</p>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.projstore.ProjectStore.sourcefiles">
<code class="descname">sourcefiles</code><a class="headerlink" href="#translate.storage.projstore.ProjectStore.sourcefiles" title="Permalink to this definition">¶</a></dt>
<dd><p>Read-only access to <code class="docutils literal notranslate"><span class="pre">self._sourcefiles</span></code>.</p>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.projstore.ProjectStore.targetfiles">
<code class="descname">targetfiles</code><a class="headerlink" href="#translate.storage.projstore.ProjectStore.targetfiles" title="Permalink to this definition">¶</a></dt>
<dd><p>Read-only access to <code class="docutils literal notranslate"><span class="pre">self._targetfiles</span></code>.</p>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.projstore.ProjectStore.transfiles">
<code class="descname">transfiles</code><a class="headerlink" href="#translate.storage.projstore.ProjectStore.transfiles" title="Permalink to this definition">¶</a></dt>
<dd><p>Read-only access to <code class="docutils literal notranslate"><span class="pre">self._transfiles</span></code>.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.projstore.ProjectStore.update_file">
<code class="descname">update_file</code><span class="sig-paren">(</span><em>pfname</em>, <em>infile</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.projstore.ProjectStore.update_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove the project file with name <code class="docutils literal notranslate"><span class="pre">pfname</span></code> and add the contents
from <code class="docutils literal notranslate"><span class="pre">infile</span></code> to the project under the same file name.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">the results from <a class="reference internal" href="#translate.storage.projstore.ProjectStore.append_file" title="translate.storage.projstore.ProjectStore.append_file"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ProjectStore.append_file()</span></code></a>.</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-translate.storage.properties">
<span id="properties"></span><h2>properties<a class="headerlink" href="#module-translate.storage.properties" title="Permalink to this headline">¶</a></h2>
<p>Classes that hold units of .properties, and similar, files that are used in
translating Java, Mozilla, MacOS and other software.</p>
<p>The <a class="reference internal" href="#translate.storage.properties.propfile" title="translate.storage.properties.propfile"><code class="xref py py-class docutils literal notranslate"><span class="pre">propfile</span></code></a> class is a monolingual class with <a class="reference internal" href="#translate.storage.properties.propunit" title="translate.storage.properties.propunit"><code class="xref py py-class docutils literal notranslate"><span class="pre">propunit</span></code></a>
providing unit level access.</p>
<p>The .properties store has become a general key value pair class with
<a class="reference internal" href="#translate.storage.properties.Dialect" title="translate.storage.properties.Dialect"><code class="xref py py-class docutils literal notranslate"><span class="pre">Dialect</span></code></a> providing the ability to change the behaviour of the
parsing and handling of the various dialects.</p>
<p>Currently we support:</p>
<ul class="simple">
<li>Java .properties</li>
<li>Mozilla .properties</li>
<li>Adobe Flex files</li>
<li>MacOS X .strings files</li>
<li>Skype .lang files</li>
</ul>
<p>The following provides references and descriptions of the various
dialects supported:</p>
<dl class="docutils">
<dt>Java</dt>
<dd><p class="first">Java .properties are supported completely except for the ability to drop
pairs that are not translated.</p>
<p>The following <a class="reference external" href="http://docs.oracle.com/javase/7/docs/api/java/util/Properties.html#load(java.io.Reader)">.properties file description</a>
gives a good references to the .properties specification.</p>
<p>Properties file may also hold Java <a class="reference external" href="http://docs.oracle.com/javase/7/docs/api/java/text/MessageFormat.html">MessageFormat</a>
messages.  No special handling is provided in this storage class for
MessageFormat, but this may be implemented in future.</p>
<p class="last">All delimiter types, comments, line continuations and spaces handling in
delimeters are supported.</p>
</dd>
<dt>Mozilla</dt>
<dd>Mozilla files use ‘=’ as a delimiter, are UTF-8 encoded and thus don’t
need u escaping.  Any U values will be converted to correct Unicode
characters.</dd>
<dt>Strings</dt>
<dd>Mac OS X strings files are implemented using
<a class="reference external" href="https://developer.apple.com/library/mac/#documentation/MacOSX/Conceptual/BPInternational/Articles/StringsFiles.html">these</a>
<a class="reference external" href="https://developer.apple.com/library/mac/#documentation/Cocoa/Conceptual/LoadingResources/Strings/Strings.html">two</a>
articles as references.</dd>
<dt>Flex</dt>
<dd>Adobe Flex files seem to be normal .properties files but in UTF-8 just like
Mozilla files. This
<a class="reference external" href="http://livedocs.adobe.com/flex/3/html/help.html?content=l10n_3.html">page</a>
provides the information used to implement the dialect.</dd>
<dt>Skype</dt>
<dd>Skype .lang files seem to be UTF-16 encoded .properties files.</dd>
</dl>
<p>A simple summary of what is permissible follows.</p>
<p>Comments supported:</p>
<div class="highlight-properties notranslate"><div class="highlight"><pre><span></span><span class="c"># a comment</span>
<span class="c">// a comment (only at the beginning of a line)</span>

<span class="c"># The following are # escaped to render in docs</span>
<span class="c"># ! is standard but not widely supported</span>
<span class="c">#! a comment</span>
<span class="c"># /* is non-standard but used on some implementations</span>
<span class="c">#/* a comment (not across multiple lines) */</span>
</pre></div>
</div>
<p>Name and Value pairs:</p>
<div class="highlight-properties notranslate"><div class="highlight"><pre><span></span><span class="c"># Delimiters</span>
<span class="na">key</span> <span class="o">=</span> <span class="s">value</span>
<span class="na">key</span> <span class="o">:</span> <span class="s">value</span>
<span class="c"># Whitespace delimiter</span>
<span class="c"># key[sp]value</span>

<span class="c"># Space in key and around value</span>
<span class="na">\ key\</span> <span class="o">=</span> <span class="s">\ value</span>

<span class="c"># Note that the b and c are escaped for reST rendering</span>
<span class="na">b</span> <span class="o">=</span> <span class="s">a string with escape sequences \t \n \r \\ \&quot; \&#39; \ (space) \u0123</span>
<span class="na">c</span> <span class="o">=</span> <span class="s">a string with a continuation line \</span>
<span class="s">    continuation line</span>

<span class="c"># Special cases</span>
<span class="c"># key with no value</span>
<span class="c">//key (escaped; doesn&#39;t render in docs)</span>
<span class="c"># value no key (extractable in prop2po but not mergeable in po2prop)</span>
<span class="o">=</span><span class="s">value</span>

<span class="c"># .strings specific</span>
<span class="na">&quot;key&quot;</span> <span class="o">=</span> <span class="s">&quot;value&quot;;</span>
</pre></div>
</div>
<dl class="class">
<dt id="translate.storage.properties.Dialect">
<em class="property">class </em><code class="descclassname">translate.storage.properties.</code><code class="descname">Dialect</code><a class="headerlink" href="#translate.storage.properties.Dialect" title="Permalink to this definition">¶</a></dt>
<dd><p>Settings for the various behaviours in key=value files.</p>
<dl class="classmethod">
<dt id="translate.storage.properties.Dialect.encode">
<em class="property">classmethod </em><code class="descname">encode</code><span class="sig-paren">(</span><em>string</em>, <em>encoding=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.Dialect.encode" title="Permalink to this definition">¶</a></dt>
<dd><p>Encode the string</p>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.properties.Dialect.find_delimiter">
<em class="property">classmethod </em><code class="descname">find_delimiter</code><span class="sig-paren">(</span><em>line</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.Dialect.find_delimiter" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the type and position of the delimiter in a property line.</p>
<p>Property files can be delimited by “=”, “:” or whitespace (space for now).
We find the position of each delimiter, then find the one that appears
first.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>line</strong> (<a class="reference external" href="https://docs.python.org/2.7/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) – A properties line</li>
<li><strong>delimiters</strong> (<em>list</em>) – valid delimiters</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">delimiter character and offset within <em>line</em></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">Tuple (delimiter char, Offset Integer)</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.properties.Dialect.key_strip">
<em class="property">classmethod </em><code class="descname">key_strip</code><span class="sig-paren">(</span><em>key</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.Dialect.key_strip" title="Permalink to this definition">¶</a></dt>
<dd><p>Strip unneeded characters from the key</p>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.properties.Dialect.value_strip">
<em class="property">classmethod </em><code class="descname">value_strip</code><span class="sig-paren">(</span><em>value</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.Dialect.value_strip" title="Permalink to this definition">¶</a></dt>
<dd><p>Strip unneeded characters from the value</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="translate.storage.properties.DialectFlex">
<em class="property">class </em><code class="descclassname">translate.storage.properties.</code><code class="descname">DialectFlex</code><a class="headerlink" href="#translate.storage.properties.DialectFlex" title="Permalink to this definition">¶</a></dt>
<dd><dl class="classmethod">
<dt id="translate.storage.properties.DialectFlex.encode">
<em class="property">classmethod </em><code class="descname">encode</code><span class="sig-paren">(</span><em>string</em>, <em>encoding=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.DialectFlex.encode" title="Permalink to this definition">¶</a></dt>
<dd><p>Encode the string</p>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.properties.DialectFlex.find_delimiter">
<em class="property">classmethod </em><code class="descname">find_delimiter</code><span class="sig-paren">(</span><em>line</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.DialectFlex.find_delimiter" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the type and position of the delimiter in a property line.</p>
<p>Property files can be delimited by “=”, “:” or whitespace (space for now).
We find the position of each delimiter, then find the one that appears
first.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>line</strong> (<a class="reference external" href="https://docs.python.org/2.7/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) – A properties line</li>
<li><strong>delimiters</strong> (<em>list</em>) – valid delimiters</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">delimiter character and offset within <em>line</em></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">Tuple (delimiter char, Offset Integer)</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.properties.DialectFlex.key_strip">
<em class="property">classmethod </em><code class="descname">key_strip</code><span class="sig-paren">(</span><em>key</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.DialectFlex.key_strip" title="Permalink to this definition">¶</a></dt>
<dd><p>Strip unneeded characters from the key</p>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.properties.DialectFlex.value_strip">
<em class="property">classmethod </em><code class="descname">value_strip</code><span class="sig-paren">(</span><em>value</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.DialectFlex.value_strip" title="Permalink to this definition">¶</a></dt>
<dd><p>Strip unneeded characters from the value</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="translate.storage.properties.DialectGaia">
<em class="property">class </em><code class="descclassname">translate.storage.properties.</code><code class="descname">DialectGaia</code><a class="headerlink" href="#translate.storage.properties.DialectGaia" title="Permalink to this definition">¶</a></dt>
<dd><dl class="classmethod">
<dt id="translate.storage.properties.DialectGaia.encode">
<em class="property">classmethod </em><code class="descname">encode</code><span class="sig-paren">(</span><em>string</em>, <em>encoding=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.DialectGaia.encode" title="Permalink to this definition">¶</a></dt>
<dd><p>Encode the string</p>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.properties.DialectGaia.find_delimiter">
<em class="property">classmethod </em><code class="descname">find_delimiter</code><span class="sig-paren">(</span><em>line</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.DialectGaia.find_delimiter" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the type and position of the delimiter in a property line.</p>
<p>Property files can be delimited by “=”, “:” or whitespace (space for now).
We find the position of each delimiter, then find the one that appears
first.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>line</strong> (<a class="reference external" href="https://docs.python.org/2.7/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) – A properties line</li>
<li><strong>delimiters</strong> (<em>list</em>) – valid delimiters</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">delimiter character and offset within <em>line</em></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">Tuple (delimiter char, Offset Integer)</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.properties.DialectGaia.key_strip">
<em class="property">classmethod </em><code class="descname">key_strip</code><span class="sig-paren">(</span><em>key</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.DialectGaia.key_strip" title="Permalink to this definition">¶</a></dt>
<dd><p>Strip unneeded characters from the key</p>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.properties.DialectGaia.value_strip">
<em class="property">classmethod </em><code class="descname">value_strip</code><span class="sig-paren">(</span><em>value</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.DialectGaia.value_strip" title="Permalink to this definition">¶</a></dt>
<dd><p>Strip unneeded characters from the value</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="translate.storage.properties.DialectJava">
<em class="property">class </em><code class="descclassname">translate.storage.properties.</code><code class="descname">DialectJava</code><a class="headerlink" href="#translate.storage.properties.DialectJava" title="Permalink to this definition">¶</a></dt>
<dd><dl class="classmethod">
<dt id="translate.storage.properties.DialectJava.encode">
<em class="property">classmethod </em><code class="descname">encode</code><span class="sig-paren">(</span><em>string</em>, <em>encoding=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.DialectJava.encode" title="Permalink to this definition">¶</a></dt>
<dd><p>Encode the string</p>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.properties.DialectJava.find_delimiter">
<em class="property">classmethod </em><code class="descname">find_delimiter</code><span class="sig-paren">(</span><em>line</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.DialectJava.find_delimiter" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the type and position of the delimiter in a property line.</p>
<p>Property files can be delimited by “=”, “:” or whitespace (space for now).
We find the position of each delimiter, then find the one that appears
first.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>line</strong> (<a class="reference external" href="https://docs.python.org/2.7/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) – A properties line</li>
<li><strong>delimiters</strong> (<em>list</em>) – valid delimiters</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">delimiter character and offset within <em>line</em></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">Tuple (delimiter char, Offset Integer)</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.properties.DialectJava.key_strip">
<em class="property">classmethod </em><code class="descname">key_strip</code><span class="sig-paren">(</span><em>key</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.DialectJava.key_strip" title="Permalink to this definition">¶</a></dt>
<dd><p>Strip unneeded characters from the key</p>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.properties.DialectJava.value_strip">
<em class="property">classmethod </em><code class="descname">value_strip</code><span class="sig-paren">(</span><em>value</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.DialectJava.value_strip" title="Permalink to this definition">¶</a></dt>
<dd><p>Strip unneeded characters from the value</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="translate.storage.properties.DialectJavaUtf16">
<em class="property">class </em><code class="descclassname">translate.storage.properties.</code><code class="descname">DialectJavaUtf16</code><a class="headerlink" href="#translate.storage.properties.DialectJavaUtf16" title="Permalink to this definition">¶</a></dt>
<dd><dl class="classmethod">
<dt id="translate.storage.properties.DialectJavaUtf16.encode">
<em class="property">classmethod </em><code class="descname">encode</code><span class="sig-paren">(</span><em>string</em>, <em>encoding=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.DialectJavaUtf16.encode" title="Permalink to this definition">¶</a></dt>
<dd><p>Encode the string</p>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.properties.DialectJavaUtf16.find_delimiter">
<em class="property">classmethod </em><code class="descname">find_delimiter</code><span class="sig-paren">(</span><em>line</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.DialectJavaUtf16.find_delimiter" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the type and position of the delimiter in a property line.</p>
<p>Property files can be delimited by “=”, “:” or whitespace (space for now).
We find the position of each delimiter, then find the one that appears
first.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>line</strong> (<a class="reference external" href="https://docs.python.org/2.7/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) – A properties line</li>
<li><strong>delimiters</strong> (<em>list</em>) – valid delimiters</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">delimiter character and offset within <em>line</em></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">Tuple (delimiter char, Offset Integer)</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.properties.DialectJavaUtf16.key_strip">
<em class="property">classmethod </em><code class="descname">key_strip</code><span class="sig-paren">(</span><em>key</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.DialectJavaUtf16.key_strip" title="Permalink to this definition">¶</a></dt>
<dd><p>Strip unneeded characters from the key</p>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.properties.DialectJavaUtf16.value_strip">
<em class="property">classmethod </em><code class="descname">value_strip</code><span class="sig-paren">(</span><em>value</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.DialectJavaUtf16.value_strip" title="Permalink to this definition">¶</a></dt>
<dd><p>Strip unneeded characters from the value</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="translate.storage.properties.DialectJavaUtf8">
<em class="property">class </em><code class="descclassname">translate.storage.properties.</code><code class="descname">DialectJavaUtf8</code><a class="headerlink" href="#translate.storage.properties.DialectJavaUtf8" title="Permalink to this definition">¶</a></dt>
<dd><dl class="classmethod">
<dt id="translate.storage.properties.DialectJavaUtf8.encode">
<em class="property">classmethod </em><code class="descname">encode</code><span class="sig-paren">(</span><em>string</em>, <em>encoding=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.DialectJavaUtf8.encode" title="Permalink to this definition">¶</a></dt>
<dd><p>Encode the string</p>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.properties.DialectJavaUtf8.find_delimiter">
<em class="property">classmethod </em><code class="descname">find_delimiter</code><span class="sig-paren">(</span><em>line</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.DialectJavaUtf8.find_delimiter" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the type and position of the delimiter in a property line.</p>
<p>Property files can be delimited by “=”, “:” or whitespace (space for now).
We find the position of each delimiter, then find the one that appears
first.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>line</strong> (<a class="reference external" href="https://docs.python.org/2.7/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) – A properties line</li>
<li><strong>delimiters</strong> (<em>list</em>) – valid delimiters</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">delimiter character and offset within <em>line</em></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">Tuple (delimiter char, Offset Integer)</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.properties.DialectJavaUtf8.key_strip">
<em class="property">classmethod </em><code class="descname">key_strip</code><span class="sig-paren">(</span><em>key</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.DialectJavaUtf8.key_strip" title="Permalink to this definition">¶</a></dt>
<dd><p>Strip unneeded characters from the key</p>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.properties.DialectJavaUtf8.value_strip">
<em class="property">classmethod </em><code class="descname">value_strip</code><span class="sig-paren">(</span><em>value</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.DialectJavaUtf8.value_strip" title="Permalink to this definition">¶</a></dt>
<dd><p>Strip unneeded characters from the value</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="translate.storage.properties.DialectJoomla">
<em class="property">class </em><code class="descclassname">translate.storage.properties.</code><code class="descname">DialectJoomla</code><a class="headerlink" href="#translate.storage.properties.DialectJoomla" title="Permalink to this definition">¶</a></dt>
<dd><dl class="classmethod">
<dt id="translate.storage.properties.DialectJoomla.encode">
<em class="property">classmethod </em><code class="descname">encode</code><span class="sig-paren">(</span><em>string</em>, <em>encoding=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.DialectJoomla.encode" title="Permalink to this definition">¶</a></dt>
<dd><p>Encode the string</p>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.properties.DialectJoomla.find_delimiter">
<em class="property">classmethod </em><code class="descname">find_delimiter</code><span class="sig-paren">(</span><em>line</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.DialectJoomla.find_delimiter" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the type and position of the delimiter in a property line.</p>
<p>Property files can be delimited by “=”, “:” or whitespace (space for now).
We find the position of each delimiter, then find the one that appears
first.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>line</strong> (<a class="reference external" href="https://docs.python.org/2.7/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) – A properties line</li>
<li><strong>delimiters</strong> (<em>list</em>) – valid delimiters</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">delimiter character and offset within <em>line</em></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">Tuple (delimiter char, Offset Integer)</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.properties.DialectJoomla.key_strip">
<em class="property">classmethod </em><code class="descname">key_strip</code><span class="sig-paren">(</span><em>key</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.DialectJoomla.key_strip" title="Permalink to this definition">¶</a></dt>
<dd><p>Strip unneeded characters from the key</p>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.properties.DialectJoomla.value_strip">
<em class="property">classmethod </em><code class="descname">value_strip</code><span class="sig-paren">(</span><em>value</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.DialectJoomla.value_strip" title="Permalink to this definition">¶</a></dt>
<dd><p>Strip unneeded characters from the value</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="translate.storage.properties.DialectMozilla">
<em class="property">class </em><code class="descclassname">translate.storage.properties.</code><code class="descname">DialectMozilla</code><a class="headerlink" href="#translate.storage.properties.DialectMozilla" title="Permalink to this definition">¶</a></dt>
<dd><dl class="classmethod">
<dt id="translate.storage.properties.DialectMozilla.encode">
<em class="property">classmethod </em><code class="descname">encode</code><span class="sig-paren">(</span><em>string</em>, <em>encoding=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.DialectMozilla.encode" title="Permalink to this definition">¶</a></dt>
<dd><p>Encode the string</p>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.properties.DialectMozilla.find_delimiter">
<em class="property">classmethod </em><code class="descname">find_delimiter</code><span class="sig-paren">(</span><em>line</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.DialectMozilla.find_delimiter" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the type and position of the delimiter in a property line.</p>
<p>Property files can be delimited by “=”, “:” or whitespace (space for now).
We find the position of each delimiter, then find the one that appears
first.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>line</strong> (<a class="reference external" href="https://docs.python.org/2.7/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) – A properties line</li>
<li><strong>delimiters</strong> (<em>list</em>) – valid delimiters</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">delimiter character and offset within <em>line</em></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">Tuple (delimiter char, Offset Integer)</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.properties.DialectMozilla.key_strip">
<em class="property">classmethod </em><code class="descname">key_strip</code><span class="sig-paren">(</span><em>key</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.DialectMozilla.key_strip" title="Permalink to this definition">¶</a></dt>
<dd><p>Strip unneeded characters from the key</p>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.properties.DialectMozilla.value_strip">
<em class="property">classmethod </em><code class="descname">value_strip</code><span class="sig-paren">(</span><em>value</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.DialectMozilla.value_strip" title="Permalink to this definition">¶</a></dt>
<dd><p>Strip unneeded characters from the value</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="translate.storage.properties.DialectSkype">
<em class="property">class </em><code class="descclassname">translate.storage.properties.</code><code class="descname">DialectSkype</code><a class="headerlink" href="#translate.storage.properties.DialectSkype" title="Permalink to this definition">¶</a></dt>
<dd><dl class="classmethod">
<dt id="translate.storage.properties.DialectSkype.encode">
<em class="property">classmethod </em><code class="descname">encode</code><span class="sig-paren">(</span><em>string</em>, <em>encoding=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.DialectSkype.encode" title="Permalink to this definition">¶</a></dt>
<dd><p>Encode the string</p>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.properties.DialectSkype.find_delimiter">
<em class="property">classmethod </em><code class="descname">find_delimiter</code><span class="sig-paren">(</span><em>line</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.DialectSkype.find_delimiter" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the type and position of the delimiter in a property line.</p>
<p>Property files can be delimited by “=”, “:” or whitespace (space for now).
We find the position of each delimiter, then find the one that appears
first.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>line</strong> (<a class="reference external" href="https://docs.python.org/2.7/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) – A properties line</li>
<li><strong>delimiters</strong> (<em>list</em>) – valid delimiters</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">delimiter character and offset within <em>line</em></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">Tuple (delimiter char, Offset Integer)</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.properties.DialectSkype.key_strip">
<em class="property">classmethod </em><code class="descname">key_strip</code><span class="sig-paren">(</span><em>key</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.DialectSkype.key_strip" title="Permalink to this definition">¶</a></dt>
<dd><p>Strip unneeded characters from the key</p>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.properties.DialectSkype.value_strip">
<em class="property">classmethod </em><code class="descname">value_strip</code><span class="sig-paren">(</span><em>value</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.DialectSkype.value_strip" title="Permalink to this definition">¶</a></dt>
<dd><p>Strip unneeded characters from the value</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="translate.storage.properties.DialectStrings">
<em class="property">class </em><code class="descclassname">translate.storage.properties.</code><code class="descname">DialectStrings</code><a class="headerlink" href="#translate.storage.properties.DialectStrings" title="Permalink to this definition">¶</a></dt>
<dd><dl class="classmethod">
<dt id="translate.storage.properties.DialectStrings.encode">
<em class="property">classmethod </em><code class="descname">encode</code><span class="sig-paren">(</span><em>string</em>, <em>encoding=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.DialectStrings.encode" title="Permalink to this definition">¶</a></dt>
<dd><p>Encode the string</p>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.properties.DialectStrings.find_delimiter">
<em class="property">classmethod </em><code class="descname">find_delimiter</code><span class="sig-paren">(</span><em>line</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.DialectStrings.find_delimiter" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the type and position of the delimiter in a property line.</p>
<p>Property files can be delimited by “=”, “:” or whitespace (space for now).
We find the position of each delimiter, then find the one that appears
first.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>line</strong> (<a class="reference external" href="https://docs.python.org/2.7/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) – A properties line</li>
<li><strong>delimiters</strong> (<em>list</em>) – valid delimiters</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">delimiter character and offset within <em>line</em></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">Tuple (delimiter char, Offset Integer)</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.properties.DialectStrings.key_strip">
<em class="property">classmethod </em><code class="descname">key_strip</code><span class="sig-paren">(</span><em>key</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.DialectStrings.key_strip" title="Permalink to this definition">¶</a></dt>
<dd><p>Strip unneeded characters from the key</p>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.properties.DialectStrings.value_strip">
<em class="property">classmethod </em><code class="descname">value_strip</code><span class="sig-paren">(</span><em>value</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.DialectStrings.value_strip" title="Permalink to this definition">¶</a></dt>
<dd><p>Strip unneeded characters from the value</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="translate.storage.properties.DialectStringsUtf8">
<em class="property">class </em><code class="descclassname">translate.storage.properties.</code><code class="descname">DialectStringsUtf8</code><a class="headerlink" href="#translate.storage.properties.DialectStringsUtf8" title="Permalink to this definition">¶</a></dt>
<dd><dl class="classmethod">
<dt id="translate.storage.properties.DialectStringsUtf8.encode">
<em class="property">classmethod </em><code class="descname">encode</code><span class="sig-paren">(</span><em>string</em>, <em>encoding=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.DialectStringsUtf8.encode" title="Permalink to this definition">¶</a></dt>
<dd><p>Encode the string</p>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.properties.DialectStringsUtf8.find_delimiter">
<em class="property">classmethod </em><code class="descname">find_delimiter</code><span class="sig-paren">(</span><em>line</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.DialectStringsUtf8.find_delimiter" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the type and position of the delimiter in a property line.</p>
<p>Property files can be delimited by “=”, “:” or whitespace (space for now).
We find the position of each delimiter, then find the one that appears
first.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>line</strong> (<a class="reference external" href="https://docs.python.org/2.7/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) – A properties line</li>
<li><strong>delimiters</strong> (<em>list</em>) – valid delimiters</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">delimiter character and offset within <em>line</em></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">Tuple (delimiter char, Offset Integer)</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.properties.DialectStringsUtf8.key_strip">
<em class="property">classmethod </em><code class="descname">key_strip</code><span class="sig-paren">(</span><em>key</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.DialectStringsUtf8.key_strip" title="Permalink to this definition">¶</a></dt>
<dd><p>Strip unneeded characters from the key</p>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.properties.DialectStringsUtf8.value_strip">
<em class="property">classmethod </em><code class="descname">value_strip</code><span class="sig-paren">(</span><em>value</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.DialectStringsUtf8.value_strip" title="Permalink to this definition">¶</a></dt>
<dd><p>Strip unneeded characters from the value</p>
</dd></dl>

</dd></dl>

<dl class="data">
<dt id="translate.storage.properties.accesskeysuffixes">
<code class="descclassname">translate.storage.properties.</code><code class="descname">accesskeysuffixes</code><em class="property"> = ('.accesskey', '.accessKey', '.akey')</em><a class="headerlink" href="#translate.storage.properties.accesskeysuffixes" title="Permalink to this definition">¶</a></dt>
<dd><p>Accesskey Suffixes: entries with this suffix may be combined with labels
ending in <code class="xref py py-attr docutils literal notranslate"><span class="pre">labelsuffixes</span></code> into accelerator notation</p>
</dd></dl>

<dl class="function">
<dt id="translate.storage.properties.is_comment_end">
<code class="descclassname">translate.storage.properties.</code><code class="descname">is_comment_end</code><span class="sig-paren">(</span><em>line</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.is_comment_end" title="Permalink to this definition">¶</a></dt>
<dd><p>Determine whether a <em>line</em> ends a new multi-line comment.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>line</strong> (<em>unicode</em>) – A properties line</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">True if line ends a new multi-line comment</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/2.7/library/functions.html#bool" title="(in Python v2.7)">bool</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="translate.storage.properties.is_comment_one_line">
<code class="descclassname">translate.storage.properties.</code><code class="descname">is_comment_one_line</code><span class="sig-paren">(</span><em>line</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.is_comment_one_line" title="Permalink to this definition">¶</a></dt>
<dd><p>Determine whether a <em>line</em> is a one-line comment.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>line</strong> (<em>unicode</em>) – A properties line</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">True if line is a one-line comment</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/2.7/library/functions.html#bool" title="(in Python v2.7)">bool</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="translate.storage.properties.is_comment_start">
<code class="descclassname">translate.storage.properties.</code><code class="descname">is_comment_start</code><span class="sig-paren">(</span><em>line</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.is_comment_start" title="Permalink to this definition">¶</a></dt>
<dd><p>Determine whether a <em>line</em> starts a new multi-line comment.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>line</strong> (<em>unicode</em>) – A properties line</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">True if line starts a new multi-line comment</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/2.7/library/functions.html#bool" title="(in Python v2.7)">bool</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="translate.storage.properties.is_line_continuation">
<code class="descclassname">translate.storage.properties.</code><code class="descname">is_line_continuation</code><span class="sig-paren">(</span><em>line</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.is_line_continuation" title="Permalink to this definition">¶</a></dt>
<dd><p>Determine whether <em>line</em> has a line continuation marker.</p>
<p>.properties files can be terminated with a backslash () indicating
that the ‘value’ continues on the next line.  Continuation is only
valid if there are an odd number of backslashses (an even number
would result in a set of N/2 slashes not an escape)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>line</strong> (<a class="reference external" href="https://docs.python.org/2.7/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) – A properties line</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">Does <em>line</em> end with a line continuation</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">Boolean</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="class">
<dt id="translate.storage.properties.javafile">
<em class="property">class </em><code class="descclassname">translate.storage.properties.</code><code class="descname">javafile</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.javafile" title="Permalink to this definition">¶</a></dt>
<dd><dl class="attribute">
<dt id="translate.storage.properties.javafile.UnitClass">
<code class="descname">UnitClass</code><a class="headerlink" href="#translate.storage.properties.javafile.UnitClass" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <a class="reference internal" href="#translate.storage.properties.propunit" title="translate.storage.properties.propunit"><code class="xref py py-class docutils literal notranslate"><span class="pre">propunit</span></code></a></p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.javafile.add_unit_to_index">
<code class="descname">add_unit_to_index</code><span class="sig-paren">(</span><em>unit</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.javafile.add_unit_to_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a unit to source and location idexes</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.javafile.addsourceunit">
<code class="descname">addsourceunit</code><span class="sig-paren">(</span><em>source</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.javafile.addsourceunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Add and returns a new unit with the given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><code class="xref py py-class docutils literal notranslate"><span class="pre">TranslationUnit</span></code></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.javafile.addunit">
<code class="descname">addunit</code><span class="sig-paren">(</span><em>unit</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.javafile.addunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Append the given unit to the object’s list of units.</p>
<p>This method should always be used rather than trying to modify the
list manually.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>unit</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">TranslationUnit</span></code>) – The unit that will be added.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.javafile.detect_encoding">
<code class="descname">detect_encoding</code><span class="sig-paren">(</span><em>text</em>, <em>default_encodings=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.javafile.detect_encoding" title="Permalink to this definition">¶</a></dt>
<dd><p>Try to detect a file encoding from <cite>text</cite>, using either the chardet lib
or by trying to decode the file.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.javafile.fallback_detection">
<code class="descname">fallback_detection</code><span class="sig-paren">(</span><em>text</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.javafile.fallback_detection" title="Permalink to this definition">¶</a></dt>
<dd><p>Simple detection based on BOM in case chardet is not available.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.javafile.findid">
<code class="descname">findid</code><span class="sig-paren">(</span><em>id</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.javafile.findid" title="Permalink to this definition">¶</a></dt>
<dd><p>find unit with matching id by checking id_index</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.javafile.findunit">
<code class="descname">findunit</code><span class="sig-paren">(</span><em>source</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.javafile.findunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the unit with the given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><code class="xref py py-class docutils literal notranslate"><span class="pre">TranslationUnit</span></code> or None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.javafile.findunits">
<code class="descname">findunits</code><span class="sig-paren">(</span><em>source</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.javafile.findunits" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the units with the given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><code class="xref py py-class docutils literal notranslate"><span class="pre">TranslationUnit</span></code> or None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.javafile.getids">
<code class="descname">getids</code><span class="sig-paren">(</span><em>filename=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.javafile.getids" title="Permalink to this definition">¶</a></dt>
<dd><p>return a list of unit ids</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.javafile.getprojectstyle">
<code class="descname">getprojectstyle</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.javafile.getprojectstyle" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the project type for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.javafile.getsourcelanguage">
<code class="descname">getsourcelanguage</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.javafile.getsourcelanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the source language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.javafile.gettargetlanguage">
<code class="descname">gettargetlanguage</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.javafile.gettargetlanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the target language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.javafile.getunits">
<code class="descname">getunits</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.javafile.getunits" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of all units in this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.javafile.isempty">
<code class="descname">isempty</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.javafile.isempty" title="Permalink to this definition">¶</a></dt>
<dd><p>Return True if the object doesn’t contain any translation units.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.javafile.makeindex">
<code class="descname">makeindex</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.javafile.makeindex" title="Permalink to this definition">¶</a></dt>
<dd><p>Indexes the items in this store. At least .sourceindex should be
useful.</p>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.properties.javafile.merge_on">
<code class="descname">merge_on</code><a class="headerlink" href="#translate.storage.properties.javafile.merge_on" title="Permalink to this definition">¶</a></dt>
<dd><p>The matching criterion to use when merging on.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The default matching criterion for all the subclasses.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">string</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.javafile.parse">
<code class="descname">parse</code><span class="sig-paren">(</span><em>propsrc</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.javafile.parse" title="Permalink to this definition">¶</a></dt>
<dd><p>Read the source of a properties file in and include them as units.</p>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.properties.javafile.parsefile">
<em class="property">classmethod </em><code class="descname">parsefile</code><span class="sig-paren">(</span><em>storefile</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.javafile.parsefile" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads the given file (or opens the given filename) and parses back
to an object.</p>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.properties.javafile.parsestring">
<em class="property">classmethod </em><code class="descname">parsestring</code><span class="sig-paren">(</span><em>storestring</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.javafile.parsestring" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert the string representation back to an object.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.javafile.remove_unit_from_index">
<code class="descname">remove_unit_from_index</code><span class="sig-paren">(</span><em>unit</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.javafile.remove_unit_from_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove a unit from source and locaton indexes</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.javafile.require_index">
<code class="descname">require_index</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.javafile.require_index" title="Permalink to this definition">¶</a></dt>
<dd><p>make sure source index exists</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.javafile.save">
<code class="descname">save</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.javafile.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Save to the file that data was originally read from, if available.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.javafile.savefile">
<code class="descname">savefile</code><span class="sig-paren">(</span><em>storefile</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.javafile.savefile" title="Permalink to this definition">¶</a></dt>
<dd><p>Write the string representation to the given file (or filename).</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.javafile.serialize">
<code class="descname">serialize</code><span class="sig-paren">(</span><em>out</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.javafile.serialize" title="Permalink to this definition">¶</a></dt>
<dd><p>Write the units back to file.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.javafile.setprojectstyle">
<code class="descname">setprojectstyle</code><span class="sig-paren">(</span><em>project_style</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.javafile.setprojectstyle" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the project type for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.javafile.setsourcelanguage">
<code class="descname">setsourcelanguage</code><span class="sig-paren">(</span><em>sourcelanguage</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.javafile.setsourcelanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the source language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.javafile.settargetlanguage">
<code class="descname">settargetlanguage</code><span class="sig-paren">(</span><em>targetlanguage</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.javafile.settargetlanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the target language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.javafile.translate">
<code class="descname">translate</code><span class="sig-paren">(</span><em>source</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.javafile.translate" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the translated string for a given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">String or <a class="reference external" href="https://docs.python.org/2.7/library/constants.html#None" title="(in Python v2.7)">None</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.javafile.unit_iter">
<code class="descname">unit_iter</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.javafile.unit_iter" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterator over all the units in this store.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="translate.storage.properties.javautf16file">
<em class="property">class </em><code class="descclassname">translate.storage.properties.</code><code class="descname">javautf16file</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.javautf16file" title="Permalink to this definition">¶</a></dt>
<dd><dl class="attribute">
<dt id="translate.storage.properties.javautf16file.UnitClass">
<code class="descname">UnitClass</code><a class="headerlink" href="#translate.storage.properties.javautf16file.UnitClass" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <a class="reference internal" href="#translate.storage.properties.propunit" title="translate.storage.properties.propunit"><code class="xref py py-class docutils literal notranslate"><span class="pre">propunit</span></code></a></p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.javautf16file.add_unit_to_index">
<code class="descname">add_unit_to_index</code><span class="sig-paren">(</span><em>unit</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.javautf16file.add_unit_to_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a unit to source and location idexes</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.javautf16file.addsourceunit">
<code class="descname">addsourceunit</code><span class="sig-paren">(</span><em>source</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.javautf16file.addsourceunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Add and returns a new unit with the given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><code class="xref py py-class docutils literal notranslate"><span class="pre">TranslationUnit</span></code></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.javautf16file.addunit">
<code class="descname">addunit</code><span class="sig-paren">(</span><em>unit</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.javautf16file.addunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Append the given unit to the object’s list of units.</p>
<p>This method should always be used rather than trying to modify the
list manually.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>unit</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">TranslationUnit</span></code>) – The unit that will be added.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.javautf16file.detect_encoding">
<code class="descname">detect_encoding</code><span class="sig-paren">(</span><em>text</em>, <em>default_encodings=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.javautf16file.detect_encoding" title="Permalink to this definition">¶</a></dt>
<dd><p>Try to detect a file encoding from <cite>text</cite>, using either the chardet lib
or by trying to decode the file.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.javautf16file.fallback_detection">
<code class="descname">fallback_detection</code><span class="sig-paren">(</span><em>text</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.javautf16file.fallback_detection" title="Permalink to this definition">¶</a></dt>
<dd><p>Simple detection based on BOM in case chardet is not available.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.javautf16file.findid">
<code class="descname">findid</code><span class="sig-paren">(</span><em>id</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.javautf16file.findid" title="Permalink to this definition">¶</a></dt>
<dd><p>find unit with matching id by checking id_index</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.javautf16file.findunit">
<code class="descname">findunit</code><span class="sig-paren">(</span><em>source</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.javautf16file.findunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the unit with the given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><code class="xref py py-class docutils literal notranslate"><span class="pre">TranslationUnit</span></code> or None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.javautf16file.findunits">
<code class="descname">findunits</code><span class="sig-paren">(</span><em>source</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.javautf16file.findunits" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the units with the given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><code class="xref py py-class docutils literal notranslate"><span class="pre">TranslationUnit</span></code> or None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.javautf16file.getids">
<code class="descname">getids</code><span class="sig-paren">(</span><em>filename=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.javautf16file.getids" title="Permalink to this definition">¶</a></dt>
<dd><p>return a list of unit ids</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.javautf16file.getprojectstyle">
<code class="descname">getprojectstyle</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.javautf16file.getprojectstyle" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the project type for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.javautf16file.getsourcelanguage">
<code class="descname">getsourcelanguage</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.javautf16file.getsourcelanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the source language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.javautf16file.gettargetlanguage">
<code class="descname">gettargetlanguage</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.javautf16file.gettargetlanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the target language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.javautf16file.getunits">
<code class="descname">getunits</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.javautf16file.getunits" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of all units in this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.javautf16file.isempty">
<code class="descname">isempty</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.javautf16file.isempty" title="Permalink to this definition">¶</a></dt>
<dd><p>Return True if the object doesn’t contain any translation units.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.javautf16file.makeindex">
<code class="descname">makeindex</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.javautf16file.makeindex" title="Permalink to this definition">¶</a></dt>
<dd><p>Indexes the items in this store. At least .sourceindex should be
useful.</p>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.properties.javautf16file.merge_on">
<code class="descname">merge_on</code><a class="headerlink" href="#translate.storage.properties.javautf16file.merge_on" title="Permalink to this definition">¶</a></dt>
<dd><p>The matching criterion to use when merging on.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The default matching criterion for all the subclasses.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">string</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.javautf16file.parse">
<code class="descname">parse</code><span class="sig-paren">(</span><em>propsrc</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.javautf16file.parse" title="Permalink to this definition">¶</a></dt>
<dd><p>Read the source of a properties file in and include them as units.</p>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.properties.javautf16file.parsefile">
<em class="property">classmethod </em><code class="descname">parsefile</code><span class="sig-paren">(</span><em>storefile</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.javautf16file.parsefile" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads the given file (or opens the given filename) and parses back
to an object.</p>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.properties.javautf16file.parsestring">
<em class="property">classmethod </em><code class="descname">parsestring</code><span class="sig-paren">(</span><em>storestring</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.javautf16file.parsestring" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert the string representation back to an object.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.javautf16file.remove_unit_from_index">
<code class="descname">remove_unit_from_index</code><span class="sig-paren">(</span><em>unit</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.javautf16file.remove_unit_from_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove a unit from source and locaton indexes</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.javautf16file.require_index">
<code class="descname">require_index</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.javautf16file.require_index" title="Permalink to this definition">¶</a></dt>
<dd><p>make sure source index exists</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.javautf16file.save">
<code class="descname">save</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.javautf16file.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Save to the file that data was originally read from, if available.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.javautf16file.savefile">
<code class="descname">savefile</code><span class="sig-paren">(</span><em>storefile</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.javautf16file.savefile" title="Permalink to this definition">¶</a></dt>
<dd><p>Write the string representation to the given file (or filename).</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.javautf16file.serialize">
<code class="descname">serialize</code><span class="sig-paren">(</span><em>out</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.javautf16file.serialize" title="Permalink to this definition">¶</a></dt>
<dd><p>Write the units back to file.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.javautf16file.setprojectstyle">
<code class="descname">setprojectstyle</code><span class="sig-paren">(</span><em>project_style</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.javautf16file.setprojectstyle" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the project type for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.javautf16file.setsourcelanguage">
<code class="descname">setsourcelanguage</code><span class="sig-paren">(</span><em>sourcelanguage</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.javautf16file.setsourcelanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the source language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.javautf16file.settargetlanguage">
<code class="descname">settargetlanguage</code><span class="sig-paren">(</span><em>targetlanguage</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.javautf16file.settargetlanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the target language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.javautf16file.translate">
<code class="descname">translate</code><span class="sig-paren">(</span><em>source</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.javautf16file.translate" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the translated string for a given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">String or <a class="reference external" href="https://docs.python.org/2.7/library/constants.html#None" title="(in Python v2.7)">None</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.javautf16file.unit_iter">
<code class="descname">unit_iter</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.javautf16file.unit_iter" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterator over all the units in this store.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="translate.storage.properties.javautf8file">
<em class="property">class </em><code class="descclassname">translate.storage.properties.</code><code class="descname">javautf8file</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.javautf8file" title="Permalink to this definition">¶</a></dt>
<dd><dl class="attribute">
<dt id="translate.storage.properties.javautf8file.UnitClass">
<code class="descname">UnitClass</code><a class="headerlink" href="#translate.storage.properties.javautf8file.UnitClass" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <a class="reference internal" href="#translate.storage.properties.propunit" title="translate.storage.properties.propunit"><code class="xref py py-class docutils literal notranslate"><span class="pre">propunit</span></code></a></p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.javautf8file.add_unit_to_index">
<code class="descname">add_unit_to_index</code><span class="sig-paren">(</span><em>unit</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.javautf8file.add_unit_to_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a unit to source and location idexes</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.javautf8file.addsourceunit">
<code class="descname">addsourceunit</code><span class="sig-paren">(</span><em>source</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.javautf8file.addsourceunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Add and returns a new unit with the given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><code class="xref py py-class docutils literal notranslate"><span class="pre">TranslationUnit</span></code></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.javautf8file.addunit">
<code class="descname">addunit</code><span class="sig-paren">(</span><em>unit</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.javautf8file.addunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Append the given unit to the object’s list of units.</p>
<p>This method should always be used rather than trying to modify the
list manually.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>unit</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">TranslationUnit</span></code>) – The unit that will be added.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.javautf8file.detect_encoding">
<code class="descname">detect_encoding</code><span class="sig-paren">(</span><em>text</em>, <em>default_encodings=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.javautf8file.detect_encoding" title="Permalink to this definition">¶</a></dt>
<dd><p>Try to detect a file encoding from <cite>text</cite>, using either the chardet lib
or by trying to decode the file.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.javautf8file.fallback_detection">
<code class="descname">fallback_detection</code><span class="sig-paren">(</span><em>text</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.javautf8file.fallback_detection" title="Permalink to this definition">¶</a></dt>
<dd><p>Simple detection based on BOM in case chardet is not available.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.javautf8file.findid">
<code class="descname">findid</code><span class="sig-paren">(</span><em>id</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.javautf8file.findid" title="Permalink to this definition">¶</a></dt>
<dd><p>find unit with matching id by checking id_index</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.javautf8file.findunit">
<code class="descname">findunit</code><span class="sig-paren">(</span><em>source</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.javautf8file.findunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the unit with the given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><code class="xref py py-class docutils literal notranslate"><span class="pre">TranslationUnit</span></code> or None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.javautf8file.findunits">
<code class="descname">findunits</code><span class="sig-paren">(</span><em>source</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.javautf8file.findunits" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the units with the given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><code class="xref py py-class docutils literal notranslate"><span class="pre">TranslationUnit</span></code> or None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.javautf8file.getids">
<code class="descname">getids</code><span class="sig-paren">(</span><em>filename=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.javautf8file.getids" title="Permalink to this definition">¶</a></dt>
<dd><p>return a list of unit ids</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.javautf8file.getprojectstyle">
<code class="descname">getprojectstyle</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.javautf8file.getprojectstyle" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the project type for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.javautf8file.getsourcelanguage">
<code class="descname">getsourcelanguage</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.javautf8file.getsourcelanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the source language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.javautf8file.gettargetlanguage">
<code class="descname">gettargetlanguage</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.javautf8file.gettargetlanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the target language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.javautf8file.getunits">
<code class="descname">getunits</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.javautf8file.getunits" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of all units in this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.javautf8file.isempty">
<code class="descname">isempty</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.javautf8file.isempty" title="Permalink to this definition">¶</a></dt>
<dd><p>Return True if the object doesn’t contain any translation units.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.javautf8file.makeindex">
<code class="descname">makeindex</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.javautf8file.makeindex" title="Permalink to this definition">¶</a></dt>
<dd><p>Indexes the items in this store. At least .sourceindex should be
useful.</p>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.properties.javautf8file.merge_on">
<code class="descname">merge_on</code><a class="headerlink" href="#translate.storage.properties.javautf8file.merge_on" title="Permalink to this definition">¶</a></dt>
<dd><p>The matching criterion to use when merging on.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The default matching criterion for all the subclasses.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">string</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.javautf8file.parse">
<code class="descname">parse</code><span class="sig-paren">(</span><em>propsrc</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.javautf8file.parse" title="Permalink to this definition">¶</a></dt>
<dd><p>Read the source of a properties file in and include them as units.</p>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.properties.javautf8file.parsefile">
<em class="property">classmethod </em><code class="descname">parsefile</code><span class="sig-paren">(</span><em>storefile</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.javautf8file.parsefile" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads the given file (or opens the given filename) and parses back
to an object.</p>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.properties.javautf8file.parsestring">
<em class="property">classmethod </em><code class="descname">parsestring</code><span class="sig-paren">(</span><em>storestring</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.javautf8file.parsestring" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert the string representation back to an object.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.javautf8file.remove_unit_from_index">
<code class="descname">remove_unit_from_index</code><span class="sig-paren">(</span><em>unit</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.javautf8file.remove_unit_from_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove a unit from source and locaton indexes</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.javautf8file.require_index">
<code class="descname">require_index</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.javautf8file.require_index" title="Permalink to this definition">¶</a></dt>
<dd><p>make sure source index exists</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.javautf8file.save">
<code class="descname">save</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.javautf8file.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Save to the file that data was originally read from, if available.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.javautf8file.savefile">
<code class="descname">savefile</code><span class="sig-paren">(</span><em>storefile</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.javautf8file.savefile" title="Permalink to this definition">¶</a></dt>
<dd><p>Write the string representation to the given file (or filename).</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.javautf8file.serialize">
<code class="descname">serialize</code><span class="sig-paren">(</span><em>out</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.javautf8file.serialize" title="Permalink to this definition">¶</a></dt>
<dd><p>Write the units back to file.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.javautf8file.setprojectstyle">
<code class="descname">setprojectstyle</code><span class="sig-paren">(</span><em>project_style</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.javautf8file.setprojectstyle" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the project type for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.javautf8file.setsourcelanguage">
<code class="descname">setsourcelanguage</code><span class="sig-paren">(</span><em>sourcelanguage</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.javautf8file.setsourcelanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the source language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.javautf8file.settargetlanguage">
<code class="descname">settargetlanguage</code><span class="sig-paren">(</span><em>targetlanguage</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.javautf8file.settargetlanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the target language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.javautf8file.translate">
<code class="descname">translate</code><span class="sig-paren">(</span><em>source</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.javautf8file.translate" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the translated string for a given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">String or <a class="reference external" href="https://docs.python.org/2.7/library/constants.html#None" title="(in Python v2.7)">None</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.javautf8file.unit_iter">
<code class="descname">unit_iter</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.javautf8file.unit_iter" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterator over all the units in this store.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="translate.storage.properties.joomlafile">
<em class="property">class </em><code class="descclassname">translate.storage.properties.</code><code class="descname">joomlafile</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.joomlafile" title="Permalink to this definition">¶</a></dt>
<dd><dl class="attribute">
<dt id="translate.storage.properties.joomlafile.UnitClass">
<code class="descname">UnitClass</code><a class="headerlink" href="#translate.storage.properties.joomlafile.UnitClass" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <a class="reference internal" href="#translate.storage.properties.propunit" title="translate.storage.properties.propunit"><code class="xref py py-class docutils literal notranslate"><span class="pre">propunit</span></code></a></p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.joomlafile.add_unit_to_index">
<code class="descname">add_unit_to_index</code><span class="sig-paren">(</span><em>unit</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.joomlafile.add_unit_to_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a unit to source and location idexes</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.joomlafile.addsourceunit">
<code class="descname">addsourceunit</code><span class="sig-paren">(</span><em>source</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.joomlafile.addsourceunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Add and returns a new unit with the given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><code class="xref py py-class docutils literal notranslate"><span class="pre">TranslationUnit</span></code></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.joomlafile.addunit">
<code class="descname">addunit</code><span class="sig-paren">(</span><em>unit</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.joomlafile.addunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Append the given unit to the object’s list of units.</p>
<p>This method should always be used rather than trying to modify the
list manually.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>unit</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">TranslationUnit</span></code>) – The unit that will be added.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.joomlafile.detect_encoding">
<code class="descname">detect_encoding</code><span class="sig-paren">(</span><em>text</em>, <em>default_encodings=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.joomlafile.detect_encoding" title="Permalink to this definition">¶</a></dt>
<dd><p>Try to detect a file encoding from <cite>text</cite>, using either the chardet lib
or by trying to decode the file.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.joomlafile.fallback_detection">
<code class="descname">fallback_detection</code><span class="sig-paren">(</span><em>text</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.joomlafile.fallback_detection" title="Permalink to this definition">¶</a></dt>
<dd><p>Simple detection based on BOM in case chardet is not available.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.joomlafile.findid">
<code class="descname">findid</code><span class="sig-paren">(</span><em>id</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.joomlafile.findid" title="Permalink to this definition">¶</a></dt>
<dd><p>find unit with matching id by checking id_index</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.joomlafile.findunit">
<code class="descname">findunit</code><span class="sig-paren">(</span><em>source</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.joomlafile.findunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the unit with the given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><code class="xref py py-class docutils literal notranslate"><span class="pre">TranslationUnit</span></code> or None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.joomlafile.findunits">
<code class="descname">findunits</code><span class="sig-paren">(</span><em>source</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.joomlafile.findunits" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the units with the given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><code class="xref py py-class docutils literal notranslate"><span class="pre">TranslationUnit</span></code> or None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.joomlafile.getids">
<code class="descname">getids</code><span class="sig-paren">(</span><em>filename=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.joomlafile.getids" title="Permalink to this definition">¶</a></dt>
<dd><p>return a list of unit ids</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.joomlafile.getprojectstyle">
<code class="descname">getprojectstyle</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.joomlafile.getprojectstyle" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the project type for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.joomlafile.getsourcelanguage">
<code class="descname">getsourcelanguage</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.joomlafile.getsourcelanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the source language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.joomlafile.gettargetlanguage">
<code class="descname">gettargetlanguage</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.joomlafile.gettargetlanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the target language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.joomlafile.getunits">
<code class="descname">getunits</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.joomlafile.getunits" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of all units in this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.joomlafile.isempty">
<code class="descname">isempty</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.joomlafile.isempty" title="Permalink to this definition">¶</a></dt>
<dd><p>Return True if the object doesn’t contain any translation units.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.joomlafile.makeindex">
<code class="descname">makeindex</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.joomlafile.makeindex" title="Permalink to this definition">¶</a></dt>
<dd><p>Indexes the items in this store. At least .sourceindex should be
useful.</p>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.properties.joomlafile.merge_on">
<code class="descname">merge_on</code><a class="headerlink" href="#translate.storage.properties.joomlafile.merge_on" title="Permalink to this definition">¶</a></dt>
<dd><p>The matching criterion to use when merging on.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The default matching criterion for all the subclasses.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">string</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.joomlafile.parse">
<code class="descname">parse</code><span class="sig-paren">(</span><em>propsrc</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.joomlafile.parse" title="Permalink to this definition">¶</a></dt>
<dd><p>Read the source of a properties file in and include them as units.</p>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.properties.joomlafile.parsefile">
<em class="property">classmethod </em><code class="descname">parsefile</code><span class="sig-paren">(</span><em>storefile</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.joomlafile.parsefile" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads the given file (or opens the given filename) and parses back
to an object.</p>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.properties.joomlafile.parsestring">
<em class="property">classmethod </em><code class="descname">parsestring</code><span class="sig-paren">(</span><em>storestring</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.joomlafile.parsestring" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert the string representation back to an object.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.joomlafile.remove_unit_from_index">
<code class="descname">remove_unit_from_index</code><span class="sig-paren">(</span><em>unit</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.joomlafile.remove_unit_from_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove a unit from source and locaton indexes</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.joomlafile.require_index">
<code class="descname">require_index</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.joomlafile.require_index" title="Permalink to this definition">¶</a></dt>
<dd><p>make sure source index exists</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.joomlafile.save">
<code class="descname">save</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.joomlafile.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Save to the file that data was originally read from, if available.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.joomlafile.savefile">
<code class="descname">savefile</code><span class="sig-paren">(</span><em>storefile</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.joomlafile.savefile" title="Permalink to this definition">¶</a></dt>
<dd><p>Write the string representation to the given file (or filename).</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.joomlafile.serialize">
<code class="descname">serialize</code><span class="sig-paren">(</span><em>out</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.joomlafile.serialize" title="Permalink to this definition">¶</a></dt>
<dd><p>Write the units back to file.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.joomlafile.setprojectstyle">
<code class="descname">setprojectstyle</code><span class="sig-paren">(</span><em>project_style</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.joomlafile.setprojectstyle" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the project type for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.joomlafile.setsourcelanguage">
<code class="descname">setsourcelanguage</code><span class="sig-paren">(</span><em>sourcelanguage</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.joomlafile.setsourcelanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the source language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.joomlafile.settargetlanguage">
<code class="descname">settargetlanguage</code><span class="sig-paren">(</span><em>targetlanguage</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.joomlafile.settargetlanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the target language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.joomlafile.translate">
<code class="descname">translate</code><span class="sig-paren">(</span><em>source</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.joomlafile.translate" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the translated string for a given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">String or <a class="reference external" href="https://docs.python.org/2.7/library/constants.html#None" title="(in Python v2.7)">None</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.joomlafile.unit_iter">
<code class="descname">unit_iter</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.joomlafile.unit_iter" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterator over all the units in this store.</p>
</dd></dl>

</dd></dl>

<dl class="data">
<dt id="translate.storage.properties.labelsuffixes">
<code class="descclassname">translate.storage.properties.</code><code class="descname">labelsuffixes</code><em class="property"> = ('.label', '.title')</em><a class="headerlink" href="#translate.storage.properties.labelsuffixes" title="Permalink to this definition">¶</a></dt>
<dd><p>Label suffixes: entries with this suffix are able to be comibed with accesskeys
found in in entries ending with <code class="xref py py-attr docutils literal notranslate"><span class="pre">accesskeysuffixes</span></code></p>
</dd></dl>

<dl class="class">
<dt id="translate.storage.properties.propfile">
<em class="property">class </em><code class="descclassname">translate.storage.properties.</code><code class="descname">propfile</code><span class="sig-paren">(</span><em>inputfile=None</em>, <em>personality='java'</em>, <em>encoding=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.propfile" title="Permalink to this definition">¶</a></dt>
<dd><p>this class represents a .properties file, made up of propunits</p>
<dl class="attribute">
<dt id="translate.storage.properties.propfile.UnitClass">
<code class="descname">UnitClass</code><a class="headerlink" href="#translate.storage.properties.propfile.UnitClass" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <a class="reference internal" href="#translate.storage.properties.propunit" title="translate.storage.properties.propunit"><code class="xref py py-class docutils literal notranslate"><span class="pre">propunit</span></code></a></p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.propfile.add_unit_to_index">
<code class="descname">add_unit_to_index</code><span class="sig-paren">(</span><em>unit</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.propfile.add_unit_to_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a unit to source and location idexes</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.propfile.addsourceunit">
<code class="descname">addsourceunit</code><span class="sig-paren">(</span><em>source</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.propfile.addsourceunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Add and returns a new unit with the given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><code class="xref py py-class docutils literal notranslate"><span class="pre">TranslationUnit</span></code></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.propfile.addunit">
<code class="descname">addunit</code><span class="sig-paren">(</span><em>unit</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.propfile.addunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Append the given unit to the object’s list of units.</p>
<p>This method should always be used rather than trying to modify the
list manually.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>unit</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">TranslationUnit</span></code>) – The unit that will be added.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.propfile.detect_encoding">
<code class="descname">detect_encoding</code><span class="sig-paren">(</span><em>text</em>, <em>default_encodings=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.propfile.detect_encoding" title="Permalink to this definition">¶</a></dt>
<dd><p>Try to detect a file encoding from <cite>text</cite>, using either the chardet lib
or by trying to decode the file.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.propfile.fallback_detection">
<code class="descname">fallback_detection</code><span class="sig-paren">(</span><em>text</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.propfile.fallback_detection" title="Permalink to this definition">¶</a></dt>
<dd><p>Simple detection based on BOM in case chardet is not available.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.propfile.findid">
<code class="descname">findid</code><span class="sig-paren">(</span><em>id</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.propfile.findid" title="Permalink to this definition">¶</a></dt>
<dd><p>find unit with matching id by checking id_index</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.propfile.findunit">
<code class="descname">findunit</code><span class="sig-paren">(</span><em>source</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.propfile.findunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the unit with the given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><code class="xref py py-class docutils literal notranslate"><span class="pre">TranslationUnit</span></code> or None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.propfile.findunits">
<code class="descname">findunits</code><span class="sig-paren">(</span><em>source</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.propfile.findunits" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the units with the given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><code class="xref py py-class docutils literal notranslate"><span class="pre">TranslationUnit</span></code> or None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.propfile.getids">
<code class="descname">getids</code><span class="sig-paren">(</span><em>filename=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.propfile.getids" title="Permalink to this definition">¶</a></dt>
<dd><p>return a list of unit ids</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.propfile.getprojectstyle">
<code class="descname">getprojectstyle</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.propfile.getprojectstyle" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the project type for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.propfile.getsourcelanguage">
<code class="descname">getsourcelanguage</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.propfile.getsourcelanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the source language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.propfile.gettargetlanguage">
<code class="descname">gettargetlanguage</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.propfile.gettargetlanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the target language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.propfile.getunits">
<code class="descname">getunits</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.propfile.getunits" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of all units in this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.propfile.isempty">
<code class="descname">isempty</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.propfile.isempty" title="Permalink to this definition">¶</a></dt>
<dd><p>Return True if the object doesn’t contain any translation units.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.propfile.makeindex">
<code class="descname">makeindex</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.propfile.makeindex" title="Permalink to this definition">¶</a></dt>
<dd><p>Indexes the items in this store. At least .sourceindex should be
useful.</p>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.properties.propfile.merge_on">
<code class="descname">merge_on</code><a class="headerlink" href="#translate.storage.properties.propfile.merge_on" title="Permalink to this definition">¶</a></dt>
<dd><p>The matching criterion to use when merging on.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The default matching criterion for all the subclasses.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">string</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.propfile.parse">
<code class="descname">parse</code><span class="sig-paren">(</span><em>propsrc</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.propfile.parse" title="Permalink to this definition">¶</a></dt>
<dd><p>Read the source of a properties file in and include them as units.</p>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.properties.propfile.parsefile">
<em class="property">classmethod </em><code class="descname">parsefile</code><span class="sig-paren">(</span><em>storefile</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.propfile.parsefile" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads the given file (or opens the given filename) and parses back
to an object.</p>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.properties.propfile.parsestring">
<em class="property">classmethod </em><code class="descname">parsestring</code><span class="sig-paren">(</span><em>storestring</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.propfile.parsestring" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert the string representation back to an object.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.propfile.remove_unit_from_index">
<code class="descname">remove_unit_from_index</code><span class="sig-paren">(</span><em>unit</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.propfile.remove_unit_from_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove a unit from source and locaton indexes</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.propfile.require_index">
<code class="descname">require_index</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.propfile.require_index" title="Permalink to this definition">¶</a></dt>
<dd><p>make sure source index exists</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.propfile.save">
<code class="descname">save</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.propfile.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Save to the file that data was originally read from, if available.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.propfile.savefile">
<code class="descname">savefile</code><span class="sig-paren">(</span><em>storefile</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.propfile.savefile" title="Permalink to this definition">¶</a></dt>
<dd><p>Write the string representation to the given file (or filename).</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.propfile.serialize">
<code class="descname">serialize</code><span class="sig-paren">(</span><em>out</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.propfile.serialize" title="Permalink to this definition">¶</a></dt>
<dd><p>Write the units back to file.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.propfile.setprojectstyle">
<code class="descname">setprojectstyle</code><span class="sig-paren">(</span><em>project_style</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.propfile.setprojectstyle" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the project type for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.propfile.setsourcelanguage">
<code class="descname">setsourcelanguage</code><span class="sig-paren">(</span><em>sourcelanguage</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.propfile.setsourcelanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the source language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.propfile.settargetlanguage">
<code class="descname">settargetlanguage</code><span class="sig-paren">(</span><em>targetlanguage</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.propfile.settargetlanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the target language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.propfile.translate">
<code class="descname">translate</code><span class="sig-paren">(</span><em>source</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.propfile.translate" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the translated string for a given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">String or <a class="reference external" href="https://docs.python.org/2.7/library/constants.html#None" title="(in Python v2.7)">None</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.propfile.unit_iter">
<code class="descname">unit_iter</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.propfile.unit_iter" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterator over all the units in this store.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="translate.storage.properties.propunit">
<em class="property">class </em><code class="descclassname">translate.storage.properties.</code><code class="descname">propunit</code><span class="sig-paren">(</span><em>source=''</em>, <em>personality='java'</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.propunit" title="Permalink to this definition">¶</a></dt>
<dd><p>An element of a properties file i.e. a name and value, and any comments
associated.</p>
<dl class="method">
<dt id="translate.storage.properties.propunit.adderror">
<code class="descname">adderror</code><span class="sig-paren">(</span><em>errorname</em>, <em>errortext</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.propunit.adderror" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds an error message to this unit.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>errorname</strong> (<em>string</em>) – A single word to id the error.</li>
<li><strong>errortext</strong> (<em>string</em>) – The text describing the error.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.propunit.addlocation">
<code class="descname">addlocation</code><span class="sig-paren">(</span><em>location</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.propunit.addlocation" title="Permalink to this definition">¶</a></dt>
<dd><p>Add one location to the list of locations.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Shouldn’t be implemented if the format doesn’t support it.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.propunit.addlocations">
<code class="descname">addlocations</code><span class="sig-paren">(</span><em>location</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.propunit.addlocations" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a location or a list of locations.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Most classes shouldn’t need to implement this, but should rather
implement <code class="xref py py-meth docutils literal notranslate"><span class="pre">TranslationUnit.addlocation()</span></code>.</p>
</div>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">This method might be removed in future.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.propunit.addnote">
<code class="descname">addnote</code><span class="sig-paren">(</span><em>text</em>, <em>origin=None</em>, <em>position='append'</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.propunit.addnote" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds a note (comment).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>text</strong> (<em>string</em>) – Usually just a sentence or two.</li>
<li><strong>origin</strong> (<em>string</em>) – Specifies who/where the comment comes from.
Origin can be one of the following text strings:
- ‘translator’
- ‘developer’, ‘programmer’, ‘source code’ (synonyms)</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.properties.propunit.buildfromunit">
<em class="property">classmethod </em><code class="descname">buildfromunit</code><span class="sig-paren">(</span><em>unit</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.propunit.buildfromunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Build a native unit from a foreign unit, preserving as much
information as possible.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.propunit.getcontext">
<code class="descname">getcontext</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.propunit.getcontext" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the message context.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.propunit.geterrors">
<code class="descname">geterrors</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.propunit.geterrors" title="Permalink to this definition">¶</a></dt>
<dd><p>Get all error messages.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">Dictionary</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.propunit.getid">
<code class="descname">getid</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.propunit.getid" title="Permalink to this definition">¶</a></dt>
<dd><p>A unique identifier for this unit.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">string</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">an identifier for this unit that is unique in the store</td>
</tr>
</tbody>
</table>
<p>Derived classes should override this in a way that guarantees a unique
identifier for each unit in the store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.propunit.getlocations">
<code class="descname">getlocations</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.propunit.getlocations" title="Permalink to this definition">¶</a></dt>
<dd><p>A list of source code locations.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">List</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Shouldn’t be implemented if the format doesn’t support it.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.propunit.getnotes">
<code class="descname">getnotes</code><span class="sig-paren">(</span><em>origin=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.propunit.getnotes" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns all notes about this unit.</p>
<p>It will probably be freeform text or something reasonable that can be
synthesised by the format.
It should not include location comments (see
<a class="reference internal" href="#translate.storage.base.TranslationUnit.getlocations" title="translate.storage.base.TranslationUnit.getlocations"><code class="xref py py-meth docutils literal notranslate"><span class="pre">getlocations()</span></code></a>).</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.propunit.getoutput">
<code class="descname">getoutput</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.propunit.getoutput" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert the element back into formatted lines for a .properties file</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.propunit.gettargetlen">
<code class="descname">gettargetlen</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.propunit.gettargetlen" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the length of the target string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">Integer</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Plural forms might be combined.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.propunit.getunits">
<code class="descname">getunits</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.propunit.getunits" title="Permalink to this definition">¶</a></dt>
<dd><p>This unit in a list.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.propunit.hasplural">
<code class="descname">hasplural</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.propunit.hasplural" title="Permalink to this definition">¶</a></dt>
<dd><p>Tells whether or not this specific unit has plural strings.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.propunit.infer_state">
<code class="descname">infer_state</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.propunit.infer_state" title="Permalink to this definition">¶</a></dt>
<dd><p>Empty method that should be overridden in sub-classes to infer the
current state(_n) of the unit from its current state.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.propunit.isblank">
<code class="descname">isblank</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.propunit.isblank" title="Permalink to this definition">¶</a></dt>
<dd><p>returns whether this is a blank element, containing only comments.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.propunit.isfuzzy">
<code class="descname">isfuzzy</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.propunit.isfuzzy" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit is fuzzy.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.propunit.isheader">
<code class="descname">isheader</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.propunit.isheader" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit is a header.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.propunit.isobsolete">
<code class="descname">isobsolete</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.propunit.isobsolete" title="Permalink to this definition">¶</a></dt>
<dd><p>indicate whether a unit is obsolete</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.propunit.isreview">
<code class="descname">isreview</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.propunit.isreview" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit needs review.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.propunit.istranslatable">
<code class="descname">istranslatable</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.propunit.istranslatable" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit can be translated.</p>
<p>This should be used to distinguish real units for translation from
header, obsolete, binary or other blank units.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.propunit.istranslated">
<code class="descname">istranslated</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.propunit.istranslated" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit is translated.</p>
<p>This should be used rather than deducing it from .target,
to ensure that other classes can implement more functionality
(as XLIFF does).</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.propunit.makeobsolete">
<code class="descname">makeobsolete</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.propunit.makeobsolete" title="Permalink to this definition">¶</a></dt>
<dd><p>Make a unit obsolete</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.propunit.markfuzzy">
<code class="descname">markfuzzy</code><span class="sig-paren">(</span><em>value=True</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.propunit.markfuzzy" title="Permalink to this definition">¶</a></dt>
<dd><p>Marks the unit as fuzzy or not.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.propunit.markreviewneeded">
<code class="descname">markreviewneeded</code><span class="sig-paren">(</span><em>needsreview=True</em>, <em>explanation=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.propunit.markreviewneeded" title="Permalink to this definition">¶</a></dt>
<dd><p>Marks the unit to indicate whether it needs review.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>needsreview</strong> – Defaults to True.</li>
<li><strong>explanation</strong> – Adds an optional explanation as a note.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.propunit.merge">
<code class="descname">merge</code><span class="sig-paren">(</span><em>otherunit</em>, <em>overwrite=False</em>, <em>comments=True</em>, <em>authoritative=False</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.propunit.merge" title="Permalink to this definition">¶</a></dt>
<dd><p>Do basic format agnostic merging.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.propunit.multistring_to_rich">
<code class="descname">multistring_to_rich</code><span class="sig-paren">(</span><em>mulstring</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.propunit.multistring_to_rich" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a multistring to a list of “rich” string trees:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">target</span> <span class="o">=</span> <span class="n">multistring</span><span class="p">([</span><span class="sa">u</span><span class="s1">&#39;foo&#39;</span><span class="p">,</span> <span class="sa">u</span><span class="s1">&#39;bar&#39;</span><span class="p">,</span> <span class="sa">u</span><span class="s1">&#39;baz&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">TranslationUnit</span><span class="o">.</span><span class="n">multistring_to_rich</span><span class="p">(</span><span class="n">target</span><span class="p">)</span>
<span class="go">[&lt;StringElem([&lt;StringElem([u&#39;foo&#39;])&gt;])&gt;,</span>
<span class="go"> &lt;StringElem([&lt;StringElem([u&#39;bar&#39;])&gt;])&gt;,</span>
<span class="go"> &lt;StringElem([&lt;StringElem([u&#39;baz&#39;])&gt;])&gt;]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.propunit.removenotes">
<code class="descname">removenotes</code><span class="sig-paren">(</span><em>origin=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.propunit.removenotes" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove all the translator’s notes.</p>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.properties.propunit.rich_source">
<code class="descname">rich_source</code><a class="headerlink" href="#translate.storage.properties.propunit.rich_source" title="Permalink to this definition">¶</a></dt>
<dd><div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="#translate.storage.properties.propunit.rich_to_multistring" title="translate.storage.properties.propunit.rich_to_multistring"><code class="xref py py-meth docutils literal notranslate"><span class="pre">rich_to_multistring()</span></code></a>, <a class="reference internal" href="#translate.storage.properties.propunit.multistring_to_rich" title="translate.storage.properties.propunit.multistring_to_rich"><code class="xref py py-meth docutils literal notranslate"><span class="pre">multistring_to_rich()</span></code></a></p>
</div>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.properties.propunit.rich_target">
<code class="descname">rich_target</code><a class="headerlink" href="#translate.storage.properties.propunit.rich_target" title="Permalink to this definition">¶</a></dt>
<dd><div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="#translate.storage.properties.propunit.rich_to_multistring" title="translate.storage.properties.propunit.rich_to_multistring"><code class="xref py py-meth docutils literal notranslate"><span class="pre">rich_to_multistring()</span></code></a>, <a class="reference internal" href="#translate.storage.properties.propunit.multistring_to_rich" title="translate.storage.properties.propunit.multistring_to_rich"><code class="xref py py-meth docutils literal notranslate"><span class="pre">multistring_to_rich()</span></code></a></p>
</div>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.properties.propunit.rich_to_multistring">
<em class="property">classmethod </em><code class="descname">rich_to_multistring</code><span class="sig-paren">(</span><em>elem_list</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.propunit.rich_to_multistring" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a “rich” string tree to a <code class="docutils literal notranslate"><span class="pre">multistring</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">translate.storage.placeables.interfaces</span> <span class="kn">import</span> <span class="n">X</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rich</span> <span class="o">=</span> <span class="p">[</span><span class="n">StringElem</span><span class="p">([</span><span class="s1">&#39;foo&#39;</span><span class="p">,</span> <span class="n">X</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="s1">&#39;xxx&#39;</span><span class="p">,</span> <span class="n">sub</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39; &#39;</span><span class="p">]),</span> <span class="s1">&#39;bar&#39;</span><span class="p">])]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">TranslationUnit</span><span class="o">.</span><span class="n">rich_to_multistring</span><span class="p">(</span><span class="n">rich</span><span class="p">)</span>
<span class="go">multistring(u&#39;foo bar&#39;)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.propunit.setcontext">
<code class="descname">setcontext</code><span class="sig-paren">(</span><em>context</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.propunit.setcontext" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the message context</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.propunit.setid">
<code class="descname">setid</code><span class="sig-paren">(</span><em>value</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.propunit.setid" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the unique identified for this unit.</p>
<p>only implemented if format allows ids independant from other unit
properties like source or context</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.propunit.unit_iter">
<code class="descname">unit_iter</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.propunit.unit_iter" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterator that only returns this unit.</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="translate.storage.properties.register_dialect">
<code class="descclassname">translate.storage.properties.</code><code class="descname">register_dialect</code><span class="sig-paren">(</span><em>dialect</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.register_dialect" title="Permalink to this definition">¶</a></dt>
<dd><p>Decorator that registers the dialect.</p>
</dd></dl>

<dl class="class">
<dt id="translate.storage.properties.stringsfile">
<em class="property">class </em><code class="descclassname">translate.storage.properties.</code><code class="descname">stringsfile</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.stringsfile" title="Permalink to this definition">¶</a></dt>
<dd><dl class="attribute">
<dt id="translate.storage.properties.stringsfile.UnitClass">
<code class="descname">UnitClass</code><a class="headerlink" href="#translate.storage.properties.stringsfile.UnitClass" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <a class="reference internal" href="#translate.storage.properties.propunit" title="translate.storage.properties.propunit"><code class="xref py py-class docutils literal notranslate"><span class="pre">propunit</span></code></a></p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.stringsfile.add_unit_to_index">
<code class="descname">add_unit_to_index</code><span class="sig-paren">(</span><em>unit</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.stringsfile.add_unit_to_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a unit to source and location idexes</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.stringsfile.addsourceunit">
<code class="descname">addsourceunit</code><span class="sig-paren">(</span><em>source</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.stringsfile.addsourceunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Add and returns a new unit with the given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><code class="xref py py-class docutils literal notranslate"><span class="pre">TranslationUnit</span></code></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.stringsfile.addunit">
<code class="descname">addunit</code><span class="sig-paren">(</span><em>unit</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.stringsfile.addunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Append the given unit to the object’s list of units.</p>
<p>This method should always be used rather than trying to modify the
list manually.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>unit</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">TranslationUnit</span></code>) – The unit that will be added.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.stringsfile.detect_encoding">
<code class="descname">detect_encoding</code><span class="sig-paren">(</span><em>text</em>, <em>default_encodings=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.stringsfile.detect_encoding" title="Permalink to this definition">¶</a></dt>
<dd><p>Try to detect a file encoding from <cite>text</cite>, using either the chardet lib
or by trying to decode the file.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.stringsfile.fallback_detection">
<code class="descname">fallback_detection</code><span class="sig-paren">(</span><em>text</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.stringsfile.fallback_detection" title="Permalink to this definition">¶</a></dt>
<dd><p>Simple detection based on BOM in case chardet is not available.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.stringsfile.findid">
<code class="descname">findid</code><span class="sig-paren">(</span><em>id</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.stringsfile.findid" title="Permalink to this definition">¶</a></dt>
<dd><p>find unit with matching id by checking id_index</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.stringsfile.findunit">
<code class="descname">findunit</code><span class="sig-paren">(</span><em>source</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.stringsfile.findunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the unit with the given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><code class="xref py py-class docutils literal notranslate"><span class="pre">TranslationUnit</span></code> or None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.stringsfile.findunits">
<code class="descname">findunits</code><span class="sig-paren">(</span><em>source</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.stringsfile.findunits" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the units with the given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><code class="xref py py-class docutils literal notranslate"><span class="pre">TranslationUnit</span></code> or None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.stringsfile.getids">
<code class="descname">getids</code><span class="sig-paren">(</span><em>filename=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.stringsfile.getids" title="Permalink to this definition">¶</a></dt>
<dd><p>return a list of unit ids</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.stringsfile.getprojectstyle">
<code class="descname">getprojectstyle</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.stringsfile.getprojectstyle" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the project type for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.stringsfile.getsourcelanguage">
<code class="descname">getsourcelanguage</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.stringsfile.getsourcelanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the source language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.stringsfile.gettargetlanguage">
<code class="descname">gettargetlanguage</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.stringsfile.gettargetlanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the target language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.stringsfile.getunits">
<code class="descname">getunits</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.stringsfile.getunits" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of all units in this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.stringsfile.isempty">
<code class="descname">isempty</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.stringsfile.isempty" title="Permalink to this definition">¶</a></dt>
<dd><p>Return True if the object doesn’t contain any translation units.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.stringsfile.makeindex">
<code class="descname">makeindex</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.stringsfile.makeindex" title="Permalink to this definition">¶</a></dt>
<dd><p>Indexes the items in this store. At least .sourceindex should be
useful.</p>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.properties.stringsfile.merge_on">
<code class="descname">merge_on</code><a class="headerlink" href="#translate.storage.properties.stringsfile.merge_on" title="Permalink to this definition">¶</a></dt>
<dd><p>The matching criterion to use when merging on.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The default matching criterion for all the subclasses.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">string</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.stringsfile.parse">
<code class="descname">parse</code><span class="sig-paren">(</span><em>propsrc</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.stringsfile.parse" title="Permalink to this definition">¶</a></dt>
<dd><p>Read the source of a properties file in and include them as units.</p>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.properties.stringsfile.parsefile">
<em class="property">classmethod </em><code class="descname">parsefile</code><span class="sig-paren">(</span><em>storefile</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.stringsfile.parsefile" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads the given file (or opens the given filename) and parses back
to an object.</p>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.properties.stringsfile.parsestring">
<em class="property">classmethod </em><code class="descname">parsestring</code><span class="sig-paren">(</span><em>storestring</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.stringsfile.parsestring" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert the string representation back to an object.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.stringsfile.remove_unit_from_index">
<code class="descname">remove_unit_from_index</code><span class="sig-paren">(</span><em>unit</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.stringsfile.remove_unit_from_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove a unit from source and locaton indexes</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.stringsfile.require_index">
<code class="descname">require_index</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.stringsfile.require_index" title="Permalink to this definition">¶</a></dt>
<dd><p>make sure source index exists</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.stringsfile.save">
<code class="descname">save</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.stringsfile.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Save to the file that data was originally read from, if available.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.stringsfile.savefile">
<code class="descname">savefile</code><span class="sig-paren">(</span><em>storefile</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.stringsfile.savefile" title="Permalink to this definition">¶</a></dt>
<dd><p>Write the string representation to the given file (or filename).</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.stringsfile.serialize">
<code class="descname">serialize</code><span class="sig-paren">(</span><em>out</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.stringsfile.serialize" title="Permalink to this definition">¶</a></dt>
<dd><p>Write the units back to file.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.stringsfile.setprojectstyle">
<code class="descname">setprojectstyle</code><span class="sig-paren">(</span><em>project_style</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.stringsfile.setprojectstyle" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the project type for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.stringsfile.setsourcelanguage">
<code class="descname">setsourcelanguage</code><span class="sig-paren">(</span><em>sourcelanguage</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.stringsfile.setsourcelanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the source language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.stringsfile.settargetlanguage">
<code class="descname">settargetlanguage</code><span class="sig-paren">(</span><em>targetlanguage</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.stringsfile.settargetlanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the target language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.stringsfile.translate">
<code class="descname">translate</code><span class="sig-paren">(</span><em>source</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.stringsfile.translate" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the translated string for a given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">String or <a class="reference external" href="https://docs.python.org/2.7/library/constants.html#None" title="(in Python v2.7)">None</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.stringsfile.unit_iter">
<code class="descname">unit_iter</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.stringsfile.unit_iter" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterator over all the units in this store.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="translate.storage.properties.stringsutf8file">
<em class="property">class </em><code class="descclassname">translate.storage.properties.</code><code class="descname">stringsutf8file</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.stringsutf8file" title="Permalink to this definition">¶</a></dt>
<dd><dl class="attribute">
<dt id="translate.storage.properties.stringsutf8file.UnitClass">
<code class="descname">UnitClass</code><a class="headerlink" href="#translate.storage.properties.stringsutf8file.UnitClass" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <a class="reference internal" href="#translate.storage.properties.propunit" title="translate.storage.properties.propunit"><code class="xref py py-class docutils literal notranslate"><span class="pre">propunit</span></code></a></p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.stringsutf8file.add_unit_to_index">
<code class="descname">add_unit_to_index</code><span class="sig-paren">(</span><em>unit</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.stringsutf8file.add_unit_to_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a unit to source and location idexes</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.stringsutf8file.addsourceunit">
<code class="descname">addsourceunit</code><span class="sig-paren">(</span><em>source</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.stringsutf8file.addsourceunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Add and returns a new unit with the given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><code class="xref py py-class docutils literal notranslate"><span class="pre">TranslationUnit</span></code></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.stringsutf8file.addunit">
<code class="descname">addunit</code><span class="sig-paren">(</span><em>unit</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.stringsutf8file.addunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Append the given unit to the object’s list of units.</p>
<p>This method should always be used rather than trying to modify the
list manually.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>unit</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">TranslationUnit</span></code>) – The unit that will be added.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.stringsutf8file.detect_encoding">
<code class="descname">detect_encoding</code><span class="sig-paren">(</span><em>text</em>, <em>default_encodings=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.stringsutf8file.detect_encoding" title="Permalink to this definition">¶</a></dt>
<dd><p>Try to detect a file encoding from <cite>text</cite>, using either the chardet lib
or by trying to decode the file.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.stringsutf8file.fallback_detection">
<code class="descname">fallback_detection</code><span class="sig-paren">(</span><em>text</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.stringsutf8file.fallback_detection" title="Permalink to this definition">¶</a></dt>
<dd><p>Simple detection based on BOM in case chardet is not available.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.stringsutf8file.findid">
<code class="descname">findid</code><span class="sig-paren">(</span><em>id</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.stringsutf8file.findid" title="Permalink to this definition">¶</a></dt>
<dd><p>find unit with matching id by checking id_index</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.stringsutf8file.findunit">
<code class="descname">findunit</code><span class="sig-paren">(</span><em>source</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.stringsutf8file.findunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the unit with the given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><code class="xref py py-class docutils literal notranslate"><span class="pre">TranslationUnit</span></code> or None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.stringsutf8file.findunits">
<code class="descname">findunits</code><span class="sig-paren">(</span><em>source</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.stringsutf8file.findunits" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the units with the given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><code class="xref py py-class docutils literal notranslate"><span class="pre">TranslationUnit</span></code> or None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.stringsutf8file.getids">
<code class="descname">getids</code><span class="sig-paren">(</span><em>filename=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.stringsutf8file.getids" title="Permalink to this definition">¶</a></dt>
<dd><p>return a list of unit ids</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.stringsutf8file.getprojectstyle">
<code class="descname">getprojectstyle</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.stringsutf8file.getprojectstyle" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the project type for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.stringsutf8file.getsourcelanguage">
<code class="descname">getsourcelanguage</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.stringsutf8file.getsourcelanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the source language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.stringsutf8file.gettargetlanguage">
<code class="descname">gettargetlanguage</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.stringsutf8file.gettargetlanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the target language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.stringsutf8file.getunits">
<code class="descname">getunits</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.stringsutf8file.getunits" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of all units in this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.stringsutf8file.isempty">
<code class="descname">isempty</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.stringsutf8file.isempty" title="Permalink to this definition">¶</a></dt>
<dd><p>Return True if the object doesn’t contain any translation units.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.stringsutf8file.makeindex">
<code class="descname">makeindex</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.stringsutf8file.makeindex" title="Permalink to this definition">¶</a></dt>
<dd><p>Indexes the items in this store. At least .sourceindex should be
useful.</p>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.properties.stringsutf8file.merge_on">
<code class="descname">merge_on</code><a class="headerlink" href="#translate.storage.properties.stringsutf8file.merge_on" title="Permalink to this definition">¶</a></dt>
<dd><p>The matching criterion to use when merging on.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The default matching criterion for all the subclasses.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">string</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.stringsutf8file.parse">
<code class="descname">parse</code><span class="sig-paren">(</span><em>propsrc</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.stringsutf8file.parse" title="Permalink to this definition">¶</a></dt>
<dd><p>Read the source of a properties file in and include them as units.</p>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.properties.stringsutf8file.parsefile">
<em class="property">classmethod </em><code class="descname">parsefile</code><span class="sig-paren">(</span><em>storefile</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.stringsutf8file.parsefile" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads the given file (or opens the given filename) and parses back
to an object.</p>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.properties.stringsutf8file.parsestring">
<em class="property">classmethod </em><code class="descname">parsestring</code><span class="sig-paren">(</span><em>storestring</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.stringsutf8file.parsestring" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert the string representation back to an object.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.stringsutf8file.remove_unit_from_index">
<code class="descname">remove_unit_from_index</code><span class="sig-paren">(</span><em>unit</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.stringsutf8file.remove_unit_from_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove a unit from source and locaton indexes</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.stringsutf8file.require_index">
<code class="descname">require_index</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.stringsutf8file.require_index" title="Permalink to this definition">¶</a></dt>
<dd><p>make sure source index exists</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.stringsutf8file.save">
<code class="descname">save</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.stringsutf8file.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Save to the file that data was originally read from, if available.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.stringsutf8file.savefile">
<code class="descname">savefile</code><span class="sig-paren">(</span><em>storefile</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.stringsutf8file.savefile" title="Permalink to this definition">¶</a></dt>
<dd><p>Write the string representation to the given file (or filename).</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.stringsutf8file.serialize">
<code class="descname">serialize</code><span class="sig-paren">(</span><em>out</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.stringsutf8file.serialize" title="Permalink to this definition">¶</a></dt>
<dd><p>Write the units back to file.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.stringsutf8file.setprojectstyle">
<code class="descname">setprojectstyle</code><span class="sig-paren">(</span><em>project_style</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.stringsutf8file.setprojectstyle" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the project type for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.stringsutf8file.setsourcelanguage">
<code class="descname">setsourcelanguage</code><span class="sig-paren">(</span><em>sourcelanguage</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.stringsutf8file.setsourcelanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the source language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.stringsutf8file.settargetlanguage">
<code class="descname">settargetlanguage</code><span class="sig-paren">(</span><em>targetlanguage</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.stringsutf8file.settargetlanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the target language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.stringsutf8file.translate">
<code class="descname">translate</code><span class="sig-paren">(</span><em>source</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.stringsutf8file.translate" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the translated string for a given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">String or <a class="reference external" href="https://docs.python.org/2.7/library/constants.html#None" title="(in Python v2.7)">None</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.properties.stringsutf8file.unit_iter">
<code class="descname">unit_iter</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.properties.stringsutf8file.unit_iter" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterator over all the units in this store.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-translate.storage.pypo">
<span id="pypo"></span><h2>pypo<a class="headerlink" href="#module-translate.storage.pypo" title="Permalink to this headline">¶</a></h2>
<p>Classes that hold units of Gettext .po files (pounit) or entire
files (pofile).</p>
<dl class="function">
<dt id="translate.storage.pypo.escapeforpo">
<code class="descclassname">translate.storage.pypo.</code><code class="descname">escapeforpo</code><span class="sig-paren">(</span><em>line</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.pypo.escapeforpo" title="Permalink to this definition">¶</a></dt>
<dd><p>Escapes a line for po format. assumes no 
occurs in the line.</p>
<blockquote>
<div><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">param line:</th><td class="field-body">unescaped text</td>
</tr>
</tbody>
</table>
</div></blockquote>
</dd></dl>

<dl class="function">
<dt id="translate.storage.pypo.extractpoline">
<code class="descclassname">translate.storage.pypo.</code><code class="descname">extractpoline</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.pypo.extractpoline" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove quote and unescape line from po file.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>line</strong> – a quoted line from a po file (msgid or msgstr)</td>
</tr>
</tbody>
</table>
<div class="deprecated">
<p><span class="versionmodified">Deprecated since version 1.10: </span>Replaced by <a class="reference internal" href="#translate.storage.pypo.unescape" title="translate.storage.pypo.unescape"><code class="xref py py-func docutils literal notranslate"><span class="pre">unescape()</span></code></a>. <a class="reference internal" href="#translate.storage.pypo.extractpoline" title="translate.storage.pypo.extractpoline"><code class="xref py py-func docutils literal notranslate"><span class="pre">extractpoline()</span></code></a> is kept to allow
tests of correctness, and in case of external users.</p>
</div>
</dd></dl>

<dl class="data">
<dt id="translate.storage.pypo.lsep">
<code class="descclassname">translate.storage.pypo.</code><code class="descname">lsep</code><em class="property"> = '\n#: '</em><a class="headerlink" href="#translate.storage.pypo.lsep" title="Permalink to this definition">¶</a></dt>
<dd><p>Separator for #: entries</p>
</dd></dl>

<dl class="class">
<dt id="translate.storage.pypo.pofile">
<em class="property">class </em><code class="descclassname">translate.storage.pypo.</code><code class="descname">pofile</code><span class="sig-paren">(</span><em>inputfile=None</em>, <em>width=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.pypo.pofile" title="Permalink to this definition">¶</a></dt>
<dd><p>A .po file containing various units</p>
<dl class="attribute">
<dt id="translate.storage.pypo.pofile.UnitClass">
<code class="descname">UnitClass</code><a class="headerlink" href="#translate.storage.pypo.pofile.UnitClass" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <a class="reference internal" href="#translate.storage.pypo.pounit" title="translate.storage.pypo.pounit"><code class="xref py py-class docutils literal notranslate"><span class="pre">pounit</span></code></a></p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.pypo.pofile.add_unit_to_index">
<code class="descname">add_unit_to_index</code><span class="sig-paren">(</span><em>unit</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.pypo.pofile.add_unit_to_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a unit to source and location idexes</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.pypo.pofile.addsourceunit">
<code class="descname">addsourceunit</code><span class="sig-paren">(</span><em>source</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.pypo.pofile.addsourceunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Add and returns a new unit with the given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><code class="xref py py-class docutils literal notranslate"><span class="pre">TranslationUnit</span></code></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.pypo.pofile.addunit">
<code class="descname">addunit</code><span class="sig-paren">(</span><em>unit</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.pypo.pofile.addunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Append the given unit to the object’s list of units.</p>
<p>This method should always be used rather than trying to modify the
list manually.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>unit</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">TranslationUnit</span></code>) – The unit that will be added.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.pypo.pofile.decode">
<code class="descname">decode</code><span class="sig-paren">(</span><em>lines</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.pypo.pofile.decode" title="Permalink to this definition">¶</a></dt>
<dd><p>decode any non-unicode strings in lines with self.encoding</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.pypo.pofile.detect_encoding">
<code class="descname">detect_encoding</code><span class="sig-paren">(</span><em>text</em>, <em>default_encodings=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.pypo.pofile.detect_encoding" title="Permalink to this definition">¶</a></dt>
<dd><p>Try to detect a file encoding from <cite>text</cite>, using either the chardet lib
or by trying to decode the file.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.pypo.pofile.encode">
<code class="descname">encode</code><span class="sig-paren">(</span><em>lines</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.pypo.pofile.encode" title="Permalink to this definition">¶</a></dt>
<dd><p>encode any unicode strings in lines in self.encoding</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.pypo.pofile.fallback_detection">
<code class="descname">fallback_detection</code><span class="sig-paren">(</span><em>text</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.pypo.pofile.fallback_detection" title="Permalink to this definition">¶</a></dt>
<dd><p>Simple detection based on BOM in case chardet is not available.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.pypo.pofile.findid">
<code class="descname">findid</code><span class="sig-paren">(</span><em>id</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.pypo.pofile.findid" title="Permalink to this definition">¶</a></dt>
<dd><p>find unit with matching id by checking id_index</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.pypo.pofile.findunit">
<code class="descname">findunit</code><span class="sig-paren">(</span><em>source</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.pypo.pofile.findunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the unit with the given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><code class="xref py py-class docutils literal notranslate"><span class="pre">TranslationUnit</span></code> or None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.pypo.pofile.findunits">
<code class="descname">findunits</code><span class="sig-paren">(</span><em>source</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.pypo.pofile.findunits" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the units with the given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><code class="xref py py-class docutils literal notranslate"><span class="pre">TranslationUnit</span></code> or None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.pypo.pofile.getheaderplural">
<code class="descname">getheaderplural</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.pypo.pofile.getheaderplural" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the nplural and plural values from the header.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.pypo.pofile.getids">
<code class="descname">getids</code><span class="sig-paren">(</span><em>filename=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.pypo.pofile.getids" title="Permalink to this definition">¶</a></dt>
<dd><p>return a list of unit ids</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.pypo.pofile.getprojectstyle">
<code class="descname">getprojectstyle</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.pypo.pofile.getprojectstyle" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the project based on information in the header.</p>
<dl class="docutils">
<dt>The project is determined in the following sequence:</dt>
<dd><ol class="first last arabic simple">
<li>Use the ‘X-Project-Style’ entry in the header.</li>
<li>Use ‘Report-Msgid-Bug-To’ entry</li>
<li>Use the ‘X-Accelerator’ entry</li>
<li>Use the Project ID</li>
<li>Analyse the file itself (not yet implemented)</li>
</ol>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="translate.storage.pypo.pofile.getsourcelanguage">
<code class="descname">getsourcelanguage</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.pypo.pofile.getsourcelanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the source language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.pypo.pofile.gettargetlanguage">
<code class="descname">gettargetlanguage</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.pypo.pofile.gettargetlanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the target language based on information in the header.</p>
<dl class="docutils">
<dt>The target language is determined in the following sequence:</dt>
<dd><ol class="first last arabic simple">
<li>Use the ‘Language’ entry in the header.</li>
<li>Poedit’s custom headers.</li>
<li>Analysing the ‘Language-Team’ entry.</li>
</ol>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="translate.storage.pypo.pofile.getunits">
<code class="descname">getunits</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.pypo.pofile.getunits" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of all units in this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.pypo.pofile.header">
<code class="descname">header</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.pypo.pofile.header" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the header element, or None. Only the first element is
allowed to be a header. Note that this could still return an empty
header element, if present.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.pypo.pofile.init_headers">
<code class="descname">init_headers</code><span class="sig-paren">(</span><em>charset='UTF-8'</em>, <em>encoding='8bit'</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.pypo.pofile.init_headers" title="Permalink to this definition">¶</a></dt>
<dd><p>sets default values for po headers</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.pypo.pofile.isempty">
<code class="descname">isempty</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.pypo.pofile.isempty" title="Permalink to this definition">¶</a></dt>
<dd><p>Return True if the object doesn’t contain any translation units.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.pypo.pofile.makeheader">
<code class="descname">makeheader</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.pypo.pofile.makeheader" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a header for the given filename.</p>
<p>Check .makeheaderdict() for information on parameters.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.pypo.pofile.makeheaderdict">
<code class="descname">makeheaderdict</code><span class="sig-paren">(</span><em>charset='CHARSET'</em>, <em>encoding='ENCODING'</em>, <em>project_id_version=None</em>, <em>pot_creation_date=None</em>, <em>po_revision_date=None</em>, <em>last_translator=None</em>, <em>language_team=None</em>, <em>mime_version=None</em>, <em>plural_forms=None</em>, <em>report_msgid_bugs_to=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.pypo.pofile.makeheaderdict" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a header dictionary with useful defaults.</p>
<p>pot_creation_date can be None (current date) or a value (datetime or string)
po_revision_date can be None (form), False (=pot_creation_date), True (=now),
or a value (datetime or string)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">Dictionary with the header items</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">dict of strings</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.pypo.pofile.makeindex">
<code class="descname">makeindex</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.pypo.pofile.makeindex" title="Permalink to this definition">¶</a></dt>
<dd><p>Indexes the items in this store. At least .sourceindex should be
useful.</p>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.pypo.pofile.merge_on">
<code class="descname">merge_on</code><a class="headerlink" href="#translate.storage.pypo.pofile.merge_on" title="Permalink to this definition">¶</a></dt>
<dd><p>The matching criterion to use when merging on.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.pypo.pofile.mergeheaders">
<code class="descname">mergeheaders</code><span class="sig-paren">(</span><em>otherstore</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.pypo.pofile.mergeheaders" title="Permalink to this definition">¶</a></dt>
<dd><p>Merges another header with this header.</p>
<p>This header is assumed to be the template.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.pypo.pofile.parse">
<code class="descname">parse</code><span class="sig-paren">(</span><em>input</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.pypo.pofile.parse" title="Permalink to this definition">¶</a></dt>
<dd><p>Parses the given file or file source string.</p>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.pypo.pofile.parsefile">
<em class="property">classmethod </em><code class="descname">parsefile</code><span class="sig-paren">(</span><em>storefile</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.pypo.pofile.parsefile" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads the given file (or opens the given filename) and parses back
to an object.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.pypo.pofile.parseheader">
<code class="descname">parseheader</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.pypo.pofile.parseheader" title="Permalink to this definition">¶</a></dt>
<dd><p>Parses the PO header and returns the interpreted values as a
dictionary.</p>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.pypo.pofile.parsestring">
<em class="property">classmethod </em><code class="descname">parsestring</code><span class="sig-paren">(</span><em>storestring</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.pypo.pofile.parsestring" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert the string representation back to an object.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.pypo.pofile.remove_unit_from_index">
<code class="descname">remove_unit_from_index</code><span class="sig-paren">(</span><em>unit</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.pypo.pofile.remove_unit_from_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove a unit from source and locaton indexes</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.pypo.pofile.removeduplicates">
<code class="descname">removeduplicates</code><span class="sig-paren">(</span><em>duplicatestyle='merge'</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.pypo.pofile.removeduplicates" title="Permalink to this definition">¶</a></dt>
<dd><p>Make sure each msgid is unique ; merge comments etc from
duplicates into original</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.pypo.pofile.require_index">
<code class="descname">require_index</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.pypo.pofile.require_index" title="Permalink to this definition">¶</a></dt>
<dd><p>make sure source index exists</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.pypo.pofile.save">
<code class="descname">save</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.pypo.pofile.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Save to the file that data was originally read from, if available.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.pypo.pofile.savefile">
<code class="descname">savefile</code><span class="sig-paren">(</span><em>storefile</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.pypo.pofile.savefile" title="Permalink to this definition">¶</a></dt>
<dd><p>Write the string representation to the given file (or filename).</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.pypo.pofile.serialize">
<code class="descname">serialize</code><span class="sig-paren">(</span><em>out</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.pypo.pofile.serialize" title="Permalink to this definition">¶</a></dt>
<dd><p>Write to file</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.pypo.pofile.setprojectstyle">
<code class="descname">setprojectstyle</code><span class="sig-paren">(</span><em>project_style</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.pypo.pofile.setprojectstyle" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the project in the header.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>project_style</strong> (<a class="reference external" href="https://docs.python.org/2.7/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) – the new project</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.pypo.pofile.setsourcelanguage">
<code class="descname">setsourcelanguage</code><span class="sig-paren">(</span><em>sourcelanguage</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.pypo.pofile.setsourcelanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the source language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.pypo.pofile.settargetlanguage">
<code class="descname">settargetlanguage</code><span class="sig-paren">(</span><em>lang</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.pypo.pofile.settargetlanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the target language in the header.</p>
<p>This removes any custom Poedit headers if they exist.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>lang</strong> (<a class="reference external" href="https://docs.python.org/2.7/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) – the new target language code</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.pypo.pofile.translate">
<code class="descname">translate</code><span class="sig-paren">(</span><em>source</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.pypo.pofile.translate" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the translated string for a given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">String or <a class="reference external" href="https://docs.python.org/2.7/library/constants.html#None" title="(in Python v2.7)">None</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.pypo.pofile.unit_iter">
<code class="descname">unit_iter</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.pypo.pofile.unit_iter" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterator over all the units in this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.pypo.pofile.updatecontributor">
<code class="descname">updatecontributor</code><span class="sig-paren">(</span><em>name</em>, <em>email=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.pypo.pofile.updatecontributor" title="Permalink to this definition">¶</a></dt>
<dd><p>Add contribution comments if necessary.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.pypo.pofile.updateheader">
<code class="descname">updateheader</code><span class="sig-paren">(</span><em>add=False</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.pypo.pofile.updateheader" title="Permalink to this definition">¶</a></dt>
<dd><p>Updates the fields in the PO style header.</p>
<p>This will create a header if add == True.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.pypo.pofile.updateheaderplural">
<code class="descname">updateheaderplural</code><span class="sig-paren">(</span><em>nplurals</em>, <em>plural</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.pypo.pofile.updateheaderplural" title="Permalink to this definition">¶</a></dt>
<dd><p>Update the Plural-Form PO header.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="translate.storage.pypo.pounit">
<em class="property">class </em><code class="descclassname">translate.storage.pypo.</code><code class="descname">pounit</code><span class="sig-paren">(</span><em>source=None</em>, <em>wrapper=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.pypo.pounit" title="Permalink to this definition">¶</a></dt>
<dd><dl class="method">
<dt id="translate.storage.pypo.pounit.adderror">
<code class="descname">adderror</code><span class="sig-paren">(</span><em>errorname</em>, <em>errortext</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.pypo.pounit.adderror" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds an error message to this unit.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.pypo.pounit.addlocation">
<code class="descname">addlocation</code><span class="sig-paren">(</span><em>location</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.pypo.pounit.addlocation" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a location to sourcecomments in the PO unit</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>location</strong> (<em>String</em>) – Text location e.g. ‘file.c:23’ does not include #:</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.pypo.pounit.addlocations">
<code class="descname">addlocations</code><span class="sig-paren">(</span><em>location</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.pypo.pounit.addlocations" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a location or a list of locations.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Most classes shouldn’t need to implement this, but should rather
implement <code class="xref py py-meth docutils literal notranslate"><span class="pre">TranslationUnit.addlocation()</span></code>.</p>
</div>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">This method might be removed in future.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.pypo.pounit.addnote">
<code class="descname">addnote</code><span class="sig-paren">(</span><em>text</em>, <em>origin=None</em>, <em>position='append'</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.pypo.pounit.addnote" title="Permalink to this definition">¶</a></dt>
<dd><p>This is modeled on the XLIFF method.</p>
<p>See <a class="reference internal" href="#translate.storage.xliff.xliffunit.addnote" title="translate.storage.xliff.xliffunit.addnote"><code class="xref py py-meth docutils literal notranslate"><span class="pre">translate.storage.xliff.xliffunit.addnote()</span></code></a></p>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.pypo.pounit.buildfromunit">
<em class="property">classmethod </em><code class="descname">buildfromunit</code><span class="sig-paren">(</span><em>unit</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.pypo.pounit.buildfromunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Build a native unit from a foreign unit, preserving as much
information as possible.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.pypo.pounit.getalttrans">
<code class="descname">getalttrans</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.pypo.pounit.getalttrans" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of alternate units.</p>
<p>Previous msgid and current msgstr is combined to form a single
alternative unit.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.pypo.pounit.getcontext">
<code class="descname">getcontext</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.pypo.pounit.getcontext" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the message context.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.pypo.pounit.geterrors">
<code class="descname">geterrors</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.pypo.pounit.geterrors" title="Permalink to this definition">¶</a></dt>
<dd><p>Get all error messages.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.pypo.pounit.getid">
<code class="descname">getid</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.pypo.pounit.getid" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a unique identifier for this unit.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.pypo.pounit.getlocations">
<code class="descname">getlocations</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.pypo.pounit.getlocations" title="Permalink to this definition">¶</a></dt>
<dd><p>Get a list of locations from sourcecomments in the PO unit</p>
<p>rtype: List
return: A list of the locations with ‘#: ‘ stripped</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.pypo.pounit.getnotes">
<code class="descname">getnotes</code><span class="sig-paren">(</span><em>origin=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.pypo.pounit.getnotes" title="Permalink to this definition">¶</a></dt>
<dd><p>Return comments based on origin value.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>origin</strong> – programmer, developer, source code, translator or None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.pypo.pounit.gettargetlen">
<code class="descname">gettargetlen</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.pypo.pounit.gettargetlen" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the length of the target string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">Integer</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Plural forms might be combined.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.pypo.pounit.getunits">
<code class="descname">getunits</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.pypo.pounit.getunits" title="Permalink to this definition">¶</a></dt>
<dd><p>This unit in a list.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.pypo.pounit.hasmarkedcomment">
<code class="descname">hasmarkedcomment</code><span class="sig-paren">(</span><em>commentmarker</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.pypo.pounit.hasmarkedcomment" title="Permalink to this definition">¶</a></dt>
<dd><p>Check whether the given comment marker is present.</p>
<p>These should appear as:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># (commentmarker) ...</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.pypo.pounit.hasplural">
<code class="descname">hasplural</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.pypo.pounit.hasplural" title="Permalink to this definition">¶</a></dt>
<dd><p>returns whether this pounit contains plural strings…</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.pypo.pounit.hastypecomment">
<code class="descname">hastypecomment</code><span class="sig-paren">(</span><em>typecomment</em>, <em>parsed=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.pypo.pounit.hastypecomment" title="Permalink to this definition">¶</a></dt>
<dd><p>Check whether the given type comment is present</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.pypo.pounit.infer_state">
<code class="descname">infer_state</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.pypo.pounit.infer_state" title="Permalink to this definition">¶</a></dt>
<dd><p>Empty method that should be overridden in sub-classes to infer the
current state(_n) of the unit from its current state.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.pypo.pounit.isblank">
<code class="descname">isblank</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.pypo.pounit.isblank" title="Permalink to this definition">¶</a></dt>
<dd><p>Used to see if this unit has no source or target string.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This is probably used more to find translatable units,
and we might want to move in that direction rather and
get rid of this.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.pypo.pounit.isfuzzy">
<code class="descname">isfuzzy</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.pypo.pounit.isfuzzy" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit is fuzzy.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.pypo.pounit.isheader">
<code class="descname">isheader</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.pypo.pounit.isheader" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit is a header.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.pypo.pounit.isobsolete">
<code class="descname">isobsolete</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.pypo.pounit.isobsolete" title="Permalink to this definition">¶</a></dt>
<dd><p>indicate whether a unit is obsolete</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.pypo.pounit.isreview">
<code class="descname">isreview</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.pypo.pounit.isreview" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit needs review.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.pypo.pounit.istranslatable">
<code class="descname">istranslatable</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.pypo.pounit.istranslatable" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit can be translated.</p>
<p>This should be used to distinguish real units for translation from
header, obsolete, binary or other blank units.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.pypo.pounit.istranslated">
<code class="descname">istranslated</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.pypo.pounit.istranslated" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit is translated.</p>
<p>This should be used rather than deducing it from .target,
to ensure that other classes can implement more functionality
(as XLIFF does).</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.pypo.pounit.makeobsolete">
<code class="descname">makeobsolete</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.pypo.pounit.makeobsolete" title="Permalink to this definition">¶</a></dt>
<dd><p>Makes this unit obsolete</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.pypo.pounit.markfuzzy">
<code class="descname">markfuzzy</code><span class="sig-paren">(</span><em>present=True</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.pypo.pounit.markfuzzy" title="Permalink to this definition">¶</a></dt>
<dd><p>Marks the unit as fuzzy or not.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.pypo.pounit.markreviewneeded">
<code class="descname">markreviewneeded</code><span class="sig-paren">(</span><em>needsreview=True</em>, <em>explanation=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.pypo.pounit.markreviewneeded" title="Permalink to this definition">¶</a></dt>
<dd><p>Marks the unit to indicate whether it needs review. Adds an optional explanation as a note.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.pypo.pounit.merge">
<code class="descname">merge</code><span class="sig-paren">(</span><em>otherpo</em>, <em>overwrite=False</em>, <em>comments=True</em>, <em>authoritative=False</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.pypo.pounit.merge" title="Permalink to this definition">¶</a></dt>
<dd><p>Merges the otherpo (with the same msgid) into this one.</p>
<p>Overwrite non-blank self.msgstr only if overwrite is True
merge comments only if comments is True</p>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.pypo.pounit.msgidcomment">
<code class="descname">msgidcomment</code><a class="headerlink" href="#translate.storage.pypo.pounit.msgidcomment" title="Permalink to this definition">¶</a></dt>
<dd><p>Extract KDE style msgid comments from the unit.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">String</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">Returns the extracted msgidcomments found in this
unit’s msgid.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.pypo.pounit.multistring_to_rich">
<code class="descname">multistring_to_rich</code><span class="sig-paren">(</span><em>mulstring</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.pypo.pounit.multistring_to_rich" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a multistring to a list of “rich” string trees:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">target</span> <span class="o">=</span> <span class="n">multistring</span><span class="p">([</span><span class="sa">u</span><span class="s1">&#39;foo&#39;</span><span class="p">,</span> <span class="sa">u</span><span class="s1">&#39;bar&#39;</span><span class="p">,</span> <span class="sa">u</span><span class="s1">&#39;baz&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">TranslationUnit</span><span class="o">.</span><span class="n">multistring_to_rich</span><span class="p">(</span><span class="n">target</span><span class="p">)</span>
<span class="go">[&lt;StringElem([&lt;StringElem([u&#39;foo&#39;])&gt;])&gt;,</span>
<span class="go"> &lt;StringElem([&lt;StringElem([u&#39;bar&#39;])&gt;])&gt;,</span>
<span class="go"> &lt;StringElem([&lt;StringElem([u&#39;baz&#39;])&gt;])&gt;]</span>
</pre></div>
</div>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.pypo.pounit.prev_source">
<code class="descname">prev_source</code><a class="headerlink" href="#translate.storage.pypo.pounit.prev_source" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the unescaped msgid</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.pypo.pounit.removenotes">
<code class="descname">removenotes</code><span class="sig-paren">(</span><em>origin=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.pypo.pounit.removenotes" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove all the translator’s notes (other comments)</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.pypo.pounit.resurrect">
<code class="descname">resurrect</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.pypo.pounit.resurrect" title="Permalink to this definition">¶</a></dt>
<dd><p>Makes an obsolete unit normal</p>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.pypo.pounit.rich_source">
<code class="descname">rich_source</code><a class="headerlink" href="#translate.storage.pypo.pounit.rich_source" title="Permalink to this definition">¶</a></dt>
<dd><div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="#translate.storage.pypo.pounit.rich_to_multistring" title="translate.storage.pypo.pounit.rich_to_multistring"><code class="xref py py-meth docutils literal notranslate"><span class="pre">rich_to_multistring()</span></code></a>, <a class="reference internal" href="#translate.storage.pypo.pounit.multistring_to_rich" title="translate.storage.pypo.pounit.multistring_to_rich"><code class="xref py py-meth docutils literal notranslate"><span class="pre">multistring_to_rich()</span></code></a></p>
</div>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.pypo.pounit.rich_target">
<code class="descname">rich_target</code><a class="headerlink" href="#translate.storage.pypo.pounit.rich_target" title="Permalink to this definition">¶</a></dt>
<dd><div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="#translate.storage.pypo.pounit.rich_to_multistring" title="translate.storage.pypo.pounit.rich_to_multistring"><code class="xref py py-meth docutils literal notranslate"><span class="pre">rich_to_multistring()</span></code></a>, <a class="reference internal" href="#translate.storage.pypo.pounit.multistring_to_rich" title="translate.storage.pypo.pounit.multistring_to_rich"><code class="xref py py-meth docutils literal notranslate"><span class="pre">multistring_to_rich()</span></code></a></p>
</div>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.pypo.pounit.rich_to_multistring">
<em class="property">classmethod </em><code class="descname">rich_to_multistring</code><span class="sig-paren">(</span><em>elem_list</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.pypo.pounit.rich_to_multistring" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a “rich” string tree to a <code class="docutils literal notranslate"><span class="pre">multistring</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">translate.storage.placeables.interfaces</span> <span class="kn">import</span> <span class="n">X</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rich</span> <span class="o">=</span> <span class="p">[</span><span class="n">StringElem</span><span class="p">([</span><span class="s1">&#39;foo&#39;</span><span class="p">,</span> <span class="n">X</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="s1">&#39;xxx&#39;</span><span class="p">,</span> <span class="n">sub</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39; &#39;</span><span class="p">]),</span> <span class="s1">&#39;bar&#39;</span><span class="p">])]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">TranslationUnit</span><span class="o">.</span><span class="n">rich_to_multistring</span><span class="p">(</span><span class="n">rich</span><span class="p">)</span>
<span class="go">multistring(u&#39;foo bar&#39;)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.pypo.pounit.setcontext">
<code class="descname">setcontext</code><span class="sig-paren">(</span><em>context</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.pypo.pounit.setcontext" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the message context</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.pypo.pounit.setid">
<code class="descname">setid</code><span class="sig-paren">(</span><em>value</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.pypo.pounit.setid" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the unique identified for this unit.</p>
<p>only implemented if format allows ids independant from other unit
properties like source or context</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.pypo.pounit.settypecomment">
<code class="descname">settypecomment</code><span class="sig-paren">(</span><em>typecomment</em>, <em>present=True</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.pypo.pounit.settypecomment" title="Permalink to this definition">¶</a></dt>
<dd><p>Alters whether a given typecomment is present</p>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.pypo.pounit.source">
<code class="descname">source</code><a class="headerlink" href="#translate.storage.pypo.pounit.source" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the unescaped msgid</p>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.pypo.pounit.target">
<code class="descname">target</code><a class="headerlink" href="#translate.storage.pypo.pounit.target" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the unescaped msgstr</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.pypo.pounit.unit_iter">
<code class="descname">unit_iter</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.pypo.pounit.unit_iter" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterator that only returns this unit.</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="translate.storage.pypo.quoteforpo">
<code class="descclassname">translate.storage.pypo.</code><code class="descname">quoteforpo</code><span class="sig-paren">(</span><em>text</em>, <em>wrapper_obj=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.pypo.quoteforpo" title="Permalink to this definition">¶</a></dt>
<dd><p>Quotes the given text for a PO file, returning quoted and escaped lines</p>
</dd></dl>

<dl class="function">
<dt id="translate.storage.pypo.splitlines">
<code class="descclassname">translate.storage.pypo.</code><code class="descname">splitlines</code><span class="sig-paren">(</span><em>text</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.pypo.splitlines" title="Permalink to this definition">¶</a></dt>
<dd><p>Split lines based on first newline char.</p>
<p>Can not use univerzal newlines as they match any newline like
character inside text and that breaks on files with unix newlines
and LF chars inside comments.</p>
<p>The code looks for first msgid and looks for newline used after it. This
should safely cover weird newlines used in comments or filenames, while
properly parsing po files with any newlines.</p>
</dd></dl>

<dl class="function">
<dt id="translate.storage.pypo.unescape">
<code class="descclassname">translate.storage.pypo.</code><code class="descname">unescape</code><span class="sig-paren">(</span><em>line</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.pypo.unescape" title="Permalink to this definition">¶</a></dt>
<dd><p>Unescape the given line.</p>
<p>Quotes on either side should already have been removed.</p>
</dd></dl>

</div>
<div class="section" id="module-translate.storage.qm">
<span id="qm"></span><h2>qm<a class="headerlink" href="#module-translate.storage.qm" title="Permalink to this headline">¶</a></h2>
<p>Module for parsing Qt .qm files.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Based on documentation from Gettext’s .qm implementation
(see <em>write-qt.c</em>) and on observation of the output of lrelease.</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Certain deprecated section tags are not implemented.  These will break
and print out the missing tag.  They are easy to implement and should
follow the structure in 03 (Translation).  We could find no examples
that use these so we’d rather leave it unimplemented until we
actually have test data.</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Many .qm files are unable to be parsed as they do not have the source
text.  We assume that since they use a hash table to lookup the
data there is actually no need for the source text.  It seems however
that in Qt4’s lrelease all data is included in the resultant .qm file.</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">We can only parse, not create, a .qm file.  The main issue is that we
need to implement the hashing algorithm (which seems to be identical to the
Gettext hash algorithm).  Unlike Gettext it seems that the hash is
required, but that has not been validated.</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The code can parse files correctly.  But it could be cleaned up to be
more readable, especially the part that breaks the file into sections.</p>
</div>
<p><a class="reference external" href="http://qt.gitorious.org/+kde-developers/qt/kde-qt/blobs/master/tools/linguist/shared/qm.cpp">http://qt.gitorious.org/+kde-developers/qt/kde-qt/blobs/master/tools/linguist/shared/qm.cpp</a>
<a class="reference external" href="http://qt.gitorious.org/+kde-developers/qt/kde-qt/blobs/master/tools/linguist/shared/numerus.cpp">Plural information</a>
<a class="reference external" href="http://docs.huihoo.com/qt/4.5/qlocale.html#Language-enum">QLocale languages</a></p>
<dl class="class">
<dt id="translate.storage.qm.qmfile">
<em class="property">class </em><code class="descclassname">translate.storage.qm.</code><code class="descname">qmfile</code><span class="sig-paren">(</span><em>inputfile=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.qm.qmfile" title="Permalink to this definition">¶</a></dt>
<dd><p>A class representing a .qm file.</p>
<dl class="attribute">
<dt id="translate.storage.qm.qmfile.UnitClass">
<code class="descname">UnitClass</code><a class="headerlink" href="#translate.storage.qm.qmfile.UnitClass" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <a class="reference internal" href="#translate.storage.qm.qmunit" title="translate.storage.qm.qmunit"><code class="xref py py-class docutils literal notranslate"><span class="pre">qmunit</span></code></a></p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.qm.qmfile.add_unit_to_index">
<code class="descname">add_unit_to_index</code><span class="sig-paren">(</span><em>unit</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.qm.qmfile.add_unit_to_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a unit to source and location idexes</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.qm.qmfile.addsourceunit">
<code class="descname">addsourceunit</code><span class="sig-paren">(</span><em>source</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.qm.qmfile.addsourceunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Add and returns a new unit with the given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><code class="xref py py-class docutils literal notranslate"><span class="pre">TranslationUnit</span></code></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.qm.qmfile.addunit">
<code class="descname">addunit</code><span class="sig-paren">(</span><em>unit</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.qm.qmfile.addunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Append the given unit to the object’s list of units.</p>
<p>This method should always be used rather than trying to modify the
list manually.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>unit</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">TranslationUnit</span></code>) – The unit that will be added.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.qm.qmfile.detect_encoding">
<code class="descname">detect_encoding</code><span class="sig-paren">(</span><em>text</em>, <em>default_encodings=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.qm.qmfile.detect_encoding" title="Permalink to this definition">¶</a></dt>
<dd><p>Try to detect a file encoding from <cite>text</cite>, using either the chardet lib
or by trying to decode the file.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.qm.qmfile.fallback_detection">
<code class="descname">fallback_detection</code><span class="sig-paren">(</span><em>text</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.qm.qmfile.fallback_detection" title="Permalink to this definition">¶</a></dt>
<dd><p>Simple detection based on BOM in case chardet is not available.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.qm.qmfile.findid">
<code class="descname">findid</code><span class="sig-paren">(</span><em>id</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.qm.qmfile.findid" title="Permalink to this definition">¶</a></dt>
<dd><p>find unit with matching id by checking id_index</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.qm.qmfile.findunit">
<code class="descname">findunit</code><span class="sig-paren">(</span><em>source</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.qm.qmfile.findunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the unit with the given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><code class="xref py py-class docutils literal notranslate"><span class="pre">TranslationUnit</span></code> or None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.qm.qmfile.findunits">
<code class="descname">findunits</code><span class="sig-paren">(</span><em>source</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.qm.qmfile.findunits" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the units with the given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><code class="xref py py-class docutils literal notranslate"><span class="pre">TranslationUnit</span></code> or None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.qm.qmfile.getids">
<code class="descname">getids</code><span class="sig-paren">(</span><em>filename=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.qm.qmfile.getids" title="Permalink to this definition">¶</a></dt>
<dd><p>return a list of unit ids</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.qm.qmfile.getprojectstyle">
<code class="descname">getprojectstyle</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.qm.qmfile.getprojectstyle" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the project type for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.qm.qmfile.getsourcelanguage">
<code class="descname">getsourcelanguage</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.qm.qmfile.getsourcelanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the source language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.qm.qmfile.gettargetlanguage">
<code class="descname">gettargetlanguage</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.qm.qmfile.gettargetlanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the target language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.qm.qmfile.getunits">
<code class="descname">getunits</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.qm.qmfile.getunits" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of all units in this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.qm.qmfile.isempty">
<code class="descname">isempty</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.qm.qmfile.isempty" title="Permalink to this definition">¶</a></dt>
<dd><p>Return True if the object doesn’t contain any translation units.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.qm.qmfile.makeindex">
<code class="descname">makeindex</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.qm.qmfile.makeindex" title="Permalink to this definition">¶</a></dt>
<dd><p>Indexes the items in this store. At least .sourceindex should be
useful.</p>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.qm.qmfile.merge_on">
<code class="descname">merge_on</code><a class="headerlink" href="#translate.storage.qm.qmfile.merge_on" title="Permalink to this definition">¶</a></dt>
<dd><p>The matching criterion to use when merging on.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The default matching criterion for all the subclasses.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">string</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.qm.qmfile.parse">
<code class="descname">parse</code><span class="sig-paren">(</span><em>input</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.qm.qmfile.parse" title="Permalink to this definition">¶</a></dt>
<dd><p>Parses the given file or file source string.</p>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.qm.qmfile.parsefile">
<em class="property">classmethod </em><code class="descname">parsefile</code><span class="sig-paren">(</span><em>storefile</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.qm.qmfile.parsefile" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads the given file (or opens the given filename) and parses back
to an object.</p>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.qm.qmfile.parsestring">
<em class="property">classmethod </em><code class="descname">parsestring</code><span class="sig-paren">(</span><em>storestring</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.qm.qmfile.parsestring" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert the string representation back to an object.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.qm.qmfile.remove_unit_from_index">
<code class="descname">remove_unit_from_index</code><span class="sig-paren">(</span><em>unit</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.qm.qmfile.remove_unit_from_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove a unit from source and locaton indexes</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.qm.qmfile.require_index">
<code class="descname">require_index</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.qm.qmfile.require_index" title="Permalink to this definition">¶</a></dt>
<dd><p>make sure source index exists</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.qm.qmfile.save">
<code class="descname">save</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.qm.qmfile.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Save to the file that data was originally read from, if available.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.qm.qmfile.savefile">
<code class="descname">savefile</code><span class="sig-paren">(</span><em>storefile</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.qm.qmfile.savefile" title="Permalink to this definition">¶</a></dt>
<dd><p>Write the string representation to the given file (or filename).</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.qm.qmfile.serialize">
<code class="descname">serialize</code><span class="sig-paren">(</span><em>out</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.qm.qmfile.serialize" title="Permalink to this definition">¶</a></dt>
<dd><p>Output a string representation of the .qm data file</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.qm.qmfile.setprojectstyle">
<code class="descname">setprojectstyle</code><span class="sig-paren">(</span><em>project_style</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.qm.qmfile.setprojectstyle" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the project type for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.qm.qmfile.setsourcelanguage">
<code class="descname">setsourcelanguage</code><span class="sig-paren">(</span><em>sourcelanguage</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.qm.qmfile.setsourcelanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the source language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.qm.qmfile.settargetlanguage">
<code class="descname">settargetlanguage</code><span class="sig-paren">(</span><em>targetlanguage</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.qm.qmfile.settargetlanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the target language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.qm.qmfile.translate">
<code class="descname">translate</code><span class="sig-paren">(</span><em>source</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.qm.qmfile.translate" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the translated string for a given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">String or <a class="reference external" href="https://docs.python.org/2.7/library/constants.html#None" title="(in Python v2.7)">None</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.qm.qmfile.unit_iter">
<code class="descname">unit_iter</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.qm.qmfile.unit_iter" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterator over all the units in this store.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="translate.storage.qm.qmunit">
<em class="property">class </em><code class="descclassname">translate.storage.qm.</code><code class="descname">qmunit</code><span class="sig-paren">(</span><em>source=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.qm.qmunit" title="Permalink to this definition">¶</a></dt>
<dd><p>A class representing a .qm translation message.</p>
<dl class="method">
<dt id="translate.storage.qm.qmunit.adderror">
<code class="descname">adderror</code><span class="sig-paren">(</span><em>errorname</em>, <em>errortext</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.qm.qmunit.adderror" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds an error message to this unit.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>errorname</strong> (<em>string</em>) – A single word to id the error.</li>
<li><strong>errortext</strong> (<em>string</em>) – The text describing the error.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.qm.qmunit.addlocation">
<code class="descname">addlocation</code><span class="sig-paren">(</span><em>location</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.qm.qmunit.addlocation" title="Permalink to this definition">¶</a></dt>
<dd><p>Add one location to the list of locations.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Shouldn’t be implemented if the format doesn’t support it.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.qm.qmunit.addlocations">
<code class="descname">addlocations</code><span class="sig-paren">(</span><em>location</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.qm.qmunit.addlocations" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a location or a list of locations.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Most classes shouldn’t need to implement this, but should rather
implement <code class="xref py py-meth docutils literal notranslate"><span class="pre">TranslationUnit.addlocation()</span></code>.</p>
</div>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">This method might be removed in future.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.qm.qmunit.addnote">
<code class="descname">addnote</code><span class="sig-paren">(</span><em>text</em>, <em>origin=None</em>, <em>position='append'</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.qm.qmunit.addnote" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds a note (comment).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>text</strong> (<em>string</em>) – Usually just a sentence or two.</li>
<li><strong>origin</strong> (<em>string</em>) – Specifies who/where the comment comes from.
Origin can be one of the following text strings:
- ‘translator’
- ‘developer’, ‘programmer’, ‘source code’ (synonyms)</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.qm.qmunit.buildfromunit">
<em class="property">classmethod </em><code class="descname">buildfromunit</code><span class="sig-paren">(</span><em>unit</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.qm.qmunit.buildfromunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Build a native unit from a foreign unit, preserving as much
information as possible.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.qm.qmunit.getcontext">
<code class="descname">getcontext</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.qm.qmunit.getcontext" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the message context.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.qm.qmunit.geterrors">
<code class="descname">geterrors</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.qm.qmunit.geterrors" title="Permalink to this definition">¶</a></dt>
<dd><p>Get all error messages.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">Dictionary</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.qm.qmunit.getid">
<code class="descname">getid</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.qm.qmunit.getid" title="Permalink to this definition">¶</a></dt>
<dd><p>A unique identifier for this unit.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">string</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">an identifier for this unit that is unique in the store</td>
</tr>
</tbody>
</table>
<p>Derived classes should override this in a way that guarantees a unique
identifier for each unit in the store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.qm.qmunit.getlocations">
<code class="descname">getlocations</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.qm.qmunit.getlocations" title="Permalink to this definition">¶</a></dt>
<dd><p>A list of source code locations.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">List</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Shouldn’t be implemented if the format doesn’t support it.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.qm.qmunit.getnotes">
<code class="descname">getnotes</code><span class="sig-paren">(</span><em>origin=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.qm.qmunit.getnotes" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns all notes about this unit.</p>
<p>It will probably be freeform text or something reasonable that can be
synthesised by the format.
It should not include location comments (see
<a class="reference internal" href="#translate.storage.base.TranslationUnit.getlocations" title="translate.storage.base.TranslationUnit.getlocations"><code class="xref py py-meth docutils literal notranslate"><span class="pre">getlocations()</span></code></a>).</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.qm.qmunit.gettargetlen">
<code class="descname">gettargetlen</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.qm.qmunit.gettargetlen" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the length of the target string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">Integer</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Plural forms might be combined.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.qm.qmunit.getunits">
<code class="descname">getunits</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.qm.qmunit.getunits" title="Permalink to this definition">¶</a></dt>
<dd><p>This unit in a list.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.qm.qmunit.hasplural">
<code class="descname">hasplural</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.qm.qmunit.hasplural" title="Permalink to this definition">¶</a></dt>
<dd><p>Tells whether or not this specific unit has plural strings.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.qm.qmunit.infer_state">
<code class="descname">infer_state</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.qm.qmunit.infer_state" title="Permalink to this definition">¶</a></dt>
<dd><p>Empty method that should be overridden in sub-classes to infer the
current state(_n) of the unit from its current state.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.qm.qmunit.isblank">
<code class="descname">isblank</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.qm.qmunit.isblank" title="Permalink to this definition">¶</a></dt>
<dd><p>Used to see if this unit has no source or target string.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This is probably used more to find translatable units,
and we might want to move in that direction rather and
get rid of this.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.qm.qmunit.isfuzzy">
<code class="descname">isfuzzy</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.qm.qmunit.isfuzzy" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit is fuzzy.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.qm.qmunit.isheader">
<code class="descname">isheader</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.qm.qmunit.isheader" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit is a header.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.qm.qmunit.isobsolete">
<code class="descname">isobsolete</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.qm.qmunit.isobsolete" title="Permalink to this definition">¶</a></dt>
<dd><p>indicate whether a unit is obsolete</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.qm.qmunit.isreview">
<code class="descname">isreview</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.qm.qmunit.isreview" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit needs review.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.qm.qmunit.istranslatable">
<code class="descname">istranslatable</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.qm.qmunit.istranslatable" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit can be translated.</p>
<p>This should be used to distinguish real units for translation from
header, obsolete, binary or other blank units.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.qm.qmunit.istranslated">
<code class="descname">istranslated</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.qm.qmunit.istranslated" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit is translated.</p>
<p>This should be used rather than deducing it from .target,
to ensure that other classes can implement more functionality
(as XLIFF does).</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.qm.qmunit.makeobsolete">
<code class="descname">makeobsolete</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.qm.qmunit.makeobsolete" title="Permalink to this definition">¶</a></dt>
<dd><p>Make a unit obsolete</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.qm.qmunit.markfuzzy">
<code class="descname">markfuzzy</code><span class="sig-paren">(</span><em>value=True</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.qm.qmunit.markfuzzy" title="Permalink to this definition">¶</a></dt>
<dd><p>Marks the unit as fuzzy or not.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.qm.qmunit.markreviewneeded">
<code class="descname">markreviewneeded</code><span class="sig-paren">(</span><em>needsreview=True</em>, <em>explanation=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.qm.qmunit.markreviewneeded" title="Permalink to this definition">¶</a></dt>
<dd><p>Marks the unit to indicate whether it needs review.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>needsreview</strong> – Defaults to True.</li>
<li><strong>explanation</strong> – Adds an optional explanation as a note.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.qm.qmunit.merge">
<code class="descname">merge</code><span class="sig-paren">(</span><em>otherunit</em>, <em>overwrite=False</em>, <em>comments=True</em>, <em>authoritative=False</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.qm.qmunit.merge" title="Permalink to this definition">¶</a></dt>
<dd><p>Do basic format agnostic merging.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.qm.qmunit.multistring_to_rich">
<code class="descname">multistring_to_rich</code><span class="sig-paren">(</span><em>mulstring</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.qm.qmunit.multistring_to_rich" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a multistring to a list of “rich” string trees:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">target</span> <span class="o">=</span> <span class="n">multistring</span><span class="p">([</span><span class="sa">u</span><span class="s1">&#39;foo&#39;</span><span class="p">,</span> <span class="sa">u</span><span class="s1">&#39;bar&#39;</span><span class="p">,</span> <span class="sa">u</span><span class="s1">&#39;baz&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">TranslationUnit</span><span class="o">.</span><span class="n">multistring_to_rich</span><span class="p">(</span><span class="n">target</span><span class="p">)</span>
<span class="go">[&lt;StringElem([&lt;StringElem([u&#39;foo&#39;])&gt;])&gt;,</span>
<span class="go"> &lt;StringElem([&lt;StringElem([u&#39;bar&#39;])&gt;])&gt;,</span>
<span class="go"> &lt;StringElem([&lt;StringElem([u&#39;baz&#39;])&gt;])&gt;]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.qm.qmunit.removenotes">
<code class="descname">removenotes</code><span class="sig-paren">(</span><em>origin=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.qm.qmunit.removenotes" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove all the translator’s notes.</p>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.qm.qmunit.rich_source">
<code class="descname">rich_source</code><a class="headerlink" href="#translate.storage.qm.qmunit.rich_source" title="Permalink to this definition">¶</a></dt>
<dd><div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="#translate.storage.qm.qmunit.rich_to_multistring" title="translate.storage.qm.qmunit.rich_to_multistring"><code class="xref py py-meth docutils literal notranslate"><span class="pre">rich_to_multistring()</span></code></a>, <a class="reference internal" href="#translate.storage.qm.qmunit.multistring_to_rich" title="translate.storage.qm.qmunit.multistring_to_rich"><code class="xref py py-meth docutils literal notranslate"><span class="pre">multistring_to_rich()</span></code></a></p>
</div>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.qm.qmunit.rich_target">
<code class="descname">rich_target</code><a class="headerlink" href="#translate.storage.qm.qmunit.rich_target" title="Permalink to this definition">¶</a></dt>
<dd><div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="#translate.storage.qm.qmunit.rich_to_multistring" title="translate.storage.qm.qmunit.rich_to_multistring"><code class="xref py py-meth docutils literal notranslate"><span class="pre">rich_to_multistring()</span></code></a>, <a class="reference internal" href="#translate.storage.qm.qmunit.multistring_to_rich" title="translate.storage.qm.qmunit.multistring_to_rich"><code class="xref py py-meth docutils literal notranslate"><span class="pre">multistring_to_rich()</span></code></a></p>
</div>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.qm.qmunit.rich_to_multistring">
<em class="property">classmethod </em><code class="descname">rich_to_multistring</code><span class="sig-paren">(</span><em>elem_list</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.qm.qmunit.rich_to_multistring" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a “rich” string tree to a <code class="docutils literal notranslate"><span class="pre">multistring</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">translate.storage.placeables.interfaces</span> <span class="kn">import</span> <span class="n">X</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rich</span> <span class="o">=</span> <span class="p">[</span><span class="n">StringElem</span><span class="p">([</span><span class="s1">&#39;foo&#39;</span><span class="p">,</span> <span class="n">X</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="s1">&#39;xxx&#39;</span><span class="p">,</span> <span class="n">sub</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39; &#39;</span><span class="p">]),</span> <span class="s1">&#39;bar&#39;</span><span class="p">])]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">TranslationUnit</span><span class="o">.</span><span class="n">rich_to_multistring</span><span class="p">(</span><span class="n">rich</span><span class="p">)</span>
<span class="go">multistring(u&#39;foo bar&#39;)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.qm.qmunit.setcontext">
<code class="descname">setcontext</code><span class="sig-paren">(</span><em>context</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.qm.qmunit.setcontext" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the message context</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.qm.qmunit.setid">
<code class="descname">setid</code><span class="sig-paren">(</span><em>value</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.qm.qmunit.setid" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the unique identified for this unit.</p>
<p>only implemented if format allows ids independant from other unit
properties like source or context</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.qm.qmunit.unit_iter">
<code class="descname">unit_iter</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.qm.qmunit.unit_iter" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterator that only returns this unit.</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="translate.storage.qm.qmunpack">
<code class="descclassname">translate.storage.qm.</code><code class="descname">qmunpack</code><span class="sig-paren">(</span><em>file_='messages.qm'</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.qm.qmunpack" title="Permalink to this definition">¶</a></dt>
<dd><p>Helper to unpack Qt .qm files into a Python string</p>
</dd></dl>

</div>
<div class="section" id="module-translate.storage.qph">
<span id="qph"></span><h2>qph<a class="headerlink" href="#module-translate.storage.qph" title="Permalink to this headline">¶</a></h2>
<p>Module for handling Qt Linguist Phrase Book (.qph) files.</p>
<p>Extract from the <a class="reference external" href="http://doc.trolltech.com/4.3/linguist-translators.html">Qt Linguist Manual: Translators</a>:
.qph Qt Phrase Book Files are human-readable XML files containing standard
phrases and their translations. These files are created and updated by Qt
Linguist and may be used by any number of projects and applications.</p>
<p>A DTD to define the format does not seem to exist, but the following <a class="reference external" href="http://qt.gitorious.org/qt/qt/blobs/4.7/tools/linguist/shared/qph.cpp">code</a>
provides the reference implementation for the Qt Linguist product.</p>
<dl class="class">
<dt id="translate.storage.qph.QphFile">
<em class="property">class </em><code class="descclassname">translate.storage.qph.</code><code class="descname">QphFile</code><span class="sig-paren">(</span><em>inputfile=None</em>, <em>sourcelanguage='en'</em>, <em>targetlanguage=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.qph.QphFile" title="Permalink to this definition">¶</a></dt>
<dd><p>Class representing a QPH file store.</p>
<dl class="attribute">
<dt id="translate.storage.qph.QphFile.UnitClass">
<code class="descname">UnitClass</code><a class="headerlink" href="#translate.storage.qph.QphFile.UnitClass" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <a class="reference internal" href="#translate.storage.qph.QphUnit" title="translate.storage.qph.QphUnit"><code class="xref py py-class docutils literal notranslate"><span class="pre">QphUnit</span></code></a></p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.qph.QphFile.add_unit_to_index">
<code class="descname">add_unit_to_index</code><span class="sig-paren">(</span><em>unit</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.qph.QphFile.add_unit_to_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a unit to source and location idexes</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.qph.QphFile.addheader">
<code class="descname">addheader</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.qph.QphFile.addheader" title="Permalink to this definition">¶</a></dt>
<dd><p>Method to be overridden to initialise headers, etc.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.qph.QphFile.addsourceunit">
<code class="descname">addsourceunit</code><span class="sig-paren">(</span><em>source</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.qph.QphFile.addsourceunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds and returns a new unit with the given string as first entry.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.qph.QphFile.addunit">
<code class="descname">addunit</code><span class="sig-paren">(</span><em>unit</em>, <em>new=True</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.qph.QphFile.addunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Append the given unit to the object’s list of units.</p>
<p>This method should always be used rather than trying to modify the
list manually.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>unit</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">TranslationUnit</span></code>) – The unit that will be added.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.qph.QphFile.detect_encoding">
<code class="descname">detect_encoding</code><span class="sig-paren">(</span><em>text</em>, <em>default_encodings=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.qph.QphFile.detect_encoding" title="Permalink to this definition">¶</a></dt>
<dd><p>Try to detect a file encoding from <cite>text</cite>, using either the chardet lib
or by trying to decode the file.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.qph.QphFile.fallback_detection">
<code class="descname">fallback_detection</code><span class="sig-paren">(</span><em>text</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.qph.QphFile.fallback_detection" title="Permalink to this definition">¶</a></dt>
<dd><p>Simple detection based on BOM in case chardet is not available.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.qph.QphFile.findid">
<code class="descname">findid</code><span class="sig-paren">(</span><em>id</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.qph.QphFile.findid" title="Permalink to this definition">¶</a></dt>
<dd><p>find unit with matching id by checking id_index</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.qph.QphFile.findunit">
<code class="descname">findunit</code><span class="sig-paren">(</span><em>source</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.qph.QphFile.findunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the unit with the given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><code class="xref py py-class docutils literal notranslate"><span class="pre">TranslationUnit</span></code> or None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.qph.QphFile.findunits">
<code class="descname">findunits</code><span class="sig-paren">(</span><em>source</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.qph.QphFile.findunits" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the units with the given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><code class="xref py py-class docutils literal notranslate"><span class="pre">TranslationUnit</span></code> or None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.qph.QphFile.getids">
<code class="descname">getids</code><span class="sig-paren">(</span><em>filename=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.qph.QphFile.getids" title="Permalink to this definition">¶</a></dt>
<dd><p>return a list of unit ids</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.qph.QphFile.getprojectstyle">
<code class="descname">getprojectstyle</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.qph.QphFile.getprojectstyle" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the project type for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.qph.QphFile.getsourcelanguage">
<code class="descname">getsourcelanguage</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.qph.QphFile.getsourcelanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the source language for this .qph file.</p>
<p>We don’t implement setsourcelanguage as users really shouldn’t be
altering the source language in .qph files, it should be set correctly
by the extraction tools.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">ISO code e.g. af, fr, pt_BR</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">String</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.qph.QphFile.gettargetlanguage">
<code class="descname">gettargetlanguage</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.qph.QphFile.gettargetlanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the target language for this .qph file.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">ISO code e.g. af, fr, pt_BR</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">String</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.qph.QphFile.getunits">
<code class="descname">getunits</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.qph.QphFile.getunits" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of all units in this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.qph.QphFile.initbody">
<code class="descname">initbody</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.qph.QphFile.initbody" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialises self.body so it never needs to be retrieved from the XML
again.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.qph.QphFile.isempty">
<code class="descname">isempty</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.qph.QphFile.isempty" title="Permalink to this definition">¶</a></dt>
<dd><p>Return True if the object doesn’t contain any translation units.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.qph.QphFile.makeindex">
<code class="descname">makeindex</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.qph.QphFile.makeindex" title="Permalink to this definition">¶</a></dt>
<dd><p>Indexes the items in this store. At least .sourceindex should be
useful.</p>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.qph.QphFile.merge_on">
<code class="descname">merge_on</code><a class="headerlink" href="#translate.storage.qph.QphFile.merge_on" title="Permalink to this definition">¶</a></dt>
<dd><p>The matching criterion to use when merging on.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The default matching criterion for all the subclasses.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">string</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.qph.QphFile.namespaced">
<code class="descname">namespaced</code><span class="sig-paren">(</span><em>name</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.qph.QphFile.namespaced" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns name in Clark notation.</p>
<p>For example <code class="docutils literal notranslate"><span class="pre">namespaced(&quot;source&quot;)</span></code> in an XLIFF document
might return:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span><span class="n">urn</span><span class="p">:</span><span class="n">oasis</span><span class="p">:</span><span class="n">names</span><span class="p">:</span><span class="n">tc</span><span class="p">:</span><span class="n">xliff</span><span class="p">:</span><span class="n">document</span><span class="p">:</span><span class="mf">1.1</span><span class="p">}</span><span class="n">source</span>
</pre></div>
</div>
<p>This is needed throughout lxml.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.qph.QphFile.parse">
<code class="descname">parse</code><span class="sig-paren">(</span><em>xml</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.qph.QphFile.parse" title="Permalink to this definition">¶</a></dt>
<dd><p>Populates this object from the given xml string</p>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.qph.QphFile.parsefile">
<em class="property">classmethod </em><code class="descname">parsefile</code><span class="sig-paren">(</span><em>storefile</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.qph.QphFile.parsefile" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads the given file (or opens the given filename) and parses back
to an object.</p>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.qph.QphFile.parsestring">
<em class="property">classmethod </em><code class="descname">parsestring</code><span class="sig-paren">(</span><em>storestring</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.qph.QphFile.parsestring" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert the string representation back to an object.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.qph.QphFile.remove_unit_from_index">
<code class="descname">remove_unit_from_index</code><span class="sig-paren">(</span><em>unit</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.qph.QphFile.remove_unit_from_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove a unit from source and locaton indexes</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.qph.QphFile.require_index">
<code class="descname">require_index</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.qph.QphFile.require_index" title="Permalink to this definition">¶</a></dt>
<dd><p>make sure source index exists</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.qph.QphFile.save">
<code class="descname">save</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.qph.QphFile.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Save to the file that data was originally read from, if available.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.qph.QphFile.savefile">
<code class="descname">savefile</code><span class="sig-paren">(</span><em>storefile</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.qph.QphFile.savefile" title="Permalink to this definition">¶</a></dt>
<dd><p>Write the string representation to the given file (or filename).</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.qph.QphFile.serialize">
<code class="descname">serialize</code><span class="sig-paren">(</span><em>out</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.qph.QphFile.serialize" title="Permalink to this definition">¶</a></dt>
<dd><p>Write the XML document to the file <cite>out</cite>.</p>
<dl class="docutils">
<dt>We have to override this to ensure mimic the Qt convention:</dt>
<dd><ul class="first last simple">
<li>no XML declaration</li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="translate.storage.qph.QphFile.setprojectstyle">
<code class="descname">setprojectstyle</code><span class="sig-paren">(</span><em>project_style</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.qph.QphFile.setprojectstyle" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the project type for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.qph.QphFile.setsourcelanguage">
<code class="descname">setsourcelanguage</code><span class="sig-paren">(</span><em>sourcelanguage</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.qph.QphFile.setsourcelanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the source language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.qph.QphFile.settargetlanguage">
<code class="descname">settargetlanguage</code><span class="sig-paren">(</span><em>targetlanguage</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.qph.QphFile.settargetlanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the target language for this .qph file to <em>targetlanguage</em>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>targetlanguage</strong> (<em>String</em>) – ISO code e.g. af, fr, pt_BR</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.qph.QphFile.translate">
<code class="descname">translate</code><span class="sig-paren">(</span><em>source</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.qph.QphFile.translate" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the translated string for a given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">String or <a class="reference external" href="https://docs.python.org/2.7/library/constants.html#None" title="(in Python v2.7)">None</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.qph.QphFile.unit_iter">
<code class="descname">unit_iter</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.qph.QphFile.unit_iter" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterator over all the units in this store.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="translate.storage.qph.QphUnit">
<em class="property">class </em><code class="descclassname">translate.storage.qph.</code><code class="descname">QphUnit</code><span class="sig-paren">(</span><em>source</em>, <em>empty=False</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.qph.QphUnit" title="Permalink to this definition">¶</a></dt>
<dd><p>A single term in the qph file.</p>
<dl class="method">
<dt id="translate.storage.qph.QphUnit.adderror">
<code class="descname">adderror</code><span class="sig-paren">(</span><em>errorname</em>, <em>errortext</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.qph.QphUnit.adderror" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds an error message to this unit.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>errorname</strong> (<em>string</em>) – A single word to id the error.</li>
<li><strong>errortext</strong> (<em>string</em>) – The text describing the error.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.qph.QphUnit.addlocation">
<code class="descname">addlocation</code><span class="sig-paren">(</span><em>location</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.qph.QphUnit.addlocation" title="Permalink to this definition">¶</a></dt>
<dd><p>Add one location to the list of locations.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Shouldn’t be implemented if the format doesn’t support it.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.qph.QphUnit.addlocations">
<code class="descname">addlocations</code><span class="sig-paren">(</span><em>location</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.qph.QphUnit.addlocations" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a location or a list of locations.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Most classes shouldn’t need to implement this, but should rather
implement <code class="xref py py-meth docutils literal notranslate"><span class="pre">TranslationUnit.addlocation()</span></code>.</p>
</div>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">This method might be removed in future.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.qph.QphUnit.addnote">
<code class="descname">addnote</code><span class="sig-paren">(</span><em>text</em>, <em>origin=None</em>, <em>position='append'</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.qph.QphUnit.addnote" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a note specifically in a “definition” tag</p>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.qph.QphUnit.buildfromunit">
<em class="property">classmethod </em><code class="descname">buildfromunit</code><span class="sig-paren">(</span><em>unit</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.qph.QphUnit.buildfromunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Build a native unit from a foreign unit, preserving as much
information as possible.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.qph.QphUnit.createlanguageNode">
<code class="descname">createlanguageNode</code><span class="sig-paren">(</span><em>lang</em>, <em>text</em>, <em>purpose</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.qph.QphUnit.createlanguageNode" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns an xml Element setup with given parameters.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.qph.QphUnit.getNodeText">
<code class="descname">getNodeText</code><span class="sig-paren">(</span><em>languageNode</em>, <em>xml_space='preserve'</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.qph.QphUnit.getNodeText" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieves the term from the given <code class="xref py py-attr docutils literal notranslate"><span class="pre">languageNode</span></code>.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.qph.QphUnit.getcontext">
<code class="descname">getcontext</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.qph.QphUnit.getcontext" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the message context.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.qph.QphUnit.geterrors">
<code class="descname">geterrors</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.qph.QphUnit.geterrors" title="Permalink to this definition">¶</a></dt>
<dd><p>Get all error messages.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">Dictionary</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.qph.QphUnit.getid">
<code class="descname">getid</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.qph.QphUnit.getid" title="Permalink to this definition">¶</a></dt>
<dd><p>A unique identifier for this unit.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">string</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">an identifier for this unit that is unique in the store</td>
</tr>
</tbody>
</table>
<p>Derived classes should override this in a way that guarantees a unique
identifier for each unit in the store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.qph.QphUnit.getlanguageNode">
<code class="descname">getlanguageNode</code><span class="sig-paren">(</span><em>lang=None</em>, <em>index=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.qph.QphUnit.getlanguageNode" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieves a <code class="xref py py-attr docutils literal notranslate"><span class="pre">languageNode</span></code> either by language or by index.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.qph.QphUnit.getlanguageNodes">
<code class="descname">getlanguageNodes</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.qph.QphUnit.getlanguageNodes" title="Permalink to this definition">¶</a></dt>
<dd><p>We override this to get source and target nodes.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.qph.QphUnit.getlocations">
<code class="descname">getlocations</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.qph.QphUnit.getlocations" title="Permalink to this definition">¶</a></dt>
<dd><p>A list of source code locations.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">List</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Shouldn’t be implemented if the format doesn’t support it.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.qph.QphUnit.getnotes">
<code class="descname">getnotes</code><span class="sig-paren">(</span><em>origin=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.qph.QphUnit.getnotes" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns all notes about this unit.</p>
<p>It will probably be freeform text or something reasonable that can be
synthesised by the format.
It should not include location comments (see
<a class="reference internal" href="#translate.storage.base.TranslationUnit.getlocations" title="translate.storage.base.TranslationUnit.getlocations"><code class="xref py py-meth docutils literal notranslate"><span class="pre">getlocations()</span></code></a>).</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.qph.QphUnit.gettarget">
<code class="descname">gettarget</code><span class="sig-paren">(</span><em>lang=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.qph.QphUnit.gettarget" title="Permalink to this definition">¶</a></dt>
<dd><p>retrieves the “target” text (second entry), or the entry in the
specified language, if it exists</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.qph.QphUnit.gettargetlen">
<code class="descname">gettargetlen</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.qph.QphUnit.gettargetlen" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the length of the target string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">Integer</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Plural forms might be combined.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.qph.QphUnit.getunits">
<code class="descname">getunits</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.qph.QphUnit.getunits" title="Permalink to this definition">¶</a></dt>
<dd><p>This unit in a list.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.qph.QphUnit.hasplural">
<code class="descname">hasplural</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.qph.QphUnit.hasplural" title="Permalink to this definition">¶</a></dt>
<dd><p>Tells whether or not this specific unit has plural strings.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.qph.QphUnit.infer_state">
<code class="descname">infer_state</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.qph.QphUnit.infer_state" title="Permalink to this definition">¶</a></dt>
<dd><p>Empty method that should be overridden in sub-classes to infer the
current state(_n) of the unit from its current state.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.qph.QphUnit.isblank">
<code class="descname">isblank</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.qph.QphUnit.isblank" title="Permalink to this definition">¶</a></dt>
<dd><p>Used to see if this unit has no source or target string.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This is probably used more to find translatable units,
and we might want to move in that direction rather and
get rid of this.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.qph.QphUnit.isfuzzy">
<code class="descname">isfuzzy</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.qph.QphUnit.isfuzzy" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit is fuzzy.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.qph.QphUnit.isheader">
<code class="descname">isheader</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.qph.QphUnit.isheader" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit is a header.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.qph.QphUnit.isobsolete">
<code class="descname">isobsolete</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.qph.QphUnit.isobsolete" title="Permalink to this definition">¶</a></dt>
<dd><p>indicate whether a unit is obsolete</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.qph.QphUnit.isreview">
<code class="descname">isreview</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.qph.QphUnit.isreview" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit needs review.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.qph.QphUnit.istranslatable">
<code class="descname">istranslatable</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.qph.QphUnit.istranslatable" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit can be translated.</p>
<p>This should be used to distinguish real units for translation from
header, obsolete, binary or other blank units.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.qph.QphUnit.istranslated">
<code class="descname">istranslated</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.qph.QphUnit.istranslated" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit is translated.</p>
<p>This should be used rather than deducing it from .target,
to ensure that other classes can implement more functionality
(as XLIFF does).</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.qph.QphUnit.makeobsolete">
<code class="descname">makeobsolete</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.qph.QphUnit.makeobsolete" title="Permalink to this definition">¶</a></dt>
<dd><p>Make a unit obsolete</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.qph.QphUnit.markfuzzy">
<code class="descname">markfuzzy</code><span class="sig-paren">(</span><em>value=True</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.qph.QphUnit.markfuzzy" title="Permalink to this definition">¶</a></dt>
<dd><p>Marks the unit as fuzzy or not.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.qph.QphUnit.markreviewneeded">
<code class="descname">markreviewneeded</code><span class="sig-paren">(</span><em>needsreview=True</em>, <em>explanation=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.qph.QphUnit.markreviewneeded" title="Permalink to this definition">¶</a></dt>
<dd><p>Marks the unit to indicate whether it needs review.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>needsreview</strong> – Defaults to True.</li>
<li><strong>explanation</strong> – Adds an optional explanation as a note.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.qph.QphUnit.merge">
<code class="descname">merge</code><span class="sig-paren">(</span><em>otherunit</em>, <em>overwrite=False</em>, <em>comments=True</em>, <em>authoritative=False</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.qph.QphUnit.merge" title="Permalink to this definition">¶</a></dt>
<dd><p>Do basic format agnostic merging.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.qph.QphUnit.multistring_to_rich">
<code class="descname">multistring_to_rich</code><span class="sig-paren">(</span><em>mulstring</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.qph.QphUnit.multistring_to_rich" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a multistring to a list of “rich” string trees:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">target</span> <span class="o">=</span> <span class="n">multistring</span><span class="p">([</span><span class="sa">u</span><span class="s1">&#39;foo&#39;</span><span class="p">,</span> <span class="sa">u</span><span class="s1">&#39;bar&#39;</span><span class="p">,</span> <span class="sa">u</span><span class="s1">&#39;baz&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">TranslationUnit</span><span class="o">.</span><span class="n">multistring_to_rich</span><span class="p">(</span><span class="n">target</span><span class="p">)</span>
<span class="go">[&lt;StringElem([&lt;StringElem([u&#39;foo&#39;])&gt;])&gt;,</span>
<span class="go"> &lt;StringElem([&lt;StringElem([u&#39;bar&#39;])&gt;])&gt;,</span>
<span class="go"> &lt;StringElem([&lt;StringElem([u&#39;baz&#39;])&gt;])&gt;]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.qph.QphUnit.namespaced">
<code class="descname">namespaced</code><span class="sig-paren">(</span><em>name</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.qph.QphUnit.namespaced" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns name in Clark notation.</p>
<p>For example <code class="docutils literal notranslate"><span class="pre">namespaced(&quot;source&quot;)</span></code> in an XLIFF document
might return:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span><span class="n">urn</span><span class="p">:</span><span class="n">oasis</span><span class="p">:</span><span class="n">names</span><span class="p">:</span><span class="n">tc</span><span class="p">:</span><span class="n">xliff</span><span class="p">:</span><span class="n">document</span><span class="p">:</span><span class="mf">1.1</span><span class="p">}</span><span class="n">source</span>
</pre></div>
</div>
<p>This is needed throughout lxml.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.qph.QphUnit.removenotes">
<code class="descname">removenotes</code><span class="sig-paren">(</span><em>origin=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.qph.QphUnit.removenotes" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove all the translator notes.</p>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.qph.QphUnit.rich_source">
<code class="descname">rich_source</code><a class="headerlink" href="#translate.storage.qph.QphUnit.rich_source" title="Permalink to this definition">¶</a></dt>
<dd><div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="#translate.storage.qph.QphUnit.rich_to_multistring" title="translate.storage.qph.QphUnit.rich_to_multistring"><code class="xref py py-meth docutils literal notranslate"><span class="pre">rich_to_multistring()</span></code></a>, <a class="reference internal" href="#translate.storage.qph.QphUnit.multistring_to_rich" title="translate.storage.qph.QphUnit.multistring_to_rich"><code class="xref py py-meth docutils literal notranslate"><span class="pre">multistring_to_rich()</span></code></a></p>
</div>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.qph.QphUnit.rich_target">
<code class="descname">rich_target</code><a class="headerlink" href="#translate.storage.qph.QphUnit.rich_target" title="Permalink to this definition">¶</a></dt>
<dd><div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="#translate.storage.qph.QphUnit.rich_to_multistring" title="translate.storage.qph.QphUnit.rich_to_multistring"><code class="xref py py-meth docutils literal notranslate"><span class="pre">rich_to_multistring()</span></code></a>, <a class="reference internal" href="#translate.storage.qph.QphUnit.multistring_to_rich" title="translate.storage.qph.QphUnit.multistring_to_rich"><code class="xref py py-meth docutils literal notranslate"><span class="pre">multistring_to_rich()</span></code></a></p>
</div>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.qph.QphUnit.rich_to_multistring">
<em class="property">classmethod </em><code class="descname">rich_to_multistring</code><span class="sig-paren">(</span><em>elem_list</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.qph.QphUnit.rich_to_multistring" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a “rich” string tree to a <code class="docutils literal notranslate"><span class="pre">multistring</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">translate.storage.placeables.interfaces</span> <span class="kn">import</span> <span class="n">X</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rich</span> <span class="o">=</span> <span class="p">[</span><span class="n">StringElem</span><span class="p">([</span><span class="s1">&#39;foo&#39;</span><span class="p">,</span> <span class="n">X</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="s1">&#39;xxx&#39;</span><span class="p">,</span> <span class="n">sub</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39; &#39;</span><span class="p">]),</span> <span class="s1">&#39;bar&#39;</span><span class="p">])]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">TranslationUnit</span><span class="o">.</span><span class="n">rich_to_multistring</span><span class="p">(</span><span class="n">rich</span><span class="p">)</span>
<span class="go">multistring(u&#39;foo bar&#39;)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.qph.QphUnit.setcontext">
<code class="descname">setcontext</code><span class="sig-paren">(</span><em>context</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.qph.QphUnit.setcontext" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the message context</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.qph.QphUnit.setid">
<code class="descname">setid</code><span class="sig-paren">(</span><em>value</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.qph.QphUnit.setid" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the unique identified for this unit.</p>
<p>only implemented if format allows ids independant from other unit
properties like source or context</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.qph.QphUnit.settarget">
<code class="descname">settarget</code><span class="sig-paren">(</span><em>target</em>, <em>lang='xx'</em>, <em>append=False</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.qph.QphUnit.settarget" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the “target” string (second language), or alternatively appends
to the list</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.qph.QphUnit.unit_iter">
<code class="descname">unit_iter</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.qph.QphUnit.unit_iter" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterator that only returns this unit.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-translate.storage.rc">
<span id="rc"></span><h2>rc<a class="headerlink" href="#module-translate.storage.rc" title="Permalink to this headline">¶</a></h2>
<p>Classes that hold units of .rc files (<a class="reference internal" href="#translate.storage.rc.rcunit" title="translate.storage.rc.rcunit"><code class="xref py py-class docutils literal notranslate"><span class="pre">rcunit</span></code></a>) or entire files
(<a class="reference internal" href="#translate.storage.rc.rcfile" title="translate.storage.rc.rcfile"><code class="xref py py-class docutils literal notranslate"><span class="pre">rcfile</span></code></a>) used in translating Windows Resources.</p>
<dl class="function">
<dt id="translate.storage.rc.escape_to_python">
<code class="descclassname">translate.storage.rc.</code><code class="descname">escape_to_python</code><span class="sig-paren">(</span><em>string</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.rc.escape_to_python" title="Permalink to this definition">¶</a></dt>
<dd><p>Escape a given .rc string into a valid Python string.</p>
</dd></dl>

<dl class="function">
<dt id="translate.storage.rc.escape_to_rc">
<code class="descclassname">translate.storage.rc.</code><code class="descname">escape_to_rc</code><span class="sig-paren">(</span><em>string</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.rc.escape_to_rc" title="Permalink to this definition">¶</a></dt>
<dd><p>Escape a given Python string into a valid .rc string.</p>
</dd></dl>

<dl class="class">
<dt id="translate.storage.rc.rcfile">
<em class="property">class </em><code class="descclassname">translate.storage.rc.</code><code class="descname">rcfile</code><span class="sig-paren">(</span><em>inputfile=None</em>, <em>lang=None</em>, <em>sublang=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.rc.rcfile" title="Permalink to this definition">¶</a></dt>
<dd><p>This class represents a .rc file, made up of rcunits.</p>
<dl class="attribute">
<dt id="translate.storage.rc.rcfile.UnitClass">
<code class="descname">UnitClass</code><a class="headerlink" href="#translate.storage.rc.rcfile.UnitClass" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <a class="reference internal" href="#translate.storage.rc.rcunit" title="translate.storage.rc.rcunit"><code class="xref py py-class docutils literal notranslate"><span class="pre">rcunit</span></code></a></p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.rc.rcfile.add_unit_to_index">
<code class="descname">add_unit_to_index</code><span class="sig-paren">(</span><em>unit</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.rc.rcfile.add_unit_to_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a unit to source and location idexes</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.rc.rcfile.addsourceunit">
<code class="descname">addsourceunit</code><span class="sig-paren">(</span><em>source</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.rc.rcfile.addsourceunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Add and returns a new unit with the given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><code class="xref py py-class docutils literal notranslate"><span class="pre">TranslationUnit</span></code></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.rc.rcfile.addunit">
<code class="descname">addunit</code><span class="sig-paren">(</span><em>unit</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.rc.rcfile.addunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Append the given unit to the object’s list of units.</p>
<p>This method should always be used rather than trying to modify the
list manually.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>unit</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">TranslationUnit</span></code>) – The unit that will be added.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.rc.rcfile.detect_encoding">
<code class="descname">detect_encoding</code><span class="sig-paren">(</span><em>text</em>, <em>default_encodings=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.rc.rcfile.detect_encoding" title="Permalink to this definition">¶</a></dt>
<dd><p>Try to detect a file encoding from <cite>text</cite>, using either the chardet lib
or by trying to decode the file.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.rc.rcfile.fallback_detection">
<code class="descname">fallback_detection</code><span class="sig-paren">(</span><em>text</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.rc.rcfile.fallback_detection" title="Permalink to this definition">¶</a></dt>
<dd><p>Simple detection based on BOM in case chardet is not available.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.rc.rcfile.findid">
<code class="descname">findid</code><span class="sig-paren">(</span><em>id</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.rc.rcfile.findid" title="Permalink to this definition">¶</a></dt>
<dd><p>find unit with matching id by checking id_index</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.rc.rcfile.findunit">
<code class="descname">findunit</code><span class="sig-paren">(</span><em>source</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.rc.rcfile.findunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the unit with the given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><code class="xref py py-class docutils literal notranslate"><span class="pre">TranslationUnit</span></code> or None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.rc.rcfile.findunits">
<code class="descname">findunits</code><span class="sig-paren">(</span><em>source</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.rc.rcfile.findunits" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the units with the given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><code class="xref py py-class docutils literal notranslate"><span class="pre">TranslationUnit</span></code> or None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.rc.rcfile.getids">
<code class="descname">getids</code><span class="sig-paren">(</span><em>filename=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.rc.rcfile.getids" title="Permalink to this definition">¶</a></dt>
<dd><p>return a list of unit ids</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.rc.rcfile.getprojectstyle">
<code class="descname">getprojectstyle</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.rc.rcfile.getprojectstyle" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the project type for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.rc.rcfile.getsourcelanguage">
<code class="descname">getsourcelanguage</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.rc.rcfile.getsourcelanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the source language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.rc.rcfile.gettargetlanguage">
<code class="descname">gettargetlanguage</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.rc.rcfile.gettargetlanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the target language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.rc.rcfile.getunits">
<code class="descname">getunits</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.rc.rcfile.getunits" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of all units in this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.rc.rcfile.isempty">
<code class="descname">isempty</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.rc.rcfile.isempty" title="Permalink to this definition">¶</a></dt>
<dd><p>Return True if the object doesn’t contain any translation units.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.rc.rcfile.makeindex">
<code class="descname">makeindex</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.rc.rcfile.makeindex" title="Permalink to this definition">¶</a></dt>
<dd><p>Indexes the items in this store. At least .sourceindex should be
useful.</p>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.rc.rcfile.merge_on">
<code class="descname">merge_on</code><a class="headerlink" href="#translate.storage.rc.rcfile.merge_on" title="Permalink to this definition">¶</a></dt>
<dd><p>The matching criterion to use when merging on.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The default matching criterion for all the subclasses.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">string</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.rc.rcfile.parse">
<code class="descname">parse</code><span class="sig-paren">(</span><em>rcsrc</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.rc.rcfile.parse" title="Permalink to this definition">¶</a></dt>
<dd><p>Read the source of a .rc file in and include them as units.</p>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.rc.rcfile.parsefile">
<em class="property">classmethod </em><code class="descname">parsefile</code><span class="sig-paren">(</span><em>storefile</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.rc.rcfile.parsefile" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads the given file (or opens the given filename) and parses back
to an object.</p>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.rc.rcfile.parsestring">
<em class="property">classmethod </em><code class="descname">parsestring</code><span class="sig-paren">(</span><em>storestring</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.rc.rcfile.parsestring" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert the string representation back to an object.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.rc.rcfile.remove_unit_from_index">
<code class="descname">remove_unit_from_index</code><span class="sig-paren">(</span><em>unit</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.rc.rcfile.remove_unit_from_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove a unit from source and locaton indexes</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.rc.rcfile.require_index">
<code class="descname">require_index</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.rc.rcfile.require_index" title="Permalink to this definition">¶</a></dt>
<dd><p>make sure source index exists</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.rc.rcfile.save">
<code class="descname">save</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.rc.rcfile.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Save to the file that data was originally read from, if available.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.rc.rcfile.savefile">
<code class="descname">savefile</code><span class="sig-paren">(</span><em>storefile</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.rc.rcfile.savefile" title="Permalink to this definition">¶</a></dt>
<dd><p>Write the string representation to the given file (or filename).</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.rc.rcfile.serialize">
<code class="descname">serialize</code><span class="sig-paren">(</span><em>out</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.rc.rcfile.serialize" title="Permalink to this definition">¶</a></dt>
<dd><p>Write the units back to file.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.rc.rcfile.setprojectstyle">
<code class="descname">setprojectstyle</code><span class="sig-paren">(</span><em>project_style</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.rc.rcfile.setprojectstyle" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the project type for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.rc.rcfile.setsourcelanguage">
<code class="descname">setsourcelanguage</code><span class="sig-paren">(</span><em>sourcelanguage</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.rc.rcfile.setsourcelanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the source language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.rc.rcfile.settargetlanguage">
<code class="descname">settargetlanguage</code><span class="sig-paren">(</span><em>targetlanguage</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.rc.rcfile.settargetlanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the target language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.rc.rcfile.translate">
<code class="descname">translate</code><span class="sig-paren">(</span><em>source</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.rc.rcfile.translate" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the translated string for a given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">String or <a class="reference external" href="https://docs.python.org/2.7/library/constants.html#None" title="(in Python v2.7)">None</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.rc.rcfile.unit_iter">
<code class="descname">unit_iter</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.rc.rcfile.unit_iter" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterator over all the units in this store.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="translate.storage.rc.rcunit">
<em class="property">class </em><code class="descclassname">translate.storage.rc.</code><code class="descname">rcunit</code><span class="sig-paren">(</span><em>source=''</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.rc.rcunit" title="Permalink to this definition">¶</a></dt>
<dd><p>A unit of an rc file</p>
<dl class="method">
<dt id="translate.storage.rc.rcunit.adderror">
<code class="descname">adderror</code><span class="sig-paren">(</span><em>errorname</em>, <em>errortext</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.rc.rcunit.adderror" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds an error message to this unit.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>errorname</strong> (<em>string</em>) – A single word to id the error.</li>
<li><strong>errortext</strong> (<em>string</em>) – The text describing the error.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.rc.rcunit.addlocation">
<code class="descname">addlocation</code><span class="sig-paren">(</span><em>location</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.rc.rcunit.addlocation" title="Permalink to this definition">¶</a></dt>
<dd><p>Add one location to the list of locations.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Shouldn’t be implemented if the format doesn’t support it.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.rc.rcunit.addlocations">
<code class="descname">addlocations</code><span class="sig-paren">(</span><em>location</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.rc.rcunit.addlocations" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a location or a list of locations.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Most classes shouldn’t need to implement this, but should rather
implement <code class="xref py py-meth docutils literal notranslate"><span class="pre">TranslationUnit.addlocation()</span></code>.</p>
</div>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">This method might be removed in future.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.rc.rcunit.addnote">
<code class="descname">addnote</code><span class="sig-paren">(</span><em>text</em>, <em>origin=None</em>, <em>position='append'</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.rc.rcunit.addnote" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds a note (comment).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>text</strong> (<em>string</em>) – Usually just a sentence or two.</li>
<li><strong>origin</strong> (<em>string</em>) – Specifies who/where the comment comes from.
Origin can be one of the following text strings:
- ‘translator’
- ‘developer’, ‘programmer’, ‘source code’ (synonyms)</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.rc.rcunit.buildfromunit">
<em class="property">classmethod </em><code class="descname">buildfromunit</code><span class="sig-paren">(</span><em>unit</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.rc.rcunit.buildfromunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Build a native unit from a foreign unit, preserving as much
information as possible.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.rc.rcunit.getcontext">
<code class="descname">getcontext</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.rc.rcunit.getcontext" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the message context.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.rc.rcunit.geterrors">
<code class="descname">geterrors</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.rc.rcunit.geterrors" title="Permalink to this definition">¶</a></dt>
<dd><p>Get all error messages.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">Dictionary</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.rc.rcunit.getid">
<code class="descname">getid</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.rc.rcunit.getid" title="Permalink to this definition">¶</a></dt>
<dd><p>A unique identifier for this unit.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">string</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">an identifier for this unit that is unique in the store</td>
</tr>
</tbody>
</table>
<p>Derived classes should override this in a way that guarantees a unique
identifier for each unit in the store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.rc.rcunit.getlocations">
<code class="descname">getlocations</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.rc.rcunit.getlocations" title="Permalink to this definition">¶</a></dt>
<dd><p>A list of source code locations.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">List</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Shouldn’t be implemented if the format doesn’t support it.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.rc.rcunit.getnotes">
<code class="descname">getnotes</code><span class="sig-paren">(</span><em>origin=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.rc.rcunit.getnotes" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns all notes about this unit.</p>
<p>It will probably be freeform text or something reasonable that can be
synthesised by the format.
It should not include location comments (see
<a class="reference internal" href="#translate.storage.base.TranslationUnit.getlocations" title="translate.storage.base.TranslationUnit.getlocations"><code class="xref py py-meth docutils literal notranslate"><span class="pre">getlocations()</span></code></a>).</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.rc.rcunit.getoutput">
<code class="descname">getoutput</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.rc.rcunit.getoutput" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert the element back into formatted lines for a .rc file.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.rc.rcunit.gettargetlen">
<code class="descname">gettargetlen</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.rc.rcunit.gettargetlen" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the length of the target string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">Integer</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Plural forms might be combined.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.rc.rcunit.getunits">
<code class="descname">getunits</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.rc.rcunit.getunits" title="Permalink to this definition">¶</a></dt>
<dd><p>This unit in a list.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.rc.rcunit.hasplural">
<code class="descname">hasplural</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.rc.rcunit.hasplural" title="Permalink to this definition">¶</a></dt>
<dd><p>Tells whether or not this specific unit has plural strings.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.rc.rcunit.infer_state">
<code class="descname">infer_state</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.rc.rcunit.infer_state" title="Permalink to this definition">¶</a></dt>
<dd><p>Empty method that should be overridden in sub-classes to infer the
current state(_n) of the unit from its current state.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.rc.rcunit.isblank">
<code class="descname">isblank</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.rc.rcunit.isblank" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns whether this is a blank element, containing only comments.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.rc.rcunit.isfuzzy">
<code class="descname">isfuzzy</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.rc.rcunit.isfuzzy" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit is fuzzy.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.rc.rcunit.isheader">
<code class="descname">isheader</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.rc.rcunit.isheader" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit is a header.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.rc.rcunit.isobsolete">
<code class="descname">isobsolete</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.rc.rcunit.isobsolete" title="Permalink to this definition">¶</a></dt>
<dd><p>indicate whether a unit is obsolete</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.rc.rcunit.isreview">
<code class="descname">isreview</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.rc.rcunit.isreview" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit needs review.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.rc.rcunit.istranslatable">
<code class="descname">istranslatable</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.rc.rcunit.istranslatable" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit can be translated.</p>
<p>This should be used to distinguish real units for translation from
header, obsolete, binary or other blank units.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.rc.rcunit.istranslated">
<code class="descname">istranslated</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.rc.rcunit.istranslated" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit is translated.</p>
<p>This should be used rather than deducing it from .target,
to ensure that other classes can implement more functionality
(as XLIFF does).</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.rc.rcunit.makeobsolete">
<code class="descname">makeobsolete</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.rc.rcunit.makeobsolete" title="Permalink to this definition">¶</a></dt>
<dd><p>Make a unit obsolete</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.rc.rcunit.markfuzzy">
<code class="descname">markfuzzy</code><span class="sig-paren">(</span><em>value=True</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.rc.rcunit.markfuzzy" title="Permalink to this definition">¶</a></dt>
<dd><p>Marks the unit as fuzzy or not.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.rc.rcunit.markreviewneeded">
<code class="descname">markreviewneeded</code><span class="sig-paren">(</span><em>needsreview=True</em>, <em>explanation=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.rc.rcunit.markreviewneeded" title="Permalink to this definition">¶</a></dt>
<dd><p>Marks the unit to indicate whether it needs review.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>needsreview</strong> – Defaults to True.</li>
<li><strong>explanation</strong> – Adds an optional explanation as a note.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.rc.rcunit.merge">
<code class="descname">merge</code><span class="sig-paren">(</span><em>otherunit</em>, <em>overwrite=False</em>, <em>comments=True</em>, <em>authoritative=False</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.rc.rcunit.merge" title="Permalink to this definition">¶</a></dt>
<dd><p>Do basic format agnostic merging.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.rc.rcunit.multistring_to_rich">
<code class="descname">multistring_to_rich</code><span class="sig-paren">(</span><em>mulstring</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.rc.rcunit.multistring_to_rich" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a multistring to a list of “rich” string trees:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">target</span> <span class="o">=</span> <span class="n">multistring</span><span class="p">([</span><span class="sa">u</span><span class="s1">&#39;foo&#39;</span><span class="p">,</span> <span class="sa">u</span><span class="s1">&#39;bar&#39;</span><span class="p">,</span> <span class="sa">u</span><span class="s1">&#39;baz&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">TranslationUnit</span><span class="o">.</span><span class="n">multistring_to_rich</span><span class="p">(</span><span class="n">target</span><span class="p">)</span>
<span class="go">[&lt;StringElem([&lt;StringElem([u&#39;foo&#39;])&gt;])&gt;,</span>
<span class="go"> &lt;StringElem([&lt;StringElem([u&#39;bar&#39;])&gt;])&gt;,</span>
<span class="go"> &lt;StringElem([&lt;StringElem([u&#39;baz&#39;])&gt;])&gt;]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.rc.rcunit.removenotes">
<code class="descname">removenotes</code><span class="sig-paren">(</span><em>origin=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.rc.rcunit.removenotes" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove all the translator’s notes.</p>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.rc.rcunit.rich_source">
<code class="descname">rich_source</code><a class="headerlink" href="#translate.storage.rc.rcunit.rich_source" title="Permalink to this definition">¶</a></dt>
<dd><div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="#translate.storage.rc.rcunit.rich_to_multistring" title="translate.storage.rc.rcunit.rich_to_multistring"><code class="xref py py-meth docutils literal notranslate"><span class="pre">rich_to_multistring()</span></code></a>, <a class="reference internal" href="#translate.storage.rc.rcunit.multistring_to_rich" title="translate.storage.rc.rcunit.multistring_to_rich"><code class="xref py py-meth docutils literal notranslate"><span class="pre">multistring_to_rich()</span></code></a></p>
</div>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.rc.rcunit.rich_target">
<code class="descname">rich_target</code><a class="headerlink" href="#translate.storage.rc.rcunit.rich_target" title="Permalink to this definition">¶</a></dt>
<dd><div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="#translate.storage.rc.rcunit.rich_to_multistring" title="translate.storage.rc.rcunit.rich_to_multistring"><code class="xref py py-meth docutils literal notranslate"><span class="pre">rich_to_multistring()</span></code></a>, <a class="reference internal" href="#translate.storage.rc.rcunit.multistring_to_rich" title="translate.storage.rc.rcunit.multistring_to_rich"><code class="xref py py-meth docutils literal notranslate"><span class="pre">multistring_to_rich()</span></code></a></p>
</div>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.rc.rcunit.rich_to_multistring">
<em class="property">classmethod </em><code class="descname">rich_to_multistring</code><span class="sig-paren">(</span><em>elem_list</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.rc.rcunit.rich_to_multistring" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a “rich” string tree to a <code class="docutils literal notranslate"><span class="pre">multistring</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">translate.storage.placeables.interfaces</span> <span class="kn">import</span> <span class="n">X</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rich</span> <span class="o">=</span> <span class="p">[</span><span class="n">StringElem</span><span class="p">([</span><span class="s1">&#39;foo&#39;</span><span class="p">,</span> <span class="n">X</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="s1">&#39;xxx&#39;</span><span class="p">,</span> <span class="n">sub</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39; &#39;</span><span class="p">]),</span> <span class="s1">&#39;bar&#39;</span><span class="p">])]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">TranslationUnit</span><span class="o">.</span><span class="n">rich_to_multistring</span><span class="p">(</span><span class="n">rich</span><span class="p">)</span>
<span class="go">multistring(u&#39;foo bar&#39;)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.rc.rcunit.setcontext">
<code class="descname">setcontext</code><span class="sig-paren">(</span><em>context</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.rc.rcunit.setcontext" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the message context</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.rc.rcunit.setid">
<code class="descname">setid</code><span class="sig-paren">(</span><em>value</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.rc.rcunit.setid" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the unique identified for this unit.</p>
<p>only implemented if format allows ids independant from other unit
properties like source or context</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.rc.rcunit.unit_iter">
<code class="descname">unit_iter</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.rc.rcunit.unit_iter" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterator that only returns this unit.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-translate.storage.statistics">
<span id="statistics"></span><h2>statistics<a class="headerlink" href="#module-translate.storage.statistics" title="Permalink to this headline">¶</a></h2>
<p>Module to provide statistics and related functionality.</p>
<dl class="class">
<dt id="translate.storage.statistics.Statistics">
<em class="property">class </em><code class="descclassname">translate.storage.statistics.</code><code class="descname">Statistics</code><span class="sig-paren">(</span><em>sourcelanguage='en'</em>, <em>targetlanguage='en'</em>, <em>checkerstyle=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.statistics.Statistics" title="Permalink to this definition">¶</a></dt>
<dd><p>Manages statistics for storage objects.</p>
<dl class="method">
<dt id="translate.storage.statistics.Statistics.classifyunit">
<code class="descname">classifyunit</code><span class="sig-paren">(</span><em>unit</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.statistics.Statistics.classifyunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a list of the classes that the unit belongs to.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>unit</strong> – the unit to classify</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.statistics.Statistics.classifyunits">
<code class="descname">classifyunits</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.statistics.Statistics.classifyunits" title="Permalink to this definition">¶</a></dt>
<dd><p>Makes a dictionary of which units fall into which classifications.</p>
<p>This method iterates over all units.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.statistics.Statistics.countwords">
<code class="descname">countwords</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.statistics.Statistics.countwords" title="Permalink to this definition">¶</a></dt>
<dd><p>Counts the source and target words in each of the units.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.statistics.Statistics.fuzzy_unitcount">
<code class="descname">fuzzy_unitcount</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.statistics.Statistics.fuzzy_unitcount" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the number of fuzzy units.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.statistics.Statistics.fuzzy_units">
<code class="descname">fuzzy_units</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.statistics.Statistics.fuzzy_units" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of fuzzy units.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.statistics.Statistics.get_source_text">
<code class="descname">get_source_text</code><span class="sig-paren">(</span><em>units</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.statistics.Statistics.get_source_text" title="Permalink to this definition">¶</a></dt>
<dd><p>Joins the unit source strings in a single string of text.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.statistics.Statistics.getunits">
<code class="descname">getunits</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.statistics.Statistics.getunits" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a list of all units in this object.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.statistics.Statistics.reclassifyunit">
<code class="descname">reclassifyunit</code><span class="sig-paren">(</span><em>item</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.statistics.Statistics.reclassifyunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Updates the classification of a unit in self.classification.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>item</strong> – an integer that is an index in .getunits().</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.statistics.Statistics.source_wordcount">
<code class="descname">source_wordcount</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.statistics.Statistics.source_wordcount" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the number of words in the source text.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.statistics.Statistics.translated_unitcount">
<code class="descname">translated_unitcount</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.statistics.Statistics.translated_unitcount" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the number of translated units.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.statistics.Statistics.translated_units">
<code class="descname">translated_units</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.statistics.Statistics.translated_units" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of translated units.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.statistics.Statistics.translated_wordcount">
<code class="descname">translated_wordcount</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.statistics.Statistics.translated_wordcount" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the number of translated words in this object.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.statistics.Statistics.untranslated_unitcount">
<code class="descname">untranslated_unitcount</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.statistics.Statistics.untranslated_unitcount" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the number of untranslated units.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.statistics.Statistics.untranslated_units">
<code class="descname">untranslated_units</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.statistics.Statistics.untranslated_units" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of untranslated units.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.statistics.Statistics.untranslated_wordcount">
<code class="descname">untranslated_wordcount</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.statistics.Statistics.untranslated_wordcount" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the number of untranslated words in this object.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.statistics.Statistics.wordcount">
<code class="descname">wordcount</code><span class="sig-paren">(</span><em>text</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.statistics.Statistics.wordcount" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the number of words in the given text.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-translate.storage.statsdb">
<span id="statsdb"></span><h2>statsdb<a class="headerlink" href="#module-translate.storage.statsdb" title="Permalink to this headline">¶</a></h2>
<p>Module to provide a cache of statistics in a database.</p>
<dl class="class">
<dt id="translate.storage.statsdb.StatsCache">
<em class="property">class </em><code class="descclassname">translate.storage.statsdb.</code><code class="descname">StatsCache</code><a class="headerlink" href="#translate.storage.statsdb.StatsCache" title="Permalink to this definition">¶</a></dt>
<dd><p>An object instantiated as a singleton for each statsfile that provides
access to the database cache from a pool of StatsCache objects.</p>
<dl class="attribute">
<dt id="translate.storage.statsdb.StatsCache.con">
<code class="descname">con</code><em class="property"> = None</em><a class="headerlink" href="#translate.storage.statsdb.StatsCache.con" title="Permalink to this definition">¶</a></dt>
<dd><p>This cache’s connection</p>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.statsdb.StatsCache.cur">
<code class="descname">cur</code><em class="property"> = None</em><a class="headerlink" href="#translate.storage.statsdb.StatsCache.cur" title="Permalink to this definition">¶</a></dt>
<dd><p>The current cursor</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.statsdb.StatsCache.filechecks">
<code class="descname">filechecks</code><span class="sig-paren">(</span><em>filename</em>, <em>checker</em>, <em>store=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.statsdb.StatsCache.filechecks" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieves the error statistics for the given file if possible,
otherwise delegates to cachestorechecks().</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.statsdb.StatsCache.filestatestats">
<code class="descname">filestatestats</code><span class="sig-paren">(</span><em>filename</em>, <em>store=None</em>, <em>extended=False</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.statsdb.StatsCache.filestatestats" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a dictionary of unit stats mapping sets of unit indices with
those states</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.statsdb.StatsCache.filestats">
<code class="descname">filestats</code><span class="sig-paren">(</span><em>filename</em>, <em>checker</em>, <em>store=None</em>, <em>extended=False</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.statsdb.StatsCache.filestats" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a dictionary of property names mapping sets of unit indices
with those properties.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.statsdb.StatsCache.filetotals">
<code class="descname">filetotals</code><span class="sig-paren">(</span><em>filename</em>, <em>store=None</em>, <em>extended=False</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.statsdb.StatsCache.filetotals" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieves the statistics for the given file if possible, otherwise
delegates to cachestore().</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.statsdb.StatsCache.unitstats">
<code class="descname">unitstats</code><span class="sig-paren">(</span><em>filename</em>, <em>_lang=None</em>, <em>store=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.statsdb.StatsCache.unitstats" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a dictionary of property names mapping to arrays which map
unit indices to property values.</p>
<p>Please note that this is different from filestats, since filestats
supplies sets of unit indices with a given property, whereas this
method supplies arrays which map unit indices to given values.</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="translate.storage.statsdb.emptyfiletotals">
<code class="descclassname">translate.storage.statsdb.</code><code class="descname">emptyfiletotals</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.statsdb.emptyfiletotals" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a dictionary with all statistics initalised to 0.</p>
</dd></dl>

<dl class="function">
<dt id="translate.storage.statsdb.statefordb">
<code class="descclassname">translate.storage.statsdb.</code><code class="descname">statefordb</code><span class="sig-paren">(</span><em>unit</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.statsdb.statefordb" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the numeric database state for the unit.</p>
</dd></dl>

<dl class="function">
<dt id="translate.storage.statsdb.transaction">
<code class="descclassname">translate.storage.statsdb.</code><code class="descname">transaction</code><span class="sig-paren">(</span><em>f</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.statsdb.transaction" title="Permalink to this definition">¶</a></dt>
<dd><p>Modifies f to commit database changes if it executes without exceptions.
Otherwise it rolls back the database.</p>
<p>ALL publicly accessible methods in StatsCache MUST be decorated with this
decorator.</p>
</dd></dl>

<dl class="function">
<dt id="translate.storage.statsdb.wordsinunit">
<code class="descclassname">translate.storage.statsdb.</code><code class="descname">wordsinunit</code><span class="sig-paren">(</span><em>unit</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.statsdb.wordsinunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Counts the words in the unit’s source and target, taking plurals into
account. The target words are only counted if the unit is translated.</p>
</dd></dl>

</div>
<div class="section" id="module-translate.storage.subtitles">
<span id="subtitles"></span><h2>subtitles<a class="headerlink" href="#module-translate.storage.subtitles" title="Permalink to this headline">¶</a></h2>
<p>Class that manages subtitle files for translation.</p>
<p>This class makes use of the subtitle functionality of <code class="docutils literal notranslate"><span class="pre">gaupol</span></code>.</p>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last">gaupol/agents/open.py::open_main</p>
</div>
<p>A patch to gaupol is required to open utf-8 files successfully.</p>
<dl class="class">
<dt id="translate.storage.subtitles.AdvSubStationAlphaFile">
<em class="property">class </em><code class="descclassname">translate.storage.subtitles.</code><code class="descname">AdvSubStationAlphaFile</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.subtitles.AdvSubStationAlphaFile" title="Permalink to this definition">¶</a></dt>
<dd><p>specialized class for SubRipFile’s only</p>
<dl class="attribute">
<dt id="translate.storage.subtitles.AdvSubStationAlphaFile.UnitClass">
<code class="descname">UnitClass</code><a class="headerlink" href="#translate.storage.subtitles.AdvSubStationAlphaFile.UnitClass" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <a class="reference internal" href="#translate.storage.subtitles.SubtitleUnit" title="translate.storage.subtitles.SubtitleUnit"><code class="xref py py-class docutils literal notranslate"><span class="pre">SubtitleUnit</span></code></a></p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.AdvSubStationAlphaFile.add_unit_to_index">
<code class="descname">add_unit_to_index</code><span class="sig-paren">(</span><em>unit</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.subtitles.AdvSubStationAlphaFile.add_unit_to_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a unit to source and location idexes</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.AdvSubStationAlphaFile.addsourceunit">
<code class="descname">addsourceunit</code><span class="sig-paren">(</span><em>source</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.subtitles.AdvSubStationAlphaFile.addsourceunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Add and returns a new unit with the given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><code class="xref py py-class docutils literal notranslate"><span class="pre">TranslationUnit</span></code></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.AdvSubStationAlphaFile.addunit">
<code class="descname">addunit</code><span class="sig-paren">(</span><em>unit</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.subtitles.AdvSubStationAlphaFile.addunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Append the given unit to the object’s list of units.</p>
<p>This method should always be used rather than trying to modify the
list manually.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>unit</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">TranslationUnit</span></code>) – The unit that will be added.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.AdvSubStationAlphaFile.detect_encoding">
<code class="descname">detect_encoding</code><span class="sig-paren">(</span><em>text</em>, <em>default_encodings=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.subtitles.AdvSubStationAlphaFile.detect_encoding" title="Permalink to this definition">¶</a></dt>
<dd><p>Try to detect a file encoding from <cite>text</cite>, using either the chardet lib
or by trying to decode the file.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.AdvSubStationAlphaFile.fallback_detection">
<code class="descname">fallback_detection</code><span class="sig-paren">(</span><em>text</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.subtitles.AdvSubStationAlphaFile.fallback_detection" title="Permalink to this definition">¶</a></dt>
<dd><p>Simple detection based on BOM in case chardet is not available.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.AdvSubStationAlphaFile.findid">
<code class="descname">findid</code><span class="sig-paren">(</span><em>id</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.subtitles.AdvSubStationAlphaFile.findid" title="Permalink to this definition">¶</a></dt>
<dd><p>find unit with matching id by checking id_index</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.AdvSubStationAlphaFile.findunit">
<code class="descname">findunit</code><span class="sig-paren">(</span><em>source</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.subtitles.AdvSubStationAlphaFile.findunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the unit with the given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><code class="xref py py-class docutils literal notranslate"><span class="pre">TranslationUnit</span></code> or None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.AdvSubStationAlphaFile.findunits">
<code class="descname">findunits</code><span class="sig-paren">(</span><em>source</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.subtitles.AdvSubStationAlphaFile.findunits" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the units with the given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><code class="xref py py-class docutils literal notranslate"><span class="pre">TranslationUnit</span></code> or None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.AdvSubStationAlphaFile.getids">
<code class="descname">getids</code><span class="sig-paren">(</span><em>filename=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.subtitles.AdvSubStationAlphaFile.getids" title="Permalink to this definition">¶</a></dt>
<dd><p>return a list of unit ids</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.AdvSubStationAlphaFile.getprojectstyle">
<code class="descname">getprojectstyle</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.subtitles.AdvSubStationAlphaFile.getprojectstyle" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the project type for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.AdvSubStationAlphaFile.getsourcelanguage">
<code class="descname">getsourcelanguage</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.subtitles.AdvSubStationAlphaFile.getsourcelanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the source language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.AdvSubStationAlphaFile.gettargetlanguage">
<code class="descname">gettargetlanguage</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.subtitles.AdvSubStationAlphaFile.gettargetlanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the target language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.AdvSubStationAlphaFile.getunits">
<code class="descname">getunits</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.subtitles.AdvSubStationAlphaFile.getunits" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of all units in this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.AdvSubStationAlphaFile.isempty">
<code class="descname">isempty</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.subtitles.AdvSubStationAlphaFile.isempty" title="Permalink to this definition">¶</a></dt>
<dd><p>Return True if the object doesn’t contain any translation units.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.AdvSubStationAlphaFile.makeindex">
<code class="descname">makeindex</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.subtitles.AdvSubStationAlphaFile.makeindex" title="Permalink to this definition">¶</a></dt>
<dd><p>Indexes the items in this store. At least .sourceindex should be
useful.</p>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.subtitles.AdvSubStationAlphaFile.merge_on">
<code class="descname">merge_on</code><a class="headerlink" href="#translate.storage.subtitles.AdvSubStationAlphaFile.merge_on" title="Permalink to this definition">¶</a></dt>
<dd><p>The matching criterion to use when merging on.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The default matching criterion for all the subclasses.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">string</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.AdvSubStationAlphaFile.parse">
<code class="descname">parse</code><span class="sig-paren">(</span><em>input</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.subtitles.AdvSubStationAlphaFile.parse" title="Permalink to this definition">¶</a></dt>
<dd><p>parser to process the given source string</p>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.subtitles.AdvSubStationAlphaFile.parsefile">
<em class="property">classmethod </em><code class="descname">parsefile</code><span class="sig-paren">(</span><em>storefile</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.subtitles.AdvSubStationAlphaFile.parsefile" title="Permalink to this definition">¶</a></dt>
<dd><p>parse the given file</p>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.subtitles.AdvSubStationAlphaFile.parsestring">
<em class="property">classmethod </em><code class="descname">parsestring</code><span class="sig-paren">(</span><em>storestring</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.subtitles.AdvSubStationAlphaFile.parsestring" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert the string representation back to an object.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.AdvSubStationAlphaFile.remove_unit_from_index">
<code class="descname">remove_unit_from_index</code><span class="sig-paren">(</span><em>unit</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.subtitles.AdvSubStationAlphaFile.remove_unit_from_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove a unit from source and locaton indexes</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.AdvSubStationAlphaFile.require_index">
<code class="descname">require_index</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.subtitles.AdvSubStationAlphaFile.require_index" title="Permalink to this definition">¶</a></dt>
<dd><p>make sure source index exists</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.AdvSubStationAlphaFile.save">
<code class="descname">save</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.subtitles.AdvSubStationAlphaFile.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Save to the file that data was originally read from, if available.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.AdvSubStationAlphaFile.savefile">
<code class="descname">savefile</code><span class="sig-paren">(</span><em>storefile</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.subtitles.AdvSubStationAlphaFile.savefile" title="Permalink to this definition">¶</a></dt>
<dd><p>Write the string representation to the given file (or filename).</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.AdvSubStationAlphaFile.serialize">
<code class="descname">serialize</code><span class="sig-paren">(</span><em>out</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.subtitles.AdvSubStationAlphaFile.serialize" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts to a bytes representation that can be parsed back using
<a class="reference internal" href="#translate.storage.base.TranslationStore.parsestring" title="translate.storage.base.TranslationStore.parsestring"><code class="xref py py-meth docutils literal notranslate"><span class="pre">parsestring()</span></code></a>.
<cite>out</cite> should be an open file-like objects to write to.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.AdvSubStationAlphaFile.setprojectstyle">
<code class="descname">setprojectstyle</code><span class="sig-paren">(</span><em>project_style</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.subtitles.AdvSubStationAlphaFile.setprojectstyle" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the project type for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.AdvSubStationAlphaFile.setsourcelanguage">
<code class="descname">setsourcelanguage</code><span class="sig-paren">(</span><em>sourcelanguage</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.subtitles.AdvSubStationAlphaFile.setsourcelanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the source language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.AdvSubStationAlphaFile.settargetlanguage">
<code class="descname">settargetlanguage</code><span class="sig-paren">(</span><em>targetlanguage</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.subtitles.AdvSubStationAlphaFile.settargetlanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the target language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.AdvSubStationAlphaFile.translate">
<code class="descname">translate</code><span class="sig-paren">(</span><em>source</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.subtitles.AdvSubStationAlphaFile.translate" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the translated string for a given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">String or <a class="reference external" href="https://docs.python.org/2.7/library/constants.html#None" title="(in Python v2.7)">None</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.AdvSubStationAlphaFile.unit_iter">
<code class="descname">unit_iter</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.subtitles.AdvSubStationAlphaFile.unit_iter" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterator over all the units in this store.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="translate.storage.subtitles.MicroDVDFile">
<em class="property">class </em><code class="descclassname">translate.storage.subtitles.</code><code class="descname">MicroDVDFile</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.subtitles.MicroDVDFile" title="Permalink to this definition">¶</a></dt>
<dd><p>specialized class for SubRipFile’s only</p>
<dl class="attribute">
<dt id="translate.storage.subtitles.MicroDVDFile.UnitClass">
<code class="descname">UnitClass</code><a class="headerlink" href="#translate.storage.subtitles.MicroDVDFile.UnitClass" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <a class="reference internal" href="#translate.storage.subtitles.SubtitleUnit" title="translate.storage.subtitles.SubtitleUnit"><code class="xref py py-class docutils literal notranslate"><span class="pre">SubtitleUnit</span></code></a></p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.MicroDVDFile.add_unit_to_index">
<code class="descname">add_unit_to_index</code><span class="sig-paren">(</span><em>unit</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.subtitles.MicroDVDFile.add_unit_to_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a unit to source and location idexes</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.MicroDVDFile.addsourceunit">
<code class="descname">addsourceunit</code><span class="sig-paren">(</span><em>source</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.subtitles.MicroDVDFile.addsourceunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Add and returns a new unit with the given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><code class="xref py py-class docutils literal notranslate"><span class="pre">TranslationUnit</span></code></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.MicroDVDFile.addunit">
<code class="descname">addunit</code><span class="sig-paren">(</span><em>unit</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.subtitles.MicroDVDFile.addunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Append the given unit to the object’s list of units.</p>
<p>This method should always be used rather than trying to modify the
list manually.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>unit</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">TranslationUnit</span></code>) – The unit that will be added.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.MicroDVDFile.detect_encoding">
<code class="descname">detect_encoding</code><span class="sig-paren">(</span><em>text</em>, <em>default_encodings=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.subtitles.MicroDVDFile.detect_encoding" title="Permalink to this definition">¶</a></dt>
<dd><p>Try to detect a file encoding from <cite>text</cite>, using either the chardet lib
or by trying to decode the file.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.MicroDVDFile.fallback_detection">
<code class="descname">fallback_detection</code><span class="sig-paren">(</span><em>text</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.subtitles.MicroDVDFile.fallback_detection" title="Permalink to this definition">¶</a></dt>
<dd><p>Simple detection based on BOM in case chardet is not available.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.MicroDVDFile.findid">
<code class="descname">findid</code><span class="sig-paren">(</span><em>id</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.subtitles.MicroDVDFile.findid" title="Permalink to this definition">¶</a></dt>
<dd><p>find unit with matching id by checking id_index</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.MicroDVDFile.findunit">
<code class="descname">findunit</code><span class="sig-paren">(</span><em>source</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.subtitles.MicroDVDFile.findunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the unit with the given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><code class="xref py py-class docutils literal notranslate"><span class="pre">TranslationUnit</span></code> or None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.MicroDVDFile.findunits">
<code class="descname">findunits</code><span class="sig-paren">(</span><em>source</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.subtitles.MicroDVDFile.findunits" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the units with the given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><code class="xref py py-class docutils literal notranslate"><span class="pre">TranslationUnit</span></code> or None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.MicroDVDFile.getids">
<code class="descname">getids</code><span class="sig-paren">(</span><em>filename=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.subtitles.MicroDVDFile.getids" title="Permalink to this definition">¶</a></dt>
<dd><p>return a list of unit ids</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.MicroDVDFile.getprojectstyle">
<code class="descname">getprojectstyle</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.subtitles.MicroDVDFile.getprojectstyle" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the project type for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.MicroDVDFile.getsourcelanguage">
<code class="descname">getsourcelanguage</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.subtitles.MicroDVDFile.getsourcelanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the source language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.MicroDVDFile.gettargetlanguage">
<code class="descname">gettargetlanguage</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.subtitles.MicroDVDFile.gettargetlanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the target language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.MicroDVDFile.getunits">
<code class="descname">getunits</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.subtitles.MicroDVDFile.getunits" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of all units in this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.MicroDVDFile.isempty">
<code class="descname">isempty</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.subtitles.MicroDVDFile.isempty" title="Permalink to this definition">¶</a></dt>
<dd><p>Return True if the object doesn’t contain any translation units.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.MicroDVDFile.makeindex">
<code class="descname">makeindex</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.subtitles.MicroDVDFile.makeindex" title="Permalink to this definition">¶</a></dt>
<dd><p>Indexes the items in this store. At least .sourceindex should be
useful.</p>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.subtitles.MicroDVDFile.merge_on">
<code class="descname">merge_on</code><a class="headerlink" href="#translate.storage.subtitles.MicroDVDFile.merge_on" title="Permalink to this definition">¶</a></dt>
<dd><p>The matching criterion to use when merging on.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The default matching criterion for all the subclasses.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">string</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.MicroDVDFile.parse">
<code class="descname">parse</code><span class="sig-paren">(</span><em>input</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.subtitles.MicroDVDFile.parse" title="Permalink to this definition">¶</a></dt>
<dd><p>parser to process the given source string</p>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.subtitles.MicroDVDFile.parsefile">
<em class="property">classmethod </em><code class="descname">parsefile</code><span class="sig-paren">(</span><em>storefile</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.subtitles.MicroDVDFile.parsefile" title="Permalink to this definition">¶</a></dt>
<dd><p>parse the given file</p>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.subtitles.MicroDVDFile.parsestring">
<em class="property">classmethod </em><code class="descname">parsestring</code><span class="sig-paren">(</span><em>storestring</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.subtitles.MicroDVDFile.parsestring" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert the string representation back to an object.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.MicroDVDFile.remove_unit_from_index">
<code class="descname">remove_unit_from_index</code><span class="sig-paren">(</span><em>unit</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.subtitles.MicroDVDFile.remove_unit_from_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove a unit from source and locaton indexes</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.MicroDVDFile.require_index">
<code class="descname">require_index</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.subtitles.MicroDVDFile.require_index" title="Permalink to this definition">¶</a></dt>
<dd><p>make sure source index exists</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.MicroDVDFile.save">
<code class="descname">save</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.subtitles.MicroDVDFile.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Save to the file that data was originally read from, if available.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.MicroDVDFile.savefile">
<code class="descname">savefile</code><span class="sig-paren">(</span><em>storefile</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.subtitles.MicroDVDFile.savefile" title="Permalink to this definition">¶</a></dt>
<dd><p>Write the string representation to the given file (or filename).</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.MicroDVDFile.serialize">
<code class="descname">serialize</code><span class="sig-paren">(</span><em>out</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.subtitles.MicroDVDFile.serialize" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts to a bytes representation that can be parsed back using
<a class="reference internal" href="#translate.storage.base.TranslationStore.parsestring" title="translate.storage.base.TranslationStore.parsestring"><code class="xref py py-meth docutils literal notranslate"><span class="pre">parsestring()</span></code></a>.
<cite>out</cite> should be an open file-like objects to write to.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.MicroDVDFile.setprojectstyle">
<code class="descname">setprojectstyle</code><span class="sig-paren">(</span><em>project_style</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.subtitles.MicroDVDFile.setprojectstyle" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the project type for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.MicroDVDFile.setsourcelanguage">
<code class="descname">setsourcelanguage</code><span class="sig-paren">(</span><em>sourcelanguage</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.subtitles.MicroDVDFile.setsourcelanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the source language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.MicroDVDFile.settargetlanguage">
<code class="descname">settargetlanguage</code><span class="sig-paren">(</span><em>targetlanguage</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.subtitles.MicroDVDFile.settargetlanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the target language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.MicroDVDFile.translate">
<code class="descname">translate</code><span class="sig-paren">(</span><em>source</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.subtitles.MicroDVDFile.translate" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the translated string for a given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">String or <a class="reference external" href="https://docs.python.org/2.7/library/constants.html#None" title="(in Python v2.7)">None</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.MicroDVDFile.unit_iter">
<code class="descname">unit_iter</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.subtitles.MicroDVDFile.unit_iter" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterator over all the units in this store.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="translate.storage.subtitles.SubRipFile">
<em class="property">class </em><code class="descclassname">translate.storage.subtitles.</code><code class="descname">SubRipFile</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.subtitles.SubRipFile" title="Permalink to this definition">¶</a></dt>
<dd><p>specialized class for SubRipFile’s only</p>
<dl class="attribute">
<dt id="translate.storage.subtitles.SubRipFile.UnitClass">
<code class="descname">UnitClass</code><a class="headerlink" href="#translate.storage.subtitles.SubRipFile.UnitClass" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <a class="reference internal" href="#translate.storage.subtitles.SubtitleUnit" title="translate.storage.subtitles.SubtitleUnit"><code class="xref py py-class docutils literal notranslate"><span class="pre">SubtitleUnit</span></code></a></p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.SubRipFile.add_unit_to_index">
<code class="descname">add_unit_to_index</code><span class="sig-paren">(</span><em>unit</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.subtitles.SubRipFile.add_unit_to_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a unit to source and location idexes</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.SubRipFile.addsourceunit">
<code class="descname">addsourceunit</code><span class="sig-paren">(</span><em>source</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.subtitles.SubRipFile.addsourceunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Add and returns a new unit with the given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><code class="xref py py-class docutils literal notranslate"><span class="pre">TranslationUnit</span></code></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.SubRipFile.addunit">
<code class="descname">addunit</code><span class="sig-paren">(</span><em>unit</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.subtitles.SubRipFile.addunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Append the given unit to the object’s list of units.</p>
<p>This method should always be used rather than trying to modify the
list manually.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>unit</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">TranslationUnit</span></code>) – The unit that will be added.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.SubRipFile.detect_encoding">
<code class="descname">detect_encoding</code><span class="sig-paren">(</span><em>text</em>, <em>default_encodings=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.subtitles.SubRipFile.detect_encoding" title="Permalink to this definition">¶</a></dt>
<dd><p>Try to detect a file encoding from <cite>text</cite>, using either the chardet lib
or by trying to decode the file.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.SubRipFile.fallback_detection">
<code class="descname">fallback_detection</code><span class="sig-paren">(</span><em>text</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.subtitles.SubRipFile.fallback_detection" title="Permalink to this definition">¶</a></dt>
<dd><p>Simple detection based on BOM in case chardet is not available.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.SubRipFile.findid">
<code class="descname">findid</code><span class="sig-paren">(</span><em>id</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.subtitles.SubRipFile.findid" title="Permalink to this definition">¶</a></dt>
<dd><p>find unit with matching id by checking id_index</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.SubRipFile.findunit">
<code class="descname">findunit</code><span class="sig-paren">(</span><em>source</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.subtitles.SubRipFile.findunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the unit with the given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><code class="xref py py-class docutils literal notranslate"><span class="pre">TranslationUnit</span></code> or None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.SubRipFile.findunits">
<code class="descname">findunits</code><span class="sig-paren">(</span><em>source</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.subtitles.SubRipFile.findunits" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the units with the given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><code class="xref py py-class docutils literal notranslate"><span class="pre">TranslationUnit</span></code> or None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.SubRipFile.getids">
<code class="descname">getids</code><span class="sig-paren">(</span><em>filename=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.subtitles.SubRipFile.getids" title="Permalink to this definition">¶</a></dt>
<dd><p>return a list of unit ids</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.SubRipFile.getprojectstyle">
<code class="descname">getprojectstyle</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.subtitles.SubRipFile.getprojectstyle" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the project type for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.SubRipFile.getsourcelanguage">
<code class="descname">getsourcelanguage</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.subtitles.SubRipFile.getsourcelanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the source language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.SubRipFile.gettargetlanguage">
<code class="descname">gettargetlanguage</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.subtitles.SubRipFile.gettargetlanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the target language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.SubRipFile.getunits">
<code class="descname">getunits</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.subtitles.SubRipFile.getunits" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of all units in this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.SubRipFile.isempty">
<code class="descname">isempty</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.subtitles.SubRipFile.isempty" title="Permalink to this definition">¶</a></dt>
<dd><p>Return True if the object doesn’t contain any translation units.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.SubRipFile.makeindex">
<code class="descname">makeindex</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.subtitles.SubRipFile.makeindex" title="Permalink to this definition">¶</a></dt>
<dd><p>Indexes the items in this store. At least .sourceindex should be
useful.</p>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.subtitles.SubRipFile.merge_on">
<code class="descname">merge_on</code><a class="headerlink" href="#translate.storage.subtitles.SubRipFile.merge_on" title="Permalink to this definition">¶</a></dt>
<dd><p>The matching criterion to use when merging on.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The default matching criterion for all the subclasses.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">string</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.SubRipFile.parse">
<code class="descname">parse</code><span class="sig-paren">(</span><em>input</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.subtitles.SubRipFile.parse" title="Permalink to this definition">¶</a></dt>
<dd><p>parser to process the given source string</p>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.subtitles.SubRipFile.parsefile">
<em class="property">classmethod </em><code class="descname">parsefile</code><span class="sig-paren">(</span><em>storefile</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.subtitles.SubRipFile.parsefile" title="Permalink to this definition">¶</a></dt>
<dd><p>parse the given file</p>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.subtitles.SubRipFile.parsestring">
<em class="property">classmethod </em><code class="descname">parsestring</code><span class="sig-paren">(</span><em>storestring</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.subtitles.SubRipFile.parsestring" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert the string representation back to an object.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.SubRipFile.remove_unit_from_index">
<code class="descname">remove_unit_from_index</code><span class="sig-paren">(</span><em>unit</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.subtitles.SubRipFile.remove_unit_from_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove a unit from source and locaton indexes</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.SubRipFile.require_index">
<code class="descname">require_index</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.subtitles.SubRipFile.require_index" title="Permalink to this definition">¶</a></dt>
<dd><p>make sure source index exists</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.SubRipFile.save">
<code class="descname">save</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.subtitles.SubRipFile.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Save to the file that data was originally read from, if available.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.SubRipFile.savefile">
<code class="descname">savefile</code><span class="sig-paren">(</span><em>storefile</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.subtitles.SubRipFile.savefile" title="Permalink to this definition">¶</a></dt>
<dd><p>Write the string representation to the given file (or filename).</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.SubRipFile.serialize">
<code class="descname">serialize</code><span class="sig-paren">(</span><em>out</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.subtitles.SubRipFile.serialize" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts to a bytes representation that can be parsed back using
<a class="reference internal" href="#translate.storage.base.TranslationStore.parsestring" title="translate.storage.base.TranslationStore.parsestring"><code class="xref py py-meth docutils literal notranslate"><span class="pre">parsestring()</span></code></a>.
<cite>out</cite> should be an open file-like objects to write to.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.SubRipFile.setprojectstyle">
<code class="descname">setprojectstyle</code><span class="sig-paren">(</span><em>project_style</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.subtitles.SubRipFile.setprojectstyle" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the project type for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.SubRipFile.setsourcelanguage">
<code class="descname">setsourcelanguage</code><span class="sig-paren">(</span><em>sourcelanguage</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.subtitles.SubRipFile.setsourcelanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the source language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.SubRipFile.settargetlanguage">
<code class="descname">settargetlanguage</code><span class="sig-paren">(</span><em>targetlanguage</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.subtitles.SubRipFile.settargetlanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the target language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.SubRipFile.translate">
<code class="descname">translate</code><span class="sig-paren">(</span><em>source</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.subtitles.SubRipFile.translate" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the translated string for a given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">String or <a class="reference external" href="https://docs.python.org/2.7/library/constants.html#None" title="(in Python v2.7)">None</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.SubRipFile.unit_iter">
<code class="descname">unit_iter</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.subtitles.SubRipFile.unit_iter" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterator over all the units in this store.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="translate.storage.subtitles.SubStationAlphaFile">
<em class="property">class </em><code class="descclassname">translate.storage.subtitles.</code><code class="descname">SubStationAlphaFile</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.subtitles.SubStationAlphaFile" title="Permalink to this definition">¶</a></dt>
<dd><p>specialized class for SubRipFile’s only</p>
<dl class="attribute">
<dt id="translate.storage.subtitles.SubStationAlphaFile.UnitClass">
<code class="descname">UnitClass</code><a class="headerlink" href="#translate.storage.subtitles.SubStationAlphaFile.UnitClass" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <a class="reference internal" href="#translate.storage.subtitles.SubtitleUnit" title="translate.storage.subtitles.SubtitleUnit"><code class="xref py py-class docutils literal notranslate"><span class="pre">SubtitleUnit</span></code></a></p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.SubStationAlphaFile.add_unit_to_index">
<code class="descname">add_unit_to_index</code><span class="sig-paren">(</span><em>unit</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.subtitles.SubStationAlphaFile.add_unit_to_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a unit to source and location idexes</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.SubStationAlphaFile.addsourceunit">
<code class="descname">addsourceunit</code><span class="sig-paren">(</span><em>source</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.subtitles.SubStationAlphaFile.addsourceunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Add and returns a new unit with the given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><code class="xref py py-class docutils literal notranslate"><span class="pre">TranslationUnit</span></code></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.SubStationAlphaFile.addunit">
<code class="descname">addunit</code><span class="sig-paren">(</span><em>unit</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.subtitles.SubStationAlphaFile.addunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Append the given unit to the object’s list of units.</p>
<p>This method should always be used rather than trying to modify the
list manually.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>unit</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">TranslationUnit</span></code>) – The unit that will be added.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.SubStationAlphaFile.detect_encoding">
<code class="descname">detect_encoding</code><span class="sig-paren">(</span><em>text</em>, <em>default_encodings=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.subtitles.SubStationAlphaFile.detect_encoding" title="Permalink to this definition">¶</a></dt>
<dd><p>Try to detect a file encoding from <cite>text</cite>, using either the chardet lib
or by trying to decode the file.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.SubStationAlphaFile.fallback_detection">
<code class="descname">fallback_detection</code><span class="sig-paren">(</span><em>text</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.subtitles.SubStationAlphaFile.fallback_detection" title="Permalink to this definition">¶</a></dt>
<dd><p>Simple detection based on BOM in case chardet is not available.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.SubStationAlphaFile.findid">
<code class="descname">findid</code><span class="sig-paren">(</span><em>id</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.subtitles.SubStationAlphaFile.findid" title="Permalink to this definition">¶</a></dt>
<dd><p>find unit with matching id by checking id_index</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.SubStationAlphaFile.findunit">
<code class="descname">findunit</code><span class="sig-paren">(</span><em>source</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.subtitles.SubStationAlphaFile.findunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the unit with the given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><code class="xref py py-class docutils literal notranslate"><span class="pre">TranslationUnit</span></code> or None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.SubStationAlphaFile.findunits">
<code class="descname">findunits</code><span class="sig-paren">(</span><em>source</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.subtitles.SubStationAlphaFile.findunits" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the units with the given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><code class="xref py py-class docutils literal notranslate"><span class="pre">TranslationUnit</span></code> or None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.SubStationAlphaFile.getids">
<code class="descname">getids</code><span class="sig-paren">(</span><em>filename=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.subtitles.SubStationAlphaFile.getids" title="Permalink to this definition">¶</a></dt>
<dd><p>return a list of unit ids</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.SubStationAlphaFile.getprojectstyle">
<code class="descname">getprojectstyle</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.subtitles.SubStationAlphaFile.getprojectstyle" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the project type for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.SubStationAlphaFile.getsourcelanguage">
<code class="descname">getsourcelanguage</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.subtitles.SubStationAlphaFile.getsourcelanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the source language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.SubStationAlphaFile.gettargetlanguage">
<code class="descname">gettargetlanguage</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.subtitles.SubStationAlphaFile.gettargetlanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the target language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.SubStationAlphaFile.getunits">
<code class="descname">getunits</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.subtitles.SubStationAlphaFile.getunits" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of all units in this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.SubStationAlphaFile.isempty">
<code class="descname">isempty</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.subtitles.SubStationAlphaFile.isempty" title="Permalink to this definition">¶</a></dt>
<dd><p>Return True if the object doesn’t contain any translation units.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.SubStationAlphaFile.makeindex">
<code class="descname">makeindex</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.subtitles.SubStationAlphaFile.makeindex" title="Permalink to this definition">¶</a></dt>
<dd><p>Indexes the items in this store. At least .sourceindex should be
useful.</p>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.subtitles.SubStationAlphaFile.merge_on">
<code class="descname">merge_on</code><a class="headerlink" href="#translate.storage.subtitles.SubStationAlphaFile.merge_on" title="Permalink to this definition">¶</a></dt>
<dd><p>The matching criterion to use when merging on.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The default matching criterion for all the subclasses.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">string</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.SubStationAlphaFile.parse">
<code class="descname">parse</code><span class="sig-paren">(</span><em>input</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.subtitles.SubStationAlphaFile.parse" title="Permalink to this definition">¶</a></dt>
<dd><p>parser to process the given source string</p>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.subtitles.SubStationAlphaFile.parsefile">
<em class="property">classmethod </em><code class="descname">parsefile</code><span class="sig-paren">(</span><em>storefile</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.subtitles.SubStationAlphaFile.parsefile" title="Permalink to this definition">¶</a></dt>
<dd><p>parse the given file</p>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.subtitles.SubStationAlphaFile.parsestring">
<em class="property">classmethod </em><code class="descname">parsestring</code><span class="sig-paren">(</span><em>storestring</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.subtitles.SubStationAlphaFile.parsestring" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert the string representation back to an object.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.SubStationAlphaFile.remove_unit_from_index">
<code class="descname">remove_unit_from_index</code><span class="sig-paren">(</span><em>unit</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.subtitles.SubStationAlphaFile.remove_unit_from_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove a unit from source and locaton indexes</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.SubStationAlphaFile.require_index">
<code class="descname">require_index</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.subtitles.SubStationAlphaFile.require_index" title="Permalink to this definition">¶</a></dt>
<dd><p>make sure source index exists</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.SubStationAlphaFile.save">
<code class="descname">save</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.subtitles.SubStationAlphaFile.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Save to the file that data was originally read from, if available.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.SubStationAlphaFile.savefile">
<code class="descname">savefile</code><span class="sig-paren">(</span><em>storefile</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.subtitles.SubStationAlphaFile.savefile" title="Permalink to this definition">¶</a></dt>
<dd><p>Write the string representation to the given file (or filename).</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.SubStationAlphaFile.serialize">
<code class="descname">serialize</code><span class="sig-paren">(</span><em>out</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.subtitles.SubStationAlphaFile.serialize" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts to a bytes representation that can be parsed back using
<a class="reference internal" href="#translate.storage.base.TranslationStore.parsestring" title="translate.storage.base.TranslationStore.parsestring"><code class="xref py py-meth docutils literal notranslate"><span class="pre">parsestring()</span></code></a>.
<cite>out</cite> should be an open file-like objects to write to.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.SubStationAlphaFile.setprojectstyle">
<code class="descname">setprojectstyle</code><span class="sig-paren">(</span><em>project_style</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.subtitles.SubStationAlphaFile.setprojectstyle" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the project type for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.SubStationAlphaFile.setsourcelanguage">
<code class="descname">setsourcelanguage</code><span class="sig-paren">(</span><em>sourcelanguage</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.subtitles.SubStationAlphaFile.setsourcelanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the source language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.SubStationAlphaFile.settargetlanguage">
<code class="descname">settargetlanguage</code><span class="sig-paren">(</span><em>targetlanguage</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.subtitles.SubStationAlphaFile.settargetlanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the target language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.SubStationAlphaFile.translate">
<code class="descname">translate</code><span class="sig-paren">(</span><em>source</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.subtitles.SubStationAlphaFile.translate" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the translated string for a given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">String or <a class="reference external" href="https://docs.python.org/2.7/library/constants.html#None" title="(in Python v2.7)">None</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.SubStationAlphaFile.unit_iter">
<code class="descname">unit_iter</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.subtitles.SubStationAlphaFile.unit_iter" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterator over all the units in this store.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="translate.storage.subtitles.SubtitleFile">
<em class="property">class </em><code class="descclassname">translate.storage.subtitles.</code><code class="descname">SubtitleFile</code><span class="sig-paren">(</span><em>inputfile=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.subtitles.SubtitleFile" title="Permalink to this definition">¶</a></dt>
<dd><p>A subtitle file</p>
<dl class="attribute">
<dt id="translate.storage.subtitles.SubtitleFile.UnitClass">
<code class="descname">UnitClass</code><a class="headerlink" href="#translate.storage.subtitles.SubtitleFile.UnitClass" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <a class="reference internal" href="#translate.storage.subtitles.SubtitleUnit" title="translate.storage.subtitles.SubtitleUnit"><code class="xref py py-class docutils literal notranslate"><span class="pre">SubtitleUnit</span></code></a></p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.SubtitleFile.add_unit_to_index">
<code class="descname">add_unit_to_index</code><span class="sig-paren">(</span><em>unit</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.subtitles.SubtitleFile.add_unit_to_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a unit to source and location idexes</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.SubtitleFile.addsourceunit">
<code class="descname">addsourceunit</code><span class="sig-paren">(</span><em>source</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.subtitles.SubtitleFile.addsourceunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Add and returns a new unit with the given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><code class="xref py py-class docutils literal notranslate"><span class="pre">TranslationUnit</span></code></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.SubtitleFile.addunit">
<code class="descname">addunit</code><span class="sig-paren">(</span><em>unit</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.subtitles.SubtitleFile.addunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Append the given unit to the object’s list of units.</p>
<p>This method should always be used rather than trying to modify the
list manually.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>unit</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">TranslationUnit</span></code>) – The unit that will be added.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.SubtitleFile.detect_encoding">
<code class="descname">detect_encoding</code><span class="sig-paren">(</span><em>text</em>, <em>default_encodings=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.subtitles.SubtitleFile.detect_encoding" title="Permalink to this definition">¶</a></dt>
<dd><p>Try to detect a file encoding from <cite>text</cite>, using either the chardet lib
or by trying to decode the file.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.SubtitleFile.fallback_detection">
<code class="descname">fallback_detection</code><span class="sig-paren">(</span><em>text</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.subtitles.SubtitleFile.fallback_detection" title="Permalink to this definition">¶</a></dt>
<dd><p>Simple detection based on BOM in case chardet is not available.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.SubtitleFile.findid">
<code class="descname">findid</code><span class="sig-paren">(</span><em>id</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.subtitles.SubtitleFile.findid" title="Permalink to this definition">¶</a></dt>
<dd><p>find unit with matching id by checking id_index</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.SubtitleFile.findunit">
<code class="descname">findunit</code><span class="sig-paren">(</span><em>source</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.subtitles.SubtitleFile.findunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the unit with the given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><code class="xref py py-class docutils literal notranslate"><span class="pre">TranslationUnit</span></code> or None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.SubtitleFile.findunits">
<code class="descname">findunits</code><span class="sig-paren">(</span><em>source</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.subtitles.SubtitleFile.findunits" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the units with the given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><code class="xref py py-class docutils literal notranslate"><span class="pre">TranslationUnit</span></code> or None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.SubtitleFile.getids">
<code class="descname">getids</code><span class="sig-paren">(</span><em>filename=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.subtitles.SubtitleFile.getids" title="Permalink to this definition">¶</a></dt>
<dd><p>return a list of unit ids</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.SubtitleFile.getprojectstyle">
<code class="descname">getprojectstyle</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.subtitles.SubtitleFile.getprojectstyle" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the project type for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.SubtitleFile.getsourcelanguage">
<code class="descname">getsourcelanguage</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.subtitles.SubtitleFile.getsourcelanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the source language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.SubtitleFile.gettargetlanguage">
<code class="descname">gettargetlanguage</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.subtitles.SubtitleFile.gettargetlanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the target language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.SubtitleFile.getunits">
<code class="descname">getunits</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.subtitles.SubtitleFile.getunits" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of all units in this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.SubtitleFile.isempty">
<code class="descname">isempty</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.subtitles.SubtitleFile.isempty" title="Permalink to this definition">¶</a></dt>
<dd><p>Return True if the object doesn’t contain any translation units.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.SubtitleFile.makeindex">
<code class="descname">makeindex</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.subtitles.SubtitleFile.makeindex" title="Permalink to this definition">¶</a></dt>
<dd><p>Indexes the items in this store. At least .sourceindex should be
useful.</p>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.subtitles.SubtitleFile.merge_on">
<code class="descname">merge_on</code><a class="headerlink" href="#translate.storage.subtitles.SubtitleFile.merge_on" title="Permalink to this definition">¶</a></dt>
<dd><p>The matching criterion to use when merging on.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The default matching criterion for all the subclasses.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">string</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.SubtitleFile.parse">
<code class="descname">parse</code><span class="sig-paren">(</span><em>input</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.subtitles.SubtitleFile.parse" title="Permalink to this definition">¶</a></dt>
<dd><p>parser to process the given source string</p>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.subtitles.SubtitleFile.parsefile">
<em class="property">classmethod </em><code class="descname">parsefile</code><span class="sig-paren">(</span><em>storefile</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.subtitles.SubtitleFile.parsefile" title="Permalink to this definition">¶</a></dt>
<dd><p>parse the given file</p>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.subtitles.SubtitleFile.parsestring">
<em class="property">classmethod </em><code class="descname">parsestring</code><span class="sig-paren">(</span><em>storestring</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.subtitles.SubtitleFile.parsestring" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert the string representation back to an object.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.SubtitleFile.remove_unit_from_index">
<code class="descname">remove_unit_from_index</code><span class="sig-paren">(</span><em>unit</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.subtitles.SubtitleFile.remove_unit_from_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove a unit from source and locaton indexes</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.SubtitleFile.require_index">
<code class="descname">require_index</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.subtitles.SubtitleFile.require_index" title="Permalink to this definition">¶</a></dt>
<dd><p>make sure source index exists</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.SubtitleFile.save">
<code class="descname">save</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.subtitles.SubtitleFile.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Save to the file that data was originally read from, if available.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.SubtitleFile.savefile">
<code class="descname">savefile</code><span class="sig-paren">(</span><em>storefile</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.subtitles.SubtitleFile.savefile" title="Permalink to this definition">¶</a></dt>
<dd><p>Write the string representation to the given file (or filename).</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.SubtitleFile.serialize">
<code class="descname">serialize</code><span class="sig-paren">(</span><em>out</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.subtitles.SubtitleFile.serialize" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts to a bytes representation that can be parsed back using
<a class="reference internal" href="#translate.storage.base.TranslationStore.parsestring" title="translate.storage.base.TranslationStore.parsestring"><code class="xref py py-meth docutils literal notranslate"><span class="pre">parsestring()</span></code></a>.
<cite>out</cite> should be an open file-like objects to write to.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.SubtitleFile.setprojectstyle">
<code class="descname">setprojectstyle</code><span class="sig-paren">(</span><em>project_style</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.subtitles.SubtitleFile.setprojectstyle" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the project type for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.SubtitleFile.setsourcelanguage">
<code class="descname">setsourcelanguage</code><span class="sig-paren">(</span><em>sourcelanguage</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.subtitles.SubtitleFile.setsourcelanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the source language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.SubtitleFile.settargetlanguage">
<code class="descname">settargetlanguage</code><span class="sig-paren">(</span><em>targetlanguage</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.subtitles.SubtitleFile.settargetlanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the target language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.SubtitleFile.translate">
<code class="descname">translate</code><span class="sig-paren">(</span><em>source</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.subtitles.SubtitleFile.translate" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the translated string for a given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">String or <a class="reference external" href="https://docs.python.org/2.7/library/constants.html#None" title="(in Python v2.7)">None</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.SubtitleFile.unit_iter">
<code class="descname">unit_iter</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.subtitles.SubtitleFile.unit_iter" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterator over all the units in this store.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="translate.storage.subtitles.SubtitleUnit">
<em class="property">class </em><code class="descclassname">translate.storage.subtitles.</code><code class="descname">SubtitleUnit</code><span class="sig-paren">(</span><em>source=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.subtitles.SubtitleUnit" title="Permalink to this definition">¶</a></dt>
<dd><p>A subtitle entry that is translatable</p>
<dl class="method">
<dt id="translate.storage.subtitles.SubtitleUnit.adderror">
<code class="descname">adderror</code><span class="sig-paren">(</span><em>errorname</em>, <em>errortext</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.subtitles.SubtitleUnit.adderror" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds an error message to this unit.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>errorname</strong> (<em>string</em>) – A single word to id the error.</li>
<li><strong>errortext</strong> (<em>string</em>) – The text describing the error.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.SubtitleUnit.addlocation">
<code class="descname">addlocation</code><span class="sig-paren">(</span><em>location</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.subtitles.SubtitleUnit.addlocation" title="Permalink to this definition">¶</a></dt>
<dd><p>Add one location to the list of locations.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Shouldn’t be implemented if the format doesn’t support it.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.SubtitleUnit.addlocations">
<code class="descname">addlocations</code><span class="sig-paren">(</span><em>location</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.subtitles.SubtitleUnit.addlocations" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a location or a list of locations.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Most classes shouldn’t need to implement this, but should rather
implement <code class="xref py py-meth docutils literal notranslate"><span class="pre">TranslationUnit.addlocation()</span></code>.</p>
</div>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">This method might be removed in future.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.SubtitleUnit.addnote">
<code class="descname">addnote</code><span class="sig-paren">(</span><em>text</em>, <em>origin=None</em>, <em>position='append'</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.subtitles.SubtitleUnit.addnote" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds a note (comment).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>text</strong> (<em>string</em>) – Usually just a sentence or two.</li>
<li><strong>origin</strong> (<em>string</em>) – Specifies who/where the comment comes from.
Origin can be one of the following text strings:
- ‘translator’
- ‘developer’, ‘programmer’, ‘source code’ (synonyms)</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.subtitles.SubtitleUnit.buildfromunit">
<em class="property">classmethod </em><code class="descname">buildfromunit</code><span class="sig-paren">(</span><em>unit</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.subtitles.SubtitleUnit.buildfromunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Build a native unit from a foreign unit, preserving as much
information as possible.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.SubtitleUnit.getcontext">
<code class="descname">getcontext</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.subtitles.SubtitleUnit.getcontext" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the message context.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.SubtitleUnit.geterrors">
<code class="descname">geterrors</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.subtitles.SubtitleUnit.geterrors" title="Permalink to this definition">¶</a></dt>
<dd><p>Get all error messages.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">Dictionary</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.SubtitleUnit.getid">
<code class="descname">getid</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.subtitles.SubtitleUnit.getid" title="Permalink to this definition">¶</a></dt>
<dd><p>A unique identifier for this unit.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">string</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">an identifier for this unit that is unique in the store</td>
</tr>
</tbody>
</table>
<p>Derived classes should override this in a way that guarantees a unique
identifier for each unit in the store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.SubtitleUnit.getlocations">
<code class="descname">getlocations</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.subtitles.SubtitleUnit.getlocations" title="Permalink to this definition">¶</a></dt>
<dd><p>A list of source code locations.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">List</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Shouldn’t be implemented if the format doesn’t support it.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.SubtitleUnit.getnotes">
<code class="descname">getnotes</code><span class="sig-paren">(</span><em>origin=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.subtitles.SubtitleUnit.getnotes" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns all notes about this unit.</p>
<p>It will probably be freeform text or something reasonable that can be
synthesised by the format.
It should not include location comments (see
<a class="reference internal" href="#translate.storage.base.TranslationUnit.getlocations" title="translate.storage.base.TranslationUnit.getlocations"><code class="xref py py-meth docutils literal notranslate"><span class="pre">getlocations()</span></code></a>).</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.SubtitleUnit.gettargetlen">
<code class="descname">gettargetlen</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.subtitles.SubtitleUnit.gettargetlen" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the length of the target string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">Integer</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Plural forms might be combined.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.SubtitleUnit.getunits">
<code class="descname">getunits</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.subtitles.SubtitleUnit.getunits" title="Permalink to this definition">¶</a></dt>
<dd><p>This unit in a list.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.SubtitleUnit.hasplural">
<code class="descname">hasplural</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.subtitles.SubtitleUnit.hasplural" title="Permalink to this definition">¶</a></dt>
<dd><p>Tells whether or not this specific unit has plural strings.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.SubtitleUnit.infer_state">
<code class="descname">infer_state</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.subtitles.SubtitleUnit.infer_state" title="Permalink to this definition">¶</a></dt>
<dd><p>Empty method that should be overridden in sub-classes to infer the
current state(_n) of the unit from its current state.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.SubtitleUnit.isblank">
<code class="descname">isblank</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.subtitles.SubtitleUnit.isblank" title="Permalink to this definition">¶</a></dt>
<dd><p>Used to see if this unit has no source or target string.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This is probably used more to find translatable units,
and we might want to move in that direction rather and
get rid of this.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.SubtitleUnit.isfuzzy">
<code class="descname">isfuzzy</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.subtitles.SubtitleUnit.isfuzzy" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit is fuzzy.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.SubtitleUnit.isheader">
<code class="descname">isheader</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.subtitles.SubtitleUnit.isheader" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit is a header.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.SubtitleUnit.isobsolete">
<code class="descname">isobsolete</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.subtitles.SubtitleUnit.isobsolete" title="Permalink to this definition">¶</a></dt>
<dd><p>indicate whether a unit is obsolete</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.SubtitleUnit.isreview">
<code class="descname">isreview</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.subtitles.SubtitleUnit.isreview" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit needs review.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.SubtitleUnit.istranslatable">
<code class="descname">istranslatable</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.subtitles.SubtitleUnit.istranslatable" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit can be translated.</p>
<p>This should be used to distinguish real units for translation from
header, obsolete, binary or other blank units.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.SubtitleUnit.istranslated">
<code class="descname">istranslated</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.subtitles.SubtitleUnit.istranslated" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit is translated.</p>
<p>This should be used rather than deducing it from .target,
to ensure that other classes can implement more functionality
(as XLIFF does).</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.SubtitleUnit.makeobsolete">
<code class="descname">makeobsolete</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.subtitles.SubtitleUnit.makeobsolete" title="Permalink to this definition">¶</a></dt>
<dd><p>Make a unit obsolete</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.SubtitleUnit.markfuzzy">
<code class="descname">markfuzzy</code><span class="sig-paren">(</span><em>value=True</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.subtitles.SubtitleUnit.markfuzzy" title="Permalink to this definition">¶</a></dt>
<dd><p>Marks the unit as fuzzy or not.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.SubtitleUnit.markreviewneeded">
<code class="descname">markreviewneeded</code><span class="sig-paren">(</span><em>needsreview=True</em>, <em>explanation=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.subtitles.SubtitleUnit.markreviewneeded" title="Permalink to this definition">¶</a></dt>
<dd><p>Marks the unit to indicate whether it needs review.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>needsreview</strong> – Defaults to True.</li>
<li><strong>explanation</strong> – Adds an optional explanation as a note.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.SubtitleUnit.merge">
<code class="descname">merge</code><span class="sig-paren">(</span><em>otherunit</em>, <em>overwrite=False</em>, <em>comments=True</em>, <em>authoritative=False</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.subtitles.SubtitleUnit.merge" title="Permalink to this definition">¶</a></dt>
<dd><p>Do basic format agnostic merging.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.SubtitleUnit.multistring_to_rich">
<code class="descname">multistring_to_rich</code><span class="sig-paren">(</span><em>mulstring</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.subtitles.SubtitleUnit.multistring_to_rich" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a multistring to a list of “rich” string trees:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">target</span> <span class="o">=</span> <span class="n">multistring</span><span class="p">([</span><span class="sa">u</span><span class="s1">&#39;foo&#39;</span><span class="p">,</span> <span class="sa">u</span><span class="s1">&#39;bar&#39;</span><span class="p">,</span> <span class="sa">u</span><span class="s1">&#39;baz&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">TranslationUnit</span><span class="o">.</span><span class="n">multistring_to_rich</span><span class="p">(</span><span class="n">target</span><span class="p">)</span>
<span class="go">[&lt;StringElem([&lt;StringElem([u&#39;foo&#39;])&gt;])&gt;,</span>
<span class="go"> &lt;StringElem([&lt;StringElem([u&#39;bar&#39;])&gt;])&gt;,</span>
<span class="go"> &lt;StringElem([&lt;StringElem([u&#39;baz&#39;])&gt;])&gt;]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.SubtitleUnit.removenotes">
<code class="descname">removenotes</code><span class="sig-paren">(</span><em>origin=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.subtitles.SubtitleUnit.removenotes" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove all the translator’s notes.</p>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.subtitles.SubtitleUnit.rich_source">
<code class="descname">rich_source</code><a class="headerlink" href="#translate.storage.subtitles.SubtitleUnit.rich_source" title="Permalink to this definition">¶</a></dt>
<dd><div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="#translate.storage.subtitles.SubtitleUnit.rich_to_multistring" title="translate.storage.subtitles.SubtitleUnit.rich_to_multistring"><code class="xref py py-meth docutils literal notranslate"><span class="pre">rich_to_multistring()</span></code></a>, <a class="reference internal" href="#translate.storage.subtitles.SubtitleUnit.multistring_to_rich" title="translate.storage.subtitles.SubtitleUnit.multistring_to_rich"><code class="xref py py-meth docutils literal notranslate"><span class="pre">multistring_to_rich()</span></code></a></p>
</div>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.subtitles.SubtitleUnit.rich_target">
<code class="descname">rich_target</code><a class="headerlink" href="#translate.storage.subtitles.SubtitleUnit.rich_target" title="Permalink to this definition">¶</a></dt>
<dd><div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="#translate.storage.subtitles.SubtitleUnit.rich_to_multistring" title="translate.storage.subtitles.SubtitleUnit.rich_to_multistring"><code class="xref py py-meth docutils literal notranslate"><span class="pre">rich_to_multistring()</span></code></a>, <a class="reference internal" href="#translate.storage.subtitles.SubtitleUnit.multistring_to_rich" title="translate.storage.subtitles.SubtitleUnit.multistring_to_rich"><code class="xref py py-meth docutils literal notranslate"><span class="pre">multistring_to_rich()</span></code></a></p>
</div>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.subtitles.SubtitleUnit.rich_to_multistring">
<em class="property">classmethod </em><code class="descname">rich_to_multistring</code><span class="sig-paren">(</span><em>elem_list</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.subtitles.SubtitleUnit.rich_to_multistring" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a “rich” string tree to a <code class="docutils literal notranslate"><span class="pre">multistring</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">translate.storage.placeables.interfaces</span> <span class="kn">import</span> <span class="n">X</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rich</span> <span class="o">=</span> <span class="p">[</span><span class="n">StringElem</span><span class="p">([</span><span class="s1">&#39;foo&#39;</span><span class="p">,</span> <span class="n">X</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="s1">&#39;xxx&#39;</span><span class="p">,</span> <span class="n">sub</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39; &#39;</span><span class="p">]),</span> <span class="s1">&#39;bar&#39;</span><span class="p">])]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">TranslationUnit</span><span class="o">.</span><span class="n">rich_to_multistring</span><span class="p">(</span><span class="n">rich</span><span class="p">)</span>
<span class="go">multistring(u&#39;foo bar&#39;)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.SubtitleUnit.setcontext">
<code class="descname">setcontext</code><span class="sig-paren">(</span><em>context</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.subtitles.SubtitleUnit.setcontext" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the message context</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.SubtitleUnit.setid">
<code class="descname">setid</code><span class="sig-paren">(</span><em>value</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.subtitles.SubtitleUnit.setid" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the unique identified for this unit.</p>
<p>only implemented if format allows ids independant from other unit
properties like source or context</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.subtitles.SubtitleUnit.unit_iter">
<code class="descname">unit_iter</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.subtitles.SubtitleUnit.unit_iter" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterator that only returns this unit.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-translate.storage.symbian">
<span id="symbian"></span><h2>symbian<a class="headerlink" href="#module-translate.storage.symbian" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-translate.storage.tbx">
<span id="tbx"></span><h2>tbx<a class="headerlink" href="#module-translate.storage.tbx" title="Permalink to this headline">¶</a></h2>
<p>module for handling TBX glossary files</p>
<dl class="class">
<dt id="translate.storage.tbx.tbxfile">
<em class="property">class </em><code class="descclassname">translate.storage.tbx.</code><code class="descname">tbxfile</code><span class="sig-paren">(</span><em>inputfile=None</em>, <em>sourcelanguage='en'</em>, <em>targetlanguage=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.tbx.tbxfile" title="Permalink to this definition">¶</a></dt>
<dd><p>Class representing a TBX file store.</p>
<dl class="attribute">
<dt id="translate.storage.tbx.tbxfile.UnitClass">
<code class="descname">UnitClass</code><a class="headerlink" href="#translate.storage.tbx.tbxfile.UnitClass" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <a class="reference internal" href="#translate.storage.tbx.tbxunit" title="translate.storage.tbx.tbxunit"><code class="xref py py-class docutils literal notranslate"><span class="pre">tbxunit</span></code></a></p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tbx.tbxfile.add_unit_to_index">
<code class="descname">add_unit_to_index</code><span class="sig-paren">(</span><em>unit</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.tbx.tbxfile.add_unit_to_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a unit to source and location idexes</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tbx.tbxfile.addheader">
<code class="descname">addheader</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.tbx.tbxfile.addheader" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialise headers with TBX specific things.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tbx.tbxfile.addsourceunit">
<code class="descname">addsourceunit</code><span class="sig-paren">(</span><em>source</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.tbx.tbxfile.addsourceunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds and returns a new unit with the given string as first entry.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tbx.tbxfile.addunit">
<code class="descname">addunit</code><span class="sig-paren">(</span><em>unit</em>, <em>new=True</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.tbx.tbxfile.addunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Append the given unit to the object’s list of units.</p>
<p>This method should always be used rather than trying to modify the
list manually.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>unit</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">TranslationUnit</span></code>) – The unit that will be added.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tbx.tbxfile.detect_encoding">
<code class="descname">detect_encoding</code><span class="sig-paren">(</span><em>text</em>, <em>default_encodings=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.tbx.tbxfile.detect_encoding" title="Permalink to this definition">¶</a></dt>
<dd><p>Try to detect a file encoding from <cite>text</cite>, using either the chardet lib
or by trying to decode the file.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tbx.tbxfile.fallback_detection">
<code class="descname">fallback_detection</code><span class="sig-paren">(</span><em>text</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.tbx.tbxfile.fallback_detection" title="Permalink to this definition">¶</a></dt>
<dd><p>Simple detection based on BOM in case chardet is not available.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tbx.tbxfile.findid">
<code class="descname">findid</code><span class="sig-paren">(</span><em>id</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.tbx.tbxfile.findid" title="Permalink to this definition">¶</a></dt>
<dd><p>find unit with matching id by checking id_index</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tbx.tbxfile.findunit">
<code class="descname">findunit</code><span class="sig-paren">(</span><em>source</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.tbx.tbxfile.findunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the unit with the given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><code class="xref py py-class docutils literal notranslate"><span class="pre">TranslationUnit</span></code> or None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tbx.tbxfile.findunits">
<code class="descname">findunits</code><span class="sig-paren">(</span><em>source</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.tbx.tbxfile.findunits" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the units with the given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><code class="xref py py-class docutils literal notranslate"><span class="pre">TranslationUnit</span></code> or None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tbx.tbxfile.getids">
<code class="descname">getids</code><span class="sig-paren">(</span><em>filename=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.tbx.tbxfile.getids" title="Permalink to this definition">¶</a></dt>
<dd><p>return a list of unit ids</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tbx.tbxfile.getprojectstyle">
<code class="descname">getprojectstyle</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.tbx.tbxfile.getprojectstyle" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the project type for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tbx.tbxfile.getsourcelanguage">
<code class="descname">getsourcelanguage</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.tbx.tbxfile.getsourcelanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the source language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tbx.tbxfile.gettargetlanguage">
<code class="descname">gettargetlanguage</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.tbx.tbxfile.gettargetlanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the target language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tbx.tbxfile.getunits">
<code class="descname">getunits</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.tbx.tbxfile.getunits" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of all units in this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tbx.tbxfile.initbody">
<code class="descname">initbody</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.tbx.tbxfile.initbody" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialises self.body so it never needs to be retrieved from the XML
again.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tbx.tbxfile.isempty">
<code class="descname">isempty</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.tbx.tbxfile.isempty" title="Permalink to this definition">¶</a></dt>
<dd><p>Return True if the object doesn’t contain any translation units.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tbx.tbxfile.makeindex">
<code class="descname">makeindex</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.tbx.tbxfile.makeindex" title="Permalink to this definition">¶</a></dt>
<dd><p>Indexes the items in this store. At least .sourceindex should be
useful.</p>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.tbx.tbxfile.merge_on">
<code class="descname">merge_on</code><a class="headerlink" href="#translate.storage.tbx.tbxfile.merge_on" title="Permalink to this definition">¶</a></dt>
<dd><p>The matching criterion to use when merging on.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The default matching criterion for all the subclasses.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">string</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tbx.tbxfile.namespaced">
<code class="descname">namespaced</code><span class="sig-paren">(</span><em>name</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.tbx.tbxfile.namespaced" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns name in Clark notation.</p>
<p>For example <code class="docutils literal notranslate"><span class="pre">namespaced(&quot;source&quot;)</span></code> in an XLIFF document
might return:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span><span class="n">urn</span><span class="p">:</span><span class="n">oasis</span><span class="p">:</span><span class="n">names</span><span class="p">:</span><span class="n">tc</span><span class="p">:</span><span class="n">xliff</span><span class="p">:</span><span class="n">document</span><span class="p">:</span><span class="mf">1.1</span><span class="p">}</span><span class="n">source</span>
</pre></div>
</div>
<p>This is needed throughout lxml.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tbx.tbxfile.parse">
<code class="descname">parse</code><span class="sig-paren">(</span><em>xml</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.tbx.tbxfile.parse" title="Permalink to this definition">¶</a></dt>
<dd><p>Populates this object from the given xml string</p>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.tbx.tbxfile.parsefile">
<em class="property">classmethod </em><code class="descname">parsefile</code><span class="sig-paren">(</span><em>storefile</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.tbx.tbxfile.parsefile" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads the given file (or opens the given filename) and parses back
to an object.</p>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.tbx.tbxfile.parsestring">
<em class="property">classmethod </em><code class="descname">parsestring</code><span class="sig-paren">(</span><em>storestring</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.tbx.tbxfile.parsestring" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert the string representation back to an object.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tbx.tbxfile.remove_unit_from_index">
<code class="descname">remove_unit_from_index</code><span class="sig-paren">(</span><em>unit</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.tbx.tbxfile.remove_unit_from_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove a unit from source and locaton indexes</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tbx.tbxfile.require_index">
<code class="descname">require_index</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.tbx.tbxfile.require_index" title="Permalink to this definition">¶</a></dt>
<dd><p>make sure source index exists</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tbx.tbxfile.save">
<code class="descname">save</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.tbx.tbxfile.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Save to the file that data was originally read from, if available.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tbx.tbxfile.savefile">
<code class="descname">savefile</code><span class="sig-paren">(</span><em>storefile</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.tbx.tbxfile.savefile" title="Permalink to this definition">¶</a></dt>
<dd><p>Write the string representation to the given file (or filename).</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tbx.tbxfile.serialize">
<code class="descname">serialize</code><span class="sig-paren">(</span><em>out=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.tbx.tbxfile.serialize" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts to a string containing the file’s XML</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tbx.tbxfile.setprojectstyle">
<code class="descname">setprojectstyle</code><span class="sig-paren">(</span><em>project_style</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.tbx.tbxfile.setprojectstyle" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the project type for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tbx.tbxfile.setsourcelanguage">
<code class="descname">setsourcelanguage</code><span class="sig-paren">(</span><em>sourcelanguage</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.tbx.tbxfile.setsourcelanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the source language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tbx.tbxfile.settargetlanguage">
<code class="descname">settargetlanguage</code><span class="sig-paren">(</span><em>targetlanguage</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.tbx.tbxfile.settargetlanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the target language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tbx.tbxfile.translate">
<code class="descname">translate</code><span class="sig-paren">(</span><em>source</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.tbx.tbxfile.translate" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the translated string for a given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">String or <a class="reference external" href="https://docs.python.org/2.7/library/constants.html#None" title="(in Python v2.7)">None</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tbx.tbxfile.unit_iter">
<code class="descname">unit_iter</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.tbx.tbxfile.unit_iter" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterator over all the units in this store.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="translate.storage.tbx.tbxunit">
<em class="property">class </em><code class="descclassname">translate.storage.tbx.</code><code class="descname">tbxunit</code><span class="sig-paren">(</span><em>source</em>, <em>empty=False</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.tbx.tbxunit" title="Permalink to this definition">¶</a></dt>
<dd><p>A single term in the TBX file.  Provisional work is done to make several
languages possible.</p>
<dl class="method">
<dt id="translate.storage.tbx.tbxunit.adderror">
<code class="descname">adderror</code><span class="sig-paren">(</span><em>errorname</em>, <em>errortext</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.tbx.tbxunit.adderror" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds an error message to this unit.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>errorname</strong> (<em>string</em>) – A single word to id the error.</li>
<li><strong>errortext</strong> (<em>string</em>) – The text describing the error.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tbx.tbxunit.addlocation">
<code class="descname">addlocation</code><span class="sig-paren">(</span><em>location</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.tbx.tbxunit.addlocation" title="Permalink to this definition">¶</a></dt>
<dd><p>Add one location to the list of locations.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Shouldn’t be implemented if the format doesn’t support it.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tbx.tbxunit.addlocations">
<code class="descname">addlocations</code><span class="sig-paren">(</span><em>location</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.tbx.tbxunit.addlocations" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a location or a list of locations.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Most classes shouldn’t need to implement this, but should rather
implement <code class="xref py py-meth docutils literal notranslate"><span class="pre">TranslationUnit.addlocation()</span></code>.</p>
</div>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">This method might be removed in future.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tbx.tbxunit.addnote">
<code class="descname">addnote</code><span class="sig-paren">(</span><em>text</em>, <em>origin=None</em>, <em>position='append'</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.tbx.tbxunit.addnote" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a note specifically in a “note” tag</p>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.tbx.tbxunit.buildfromunit">
<em class="property">classmethod </em><code class="descname">buildfromunit</code><span class="sig-paren">(</span><em>unit</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.tbx.tbxunit.buildfromunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Build a native unit from a foreign unit, preserving as much
information as possible.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tbx.tbxunit.createlanguageNode">
<code class="descname">createlanguageNode</code><span class="sig-paren">(</span><em>lang</em>, <em>text</em>, <em>purpose</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.tbx.tbxunit.createlanguageNode" title="Permalink to this definition">¶</a></dt>
<dd><p>returns a langset xml Element setup with given parameters</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tbx.tbxunit.getNodeText">
<code class="descname">getNodeText</code><span class="sig-paren">(</span><em>languageNode</em>, <em>xml_space='preserve'</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.tbx.tbxunit.getNodeText" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieves the term from the given <code class="xref py py-attr docutils literal notranslate"><span class="pre">languageNode</span></code>.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tbx.tbxunit.getcontext">
<code class="descname">getcontext</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.tbx.tbxunit.getcontext" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the message context.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tbx.tbxunit.geterrors">
<code class="descname">geterrors</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.tbx.tbxunit.geterrors" title="Permalink to this definition">¶</a></dt>
<dd><p>Get all error messages.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">Dictionary</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tbx.tbxunit.getid">
<code class="descname">getid</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.tbx.tbxunit.getid" title="Permalink to this definition">¶</a></dt>
<dd><p>A unique identifier for this unit.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">string</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">an identifier for this unit that is unique in the store</td>
</tr>
</tbody>
</table>
<p>Derived classes should override this in a way that guarantees a unique
identifier for each unit in the store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tbx.tbxunit.getlanguageNode">
<code class="descname">getlanguageNode</code><span class="sig-paren">(</span><em>lang=None</em>, <em>index=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.tbx.tbxunit.getlanguageNode" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieves a <code class="xref py py-attr docutils literal notranslate"><span class="pre">languageNode</span></code> either by language or by index.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tbx.tbxunit.getlanguageNodes">
<code class="descname">getlanguageNodes</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.tbx.tbxunit.getlanguageNodes" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a list of all nodes that contain per language information.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tbx.tbxunit.getlocations">
<code class="descname">getlocations</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.tbx.tbxunit.getlocations" title="Permalink to this definition">¶</a></dt>
<dd><p>A list of source code locations.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">List</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Shouldn’t be implemented if the format doesn’t support it.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tbx.tbxunit.getnotes">
<code class="descname">getnotes</code><span class="sig-paren">(</span><em>origin=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.tbx.tbxunit.getnotes" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns all notes about this unit.</p>
<p>It will probably be freeform text or something reasonable that can be
synthesised by the format.
It should not include location comments (see
<a class="reference internal" href="#translate.storage.base.TranslationUnit.getlocations" title="translate.storage.base.TranslationUnit.getlocations"><code class="xref py py-meth docutils literal notranslate"><span class="pre">getlocations()</span></code></a>).</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tbx.tbxunit.gettarget">
<code class="descname">gettarget</code><span class="sig-paren">(</span><em>lang=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.tbx.tbxunit.gettarget" title="Permalink to this definition">¶</a></dt>
<dd><p>retrieves the “target” text (second entry), or the entry in the
specified language, if it exists</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tbx.tbxunit.gettargetlen">
<code class="descname">gettargetlen</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.tbx.tbxunit.gettargetlen" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the length of the target string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">Integer</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Plural forms might be combined.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tbx.tbxunit.getunits">
<code class="descname">getunits</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.tbx.tbxunit.getunits" title="Permalink to this definition">¶</a></dt>
<dd><p>This unit in a list.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tbx.tbxunit.hasplural">
<code class="descname">hasplural</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.tbx.tbxunit.hasplural" title="Permalink to this definition">¶</a></dt>
<dd><p>Tells whether or not this specific unit has plural strings.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tbx.tbxunit.infer_state">
<code class="descname">infer_state</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.tbx.tbxunit.infer_state" title="Permalink to this definition">¶</a></dt>
<dd><p>Empty method that should be overridden in sub-classes to infer the
current state(_n) of the unit from its current state.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tbx.tbxunit.isblank">
<code class="descname">isblank</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.tbx.tbxunit.isblank" title="Permalink to this definition">¶</a></dt>
<dd><p>Used to see if this unit has no source or target string.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This is probably used more to find translatable units,
and we might want to move in that direction rather and
get rid of this.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tbx.tbxunit.isfuzzy">
<code class="descname">isfuzzy</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.tbx.tbxunit.isfuzzy" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit is fuzzy.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tbx.tbxunit.isheader">
<code class="descname">isheader</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.tbx.tbxunit.isheader" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit is a header.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tbx.tbxunit.isobsolete">
<code class="descname">isobsolete</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.tbx.tbxunit.isobsolete" title="Permalink to this definition">¶</a></dt>
<dd><p>indicate whether a unit is obsolete</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tbx.tbxunit.isreview">
<code class="descname">isreview</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.tbx.tbxunit.isreview" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit needs review.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tbx.tbxunit.istranslatable">
<code class="descname">istranslatable</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.tbx.tbxunit.istranslatable" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit can be translated.</p>
<p>This should be used to distinguish real units for translation from
header, obsolete, binary or other blank units.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tbx.tbxunit.istranslated">
<code class="descname">istranslated</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.tbx.tbxunit.istranslated" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit is translated.</p>
<p>This should be used rather than deducing it from .target,
to ensure that other classes can implement more functionality
(as XLIFF does).</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tbx.tbxunit.makeobsolete">
<code class="descname">makeobsolete</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.tbx.tbxunit.makeobsolete" title="Permalink to this definition">¶</a></dt>
<dd><p>Make a unit obsolete</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tbx.tbxunit.markfuzzy">
<code class="descname">markfuzzy</code><span class="sig-paren">(</span><em>value=True</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.tbx.tbxunit.markfuzzy" title="Permalink to this definition">¶</a></dt>
<dd><p>Marks the unit as fuzzy or not.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tbx.tbxunit.markreviewneeded">
<code class="descname">markreviewneeded</code><span class="sig-paren">(</span><em>needsreview=True</em>, <em>explanation=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.tbx.tbxunit.markreviewneeded" title="Permalink to this definition">¶</a></dt>
<dd><p>Marks the unit to indicate whether it needs review.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>needsreview</strong> – Defaults to True.</li>
<li><strong>explanation</strong> – Adds an optional explanation as a note.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tbx.tbxunit.merge">
<code class="descname">merge</code><span class="sig-paren">(</span><em>otherunit</em>, <em>overwrite=False</em>, <em>comments=True</em>, <em>authoritative=False</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.tbx.tbxunit.merge" title="Permalink to this definition">¶</a></dt>
<dd><p>Do basic format agnostic merging.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tbx.tbxunit.multistring_to_rich">
<code class="descname">multistring_to_rich</code><span class="sig-paren">(</span><em>mulstring</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.tbx.tbxunit.multistring_to_rich" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a multistring to a list of “rich” string trees:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">target</span> <span class="o">=</span> <span class="n">multistring</span><span class="p">([</span><span class="sa">u</span><span class="s1">&#39;foo&#39;</span><span class="p">,</span> <span class="sa">u</span><span class="s1">&#39;bar&#39;</span><span class="p">,</span> <span class="sa">u</span><span class="s1">&#39;baz&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">TranslationUnit</span><span class="o">.</span><span class="n">multistring_to_rich</span><span class="p">(</span><span class="n">target</span><span class="p">)</span>
<span class="go">[&lt;StringElem([&lt;StringElem([u&#39;foo&#39;])&gt;])&gt;,</span>
<span class="go"> &lt;StringElem([&lt;StringElem([u&#39;bar&#39;])&gt;])&gt;,</span>
<span class="go"> &lt;StringElem([&lt;StringElem([u&#39;baz&#39;])&gt;])&gt;]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tbx.tbxunit.namespaced">
<code class="descname">namespaced</code><span class="sig-paren">(</span><em>name</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.tbx.tbxunit.namespaced" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns name in Clark notation.</p>
<p>For example <code class="docutils literal notranslate"><span class="pre">namespaced(&quot;source&quot;)</span></code> in an XLIFF document
might return:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span><span class="n">urn</span><span class="p">:</span><span class="n">oasis</span><span class="p">:</span><span class="n">names</span><span class="p">:</span><span class="n">tc</span><span class="p">:</span><span class="n">xliff</span><span class="p">:</span><span class="n">document</span><span class="p">:</span><span class="mf">1.1</span><span class="p">}</span><span class="n">source</span>
</pre></div>
</div>
<p>This is needed throughout lxml.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tbx.tbxunit.removenotes">
<code class="descname">removenotes</code><span class="sig-paren">(</span><em>origin=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.tbx.tbxunit.removenotes" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove all the translator notes.</p>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.tbx.tbxunit.rich_source">
<code class="descname">rich_source</code><a class="headerlink" href="#translate.storage.tbx.tbxunit.rich_source" title="Permalink to this definition">¶</a></dt>
<dd><div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="#translate.storage.tbx.tbxunit.rich_to_multistring" title="translate.storage.tbx.tbxunit.rich_to_multistring"><code class="xref py py-meth docutils literal notranslate"><span class="pre">rich_to_multistring()</span></code></a>, <a class="reference internal" href="#translate.storage.tbx.tbxunit.multistring_to_rich" title="translate.storage.tbx.tbxunit.multistring_to_rich"><code class="xref py py-meth docutils literal notranslate"><span class="pre">multistring_to_rich()</span></code></a></p>
</div>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.tbx.tbxunit.rich_target">
<code class="descname">rich_target</code><a class="headerlink" href="#translate.storage.tbx.tbxunit.rich_target" title="Permalink to this definition">¶</a></dt>
<dd><div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="#translate.storage.tbx.tbxunit.rich_to_multistring" title="translate.storage.tbx.tbxunit.rich_to_multistring"><code class="xref py py-meth docutils literal notranslate"><span class="pre">rich_to_multistring()</span></code></a>, <a class="reference internal" href="#translate.storage.tbx.tbxunit.multistring_to_rich" title="translate.storage.tbx.tbxunit.multistring_to_rich"><code class="xref py py-meth docutils literal notranslate"><span class="pre">multistring_to_rich()</span></code></a></p>
</div>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.tbx.tbxunit.rich_to_multistring">
<em class="property">classmethod </em><code class="descname">rich_to_multistring</code><span class="sig-paren">(</span><em>elem_list</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.tbx.tbxunit.rich_to_multistring" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a “rich” string tree to a <code class="docutils literal notranslate"><span class="pre">multistring</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">translate.storage.placeables.interfaces</span> <span class="kn">import</span> <span class="n">X</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rich</span> <span class="o">=</span> <span class="p">[</span><span class="n">StringElem</span><span class="p">([</span><span class="s1">&#39;foo&#39;</span><span class="p">,</span> <span class="n">X</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="s1">&#39;xxx&#39;</span><span class="p">,</span> <span class="n">sub</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39; &#39;</span><span class="p">]),</span> <span class="s1">&#39;bar&#39;</span><span class="p">])]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">TranslationUnit</span><span class="o">.</span><span class="n">rich_to_multistring</span><span class="p">(</span><span class="n">rich</span><span class="p">)</span>
<span class="go">multistring(u&#39;foo bar&#39;)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tbx.tbxunit.setcontext">
<code class="descname">setcontext</code><span class="sig-paren">(</span><em>context</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.tbx.tbxunit.setcontext" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the message context</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tbx.tbxunit.setid">
<code class="descname">setid</code><span class="sig-paren">(</span><em>value</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.tbx.tbxunit.setid" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the unique identified for this unit.</p>
<p>only implemented if format allows ids independant from other unit
properties like source or context</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tbx.tbxunit.settarget">
<code class="descname">settarget</code><span class="sig-paren">(</span><em>target</em>, <em>lang='xx'</em>, <em>append=False</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.tbx.tbxunit.settarget" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the “target” string (second language), or alternatively appends
to the list</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tbx.tbxunit.unit_iter">
<code class="descname">unit_iter</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.tbx.tbxunit.unit_iter" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterator that only returns this unit.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-translate.storage.tiki">
<span id="tiki"></span><h2>tiki<a class="headerlink" href="#module-translate.storage.tiki" title="Permalink to this headline">¶</a></h2>
<p>Class that manages TikiWiki files for translation.  Tiki files are &lt;strike&gt;ugly and
inconsistent&lt;/strike&gt; formatted as a single large PHP array with several special
sections identified by comments.  Example current as of 2008-12-01:</p>
<div class="highlight-php notranslate"><div class="highlight"><pre><span></span><span class="cp">&lt;?php</span>
  <span class="c1">// Many comments at the top</span>
  <span class="nv">$lang</span><span class="o">=</span><span class="k">Array</span><span class="p">(</span>
  <span class="c1">// ### Start of unused words</span>
  <span class="s2">&quot;aaa&quot;</span> <span class="o">=&gt;</span> <span class="s2">&quot;zzz&quot;</span><span class="p">,</span>
  <span class="c1">// ### end of unused words</span>

  <span class="c1">// ### start of untranslated words</span>
  <span class="c1">// &quot;bbb&quot; =&gt; &quot;yyy&quot;,</span>
  <span class="c1">// ### end of untranslated words</span>

  <span class="c1">// ### start of possibly untranslated words</span>
  <span class="s2">&quot;ccc&quot;</span> <span class="o">=&gt;</span> <span class="s2">&quot;xxx&quot;</span><span class="p">,</span>
  <span class="c1">// ### end of possibly untranslated words</span>

  <span class="s2">&quot;ddd&quot;</span> <span class="o">=&gt;</span> <span class="s2">&quot;www&quot;</span><span class="p">,</span>
  <span class="s2">&quot;###end###&quot;</span><span class="o">=&gt;</span><span class="s2">&quot;###end###&quot;</span><span class="p">);</span>
<span class="cp">?&gt;</span><span class="x"></span>
</pre></div>
</div>
<p>In addition there are several auto-generated //-style comments scattered through the
page and array, some of which matter when being parsed.</p>
<p>This has all been gleaned from the
<a class="reference external" href="http://tikiwiki.svn.sourceforge.net/viewvc/tikiwiki/trunk/get_strings.php?view=markup">TikiWiki source</a>.
As far as I know no detailed documentation exists for the tiki language.php files.</p>
<dl class="class">
<dt id="translate.storage.tiki.TikiStore">
<em class="property">class </em><code class="descclassname">translate.storage.tiki.</code><code class="descname">TikiStore</code><span class="sig-paren">(</span><em>inputfile=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.tiki.TikiStore" title="Permalink to this definition">¶</a></dt>
<dd><p>Represents a tiki language.php file.</p>
<dl class="attribute">
<dt id="translate.storage.tiki.TikiStore.UnitClass">
<code class="descname">UnitClass</code><a class="headerlink" href="#translate.storage.tiki.TikiStore.UnitClass" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <a class="reference internal" href="#translate.storage.tiki.TikiUnit" title="translate.storage.tiki.TikiUnit"><code class="xref py py-class docutils literal notranslate"><span class="pre">TikiUnit</span></code></a></p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tiki.TikiStore.add_unit_to_index">
<code class="descname">add_unit_to_index</code><span class="sig-paren">(</span><em>unit</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.tiki.TikiStore.add_unit_to_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a unit to source and location idexes</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tiki.TikiStore.addsourceunit">
<code class="descname">addsourceunit</code><span class="sig-paren">(</span><em>source</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.tiki.TikiStore.addsourceunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Add and returns a new unit with the given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><code class="xref py py-class docutils literal notranslate"><span class="pre">TranslationUnit</span></code></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tiki.TikiStore.addunit">
<code class="descname">addunit</code><span class="sig-paren">(</span><em>unit</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.tiki.TikiStore.addunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Append the given unit to the object’s list of units.</p>
<p>This method should always be used rather than trying to modify the
list manually.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>unit</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">TranslationUnit</span></code>) – The unit that will be added.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tiki.TikiStore.detect_encoding">
<code class="descname">detect_encoding</code><span class="sig-paren">(</span><em>text</em>, <em>default_encodings=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.tiki.TikiStore.detect_encoding" title="Permalink to this definition">¶</a></dt>
<dd><p>Try to detect a file encoding from <cite>text</cite>, using either the chardet lib
or by trying to decode the file.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tiki.TikiStore.fallback_detection">
<code class="descname">fallback_detection</code><span class="sig-paren">(</span><em>text</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.tiki.TikiStore.fallback_detection" title="Permalink to this definition">¶</a></dt>
<dd><p>Simple detection based on BOM in case chardet is not available.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tiki.TikiStore.findid">
<code class="descname">findid</code><span class="sig-paren">(</span><em>id</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.tiki.TikiStore.findid" title="Permalink to this definition">¶</a></dt>
<dd><p>find unit with matching id by checking id_index</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tiki.TikiStore.findunit">
<code class="descname">findunit</code><span class="sig-paren">(</span><em>source</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.tiki.TikiStore.findunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the unit with the given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><code class="xref py py-class docutils literal notranslate"><span class="pre">TranslationUnit</span></code> or None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tiki.TikiStore.findunits">
<code class="descname">findunits</code><span class="sig-paren">(</span><em>source</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.tiki.TikiStore.findunits" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the units with the given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><code class="xref py py-class docutils literal notranslate"><span class="pre">TranslationUnit</span></code> or None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tiki.TikiStore.getids">
<code class="descname">getids</code><span class="sig-paren">(</span><em>filename=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.tiki.TikiStore.getids" title="Permalink to this definition">¶</a></dt>
<dd><p>return a list of unit ids</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tiki.TikiStore.getprojectstyle">
<code class="descname">getprojectstyle</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.tiki.TikiStore.getprojectstyle" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the project type for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tiki.TikiStore.getsourcelanguage">
<code class="descname">getsourcelanguage</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.tiki.TikiStore.getsourcelanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the source language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tiki.TikiStore.gettargetlanguage">
<code class="descname">gettargetlanguage</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.tiki.TikiStore.gettargetlanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the target language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tiki.TikiStore.getunits">
<code class="descname">getunits</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.tiki.TikiStore.getunits" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of all units in this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tiki.TikiStore.isempty">
<code class="descname">isempty</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.tiki.TikiStore.isempty" title="Permalink to this definition">¶</a></dt>
<dd><p>Return True if the object doesn’t contain any translation units.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tiki.TikiStore.makeindex">
<code class="descname">makeindex</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.tiki.TikiStore.makeindex" title="Permalink to this definition">¶</a></dt>
<dd><p>Indexes the items in this store. At least .sourceindex should be
useful.</p>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.tiki.TikiStore.merge_on">
<code class="descname">merge_on</code><a class="headerlink" href="#translate.storage.tiki.TikiStore.merge_on" title="Permalink to this definition">¶</a></dt>
<dd><p>The matching criterion to use when merging on.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The default matching criterion for all the subclasses.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">string</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tiki.TikiStore.parse">
<code class="descname">parse</code><span class="sig-paren">(</span><em>input</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.tiki.TikiStore.parse" title="Permalink to this definition">¶</a></dt>
<dd><p>Parse the given input into source units.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>input</strong> – the source, either a string or filehandle</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.tiki.TikiStore.parsefile">
<em class="property">classmethod </em><code class="descname">parsefile</code><span class="sig-paren">(</span><em>storefile</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.tiki.TikiStore.parsefile" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads the given file (or opens the given filename) and parses back
to an object.</p>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.tiki.TikiStore.parsestring">
<em class="property">classmethod </em><code class="descname">parsestring</code><span class="sig-paren">(</span><em>storestring</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.tiki.TikiStore.parsestring" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert the string representation back to an object.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tiki.TikiStore.remove_unit_from_index">
<code class="descname">remove_unit_from_index</code><span class="sig-paren">(</span><em>unit</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.tiki.TikiStore.remove_unit_from_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove a unit from source and locaton indexes</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tiki.TikiStore.require_index">
<code class="descname">require_index</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.tiki.TikiStore.require_index" title="Permalink to this definition">¶</a></dt>
<dd><p>make sure source index exists</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tiki.TikiStore.save">
<code class="descname">save</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.tiki.TikiStore.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Save to the file that data was originally read from, if available.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tiki.TikiStore.savefile">
<code class="descname">savefile</code><span class="sig-paren">(</span><em>storefile</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.tiki.TikiStore.savefile" title="Permalink to this definition">¶</a></dt>
<dd><p>Write the string representation to the given file (or filename).</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tiki.TikiStore.serialize">
<code class="descname">serialize</code><span class="sig-paren">(</span><em>out</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.tiki.TikiStore.serialize" title="Permalink to this definition">¶</a></dt>
<dd><p>Will return a formatted tiki-style language.php file.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tiki.TikiStore.setprojectstyle">
<code class="descname">setprojectstyle</code><span class="sig-paren">(</span><em>project_style</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.tiki.TikiStore.setprojectstyle" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the project type for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tiki.TikiStore.setsourcelanguage">
<code class="descname">setsourcelanguage</code><span class="sig-paren">(</span><em>sourcelanguage</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.tiki.TikiStore.setsourcelanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the source language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tiki.TikiStore.settargetlanguage">
<code class="descname">settargetlanguage</code><span class="sig-paren">(</span><em>targetlanguage</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.tiki.TikiStore.settargetlanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the target language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tiki.TikiStore.translate">
<code class="descname">translate</code><span class="sig-paren">(</span><em>source</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.tiki.TikiStore.translate" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the translated string for a given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">String or <a class="reference external" href="https://docs.python.org/2.7/library/constants.html#None" title="(in Python v2.7)">None</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tiki.TikiStore.unit_iter">
<code class="descname">unit_iter</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.tiki.TikiStore.unit_iter" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterator over all the units in this store.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="translate.storage.tiki.TikiUnit">
<em class="property">class </em><code class="descclassname">translate.storage.tiki.</code><code class="descname">TikiUnit</code><span class="sig-paren">(</span><em>source=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.tiki.TikiUnit" title="Permalink to this definition">¶</a></dt>
<dd><p>A tiki unit entry.</p>
<dl class="method">
<dt id="translate.storage.tiki.TikiUnit.adderror">
<code class="descname">adderror</code><span class="sig-paren">(</span><em>errorname</em>, <em>errortext</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.tiki.TikiUnit.adderror" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds an error message to this unit.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>errorname</strong> (<em>string</em>) – A single word to id the error.</li>
<li><strong>errortext</strong> (<em>string</em>) – The text describing the error.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tiki.TikiUnit.addlocation">
<code class="descname">addlocation</code><span class="sig-paren">(</span><em>location</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.tiki.TikiUnit.addlocation" title="Permalink to this definition">¶</a></dt>
<dd><p>Location is defined by the comments in the file. This function will only
set valid locations.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>location</strong> – Where the string is located in the file.  Must be a valid location.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tiki.TikiUnit.addlocations">
<code class="descname">addlocations</code><span class="sig-paren">(</span><em>location</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.tiki.TikiUnit.addlocations" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a location or a list of locations.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Most classes shouldn’t need to implement this, but should rather
implement <code class="xref py py-meth docutils literal notranslate"><span class="pre">TranslationUnit.addlocation()</span></code>.</p>
</div>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">This method might be removed in future.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tiki.TikiUnit.addnote">
<code class="descname">addnote</code><span class="sig-paren">(</span><em>text</em>, <em>origin=None</em>, <em>position='append'</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.tiki.TikiUnit.addnote" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds a note (comment).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>text</strong> (<em>string</em>) – Usually just a sentence or two.</li>
<li><strong>origin</strong> (<em>string</em>) – Specifies who/where the comment comes from.
Origin can be one of the following text strings:
- ‘translator’
- ‘developer’, ‘programmer’, ‘source code’ (synonyms)</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.tiki.TikiUnit.buildfromunit">
<em class="property">classmethod </em><code class="descname">buildfromunit</code><span class="sig-paren">(</span><em>unit</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.tiki.TikiUnit.buildfromunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Build a native unit from a foreign unit, preserving as much
information as possible.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tiki.TikiUnit.getcontext">
<code class="descname">getcontext</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.tiki.TikiUnit.getcontext" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the message context.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tiki.TikiUnit.geterrors">
<code class="descname">geterrors</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.tiki.TikiUnit.geterrors" title="Permalink to this definition">¶</a></dt>
<dd><p>Get all error messages.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">Dictionary</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tiki.TikiUnit.getid">
<code class="descname">getid</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.tiki.TikiUnit.getid" title="Permalink to this definition">¶</a></dt>
<dd><p>A unique identifier for this unit.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">string</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">an identifier for this unit that is unique in the store</td>
</tr>
</tbody>
</table>
<p>Derived classes should override this in a way that guarantees a unique
identifier for each unit in the store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tiki.TikiUnit.getlocations">
<code class="descname">getlocations</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.tiki.TikiUnit.getlocations" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the a list of the location(s) of the string.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tiki.TikiUnit.getnotes">
<code class="descname">getnotes</code><span class="sig-paren">(</span><em>origin=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.tiki.TikiUnit.getnotes" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns all notes about this unit.</p>
<p>It will probably be freeform text or something reasonable that can be
synthesised by the format.
It should not include location comments (see
<a class="reference internal" href="#translate.storage.base.TranslationUnit.getlocations" title="translate.storage.base.TranslationUnit.getlocations"><code class="xref py py-meth docutils literal notranslate"><span class="pre">getlocations()</span></code></a>).</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tiki.TikiUnit.gettargetlen">
<code class="descname">gettargetlen</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.tiki.TikiUnit.gettargetlen" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the length of the target string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">Integer</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Plural forms might be combined.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tiki.TikiUnit.getunits">
<code class="descname">getunits</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.tiki.TikiUnit.getunits" title="Permalink to this definition">¶</a></dt>
<dd><p>This unit in a list.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tiki.TikiUnit.hasplural">
<code class="descname">hasplural</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.tiki.TikiUnit.hasplural" title="Permalink to this definition">¶</a></dt>
<dd><p>Tells whether or not this specific unit has plural strings.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tiki.TikiUnit.infer_state">
<code class="descname">infer_state</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.tiki.TikiUnit.infer_state" title="Permalink to this definition">¶</a></dt>
<dd><p>Empty method that should be overridden in sub-classes to infer the
current state(_n) of the unit from its current state.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tiki.TikiUnit.isblank">
<code class="descname">isblank</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.tiki.TikiUnit.isblank" title="Permalink to this definition">¶</a></dt>
<dd><p>Used to see if this unit has no source or target string.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This is probably used more to find translatable units,
and we might want to move in that direction rather and
get rid of this.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tiki.TikiUnit.isfuzzy">
<code class="descname">isfuzzy</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.tiki.TikiUnit.isfuzzy" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit is fuzzy.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tiki.TikiUnit.isheader">
<code class="descname">isheader</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.tiki.TikiUnit.isheader" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit is a header.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tiki.TikiUnit.isobsolete">
<code class="descname">isobsolete</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.tiki.TikiUnit.isobsolete" title="Permalink to this definition">¶</a></dt>
<dd><p>indicate whether a unit is obsolete</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tiki.TikiUnit.isreview">
<code class="descname">isreview</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.tiki.TikiUnit.isreview" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit needs review.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tiki.TikiUnit.istranslatable">
<code class="descname">istranslatable</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.tiki.TikiUnit.istranslatable" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit can be translated.</p>
<p>This should be used to distinguish real units for translation from
header, obsolete, binary or other blank units.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tiki.TikiUnit.istranslated">
<code class="descname">istranslated</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.tiki.TikiUnit.istranslated" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit is translated.</p>
<p>This should be used rather than deducing it from .target,
to ensure that other classes can implement more functionality
(as XLIFF does).</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tiki.TikiUnit.makeobsolete">
<code class="descname">makeobsolete</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.tiki.TikiUnit.makeobsolete" title="Permalink to this definition">¶</a></dt>
<dd><p>Make a unit obsolete</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tiki.TikiUnit.markfuzzy">
<code class="descname">markfuzzy</code><span class="sig-paren">(</span><em>value=True</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.tiki.TikiUnit.markfuzzy" title="Permalink to this definition">¶</a></dt>
<dd><p>Marks the unit as fuzzy or not.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tiki.TikiUnit.markreviewneeded">
<code class="descname">markreviewneeded</code><span class="sig-paren">(</span><em>needsreview=True</em>, <em>explanation=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.tiki.TikiUnit.markreviewneeded" title="Permalink to this definition">¶</a></dt>
<dd><p>Marks the unit to indicate whether it needs review.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>needsreview</strong> – Defaults to True.</li>
<li><strong>explanation</strong> – Adds an optional explanation as a note.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tiki.TikiUnit.merge">
<code class="descname">merge</code><span class="sig-paren">(</span><em>otherunit</em>, <em>overwrite=False</em>, <em>comments=True</em>, <em>authoritative=False</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.tiki.TikiUnit.merge" title="Permalink to this definition">¶</a></dt>
<dd><p>Do basic format agnostic merging.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tiki.TikiUnit.multistring_to_rich">
<code class="descname">multistring_to_rich</code><span class="sig-paren">(</span><em>mulstring</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.tiki.TikiUnit.multistring_to_rich" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a multistring to a list of “rich” string trees:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">target</span> <span class="o">=</span> <span class="n">multistring</span><span class="p">([</span><span class="sa">u</span><span class="s1">&#39;foo&#39;</span><span class="p">,</span> <span class="sa">u</span><span class="s1">&#39;bar&#39;</span><span class="p">,</span> <span class="sa">u</span><span class="s1">&#39;baz&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">TranslationUnit</span><span class="o">.</span><span class="n">multistring_to_rich</span><span class="p">(</span><span class="n">target</span><span class="p">)</span>
<span class="go">[&lt;StringElem([&lt;StringElem([u&#39;foo&#39;])&gt;])&gt;,</span>
<span class="go"> &lt;StringElem([&lt;StringElem([u&#39;bar&#39;])&gt;])&gt;,</span>
<span class="go"> &lt;StringElem([&lt;StringElem([u&#39;baz&#39;])&gt;])&gt;]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tiki.TikiUnit.removenotes">
<code class="descname">removenotes</code><span class="sig-paren">(</span><em>origin=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.tiki.TikiUnit.removenotes" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove all the translator’s notes.</p>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.tiki.TikiUnit.rich_source">
<code class="descname">rich_source</code><a class="headerlink" href="#translate.storage.tiki.TikiUnit.rich_source" title="Permalink to this definition">¶</a></dt>
<dd><div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="#translate.storage.tiki.TikiUnit.rich_to_multistring" title="translate.storage.tiki.TikiUnit.rich_to_multistring"><code class="xref py py-meth docutils literal notranslate"><span class="pre">rich_to_multistring()</span></code></a>, <a class="reference internal" href="#translate.storage.tiki.TikiUnit.multistring_to_rich" title="translate.storage.tiki.TikiUnit.multistring_to_rich"><code class="xref py py-meth docutils literal notranslate"><span class="pre">multistring_to_rich()</span></code></a></p>
</div>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.tiki.TikiUnit.rich_target">
<code class="descname">rich_target</code><a class="headerlink" href="#translate.storage.tiki.TikiUnit.rich_target" title="Permalink to this definition">¶</a></dt>
<dd><div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="#translate.storage.tiki.TikiUnit.rich_to_multistring" title="translate.storage.tiki.TikiUnit.rich_to_multistring"><code class="xref py py-meth docutils literal notranslate"><span class="pre">rich_to_multistring()</span></code></a>, <a class="reference internal" href="#translate.storage.tiki.TikiUnit.multistring_to_rich" title="translate.storage.tiki.TikiUnit.multistring_to_rich"><code class="xref py py-meth docutils literal notranslate"><span class="pre">multistring_to_rich()</span></code></a></p>
</div>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.tiki.TikiUnit.rich_to_multistring">
<em class="property">classmethod </em><code class="descname">rich_to_multistring</code><span class="sig-paren">(</span><em>elem_list</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.tiki.TikiUnit.rich_to_multistring" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a “rich” string tree to a <code class="docutils literal notranslate"><span class="pre">multistring</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">translate.storage.placeables.interfaces</span> <span class="kn">import</span> <span class="n">X</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rich</span> <span class="o">=</span> <span class="p">[</span><span class="n">StringElem</span><span class="p">([</span><span class="s1">&#39;foo&#39;</span><span class="p">,</span> <span class="n">X</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="s1">&#39;xxx&#39;</span><span class="p">,</span> <span class="n">sub</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39; &#39;</span><span class="p">]),</span> <span class="s1">&#39;bar&#39;</span><span class="p">])]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">TranslationUnit</span><span class="o">.</span><span class="n">rich_to_multistring</span><span class="p">(</span><span class="n">rich</span><span class="p">)</span>
<span class="go">multistring(u&#39;foo bar&#39;)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tiki.TikiUnit.setcontext">
<code class="descname">setcontext</code><span class="sig-paren">(</span><em>context</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.tiki.TikiUnit.setcontext" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the message context</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tiki.TikiUnit.setid">
<code class="descname">setid</code><span class="sig-paren">(</span><em>value</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.tiki.TikiUnit.setid" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the unique identified for this unit.</p>
<p>only implemented if format allows ids independant from other unit
properties like source or context</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tiki.TikiUnit.unit_iter">
<code class="descname">unit_iter</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.tiki.TikiUnit.unit_iter" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterator that only returns this unit.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-translate.storage.tmdb">
<span id="tmdb"></span><h2>tmdb<a class="headerlink" href="#module-translate.storage.tmdb" title="Permalink to this headline">¶</a></h2>
<p>Module to provide a translation memory database.</p>
<dl class="exception">
<dt id="translate.storage.tmdb.LanguageError">
<em class="property">exception </em><code class="descclassname">translate.storage.tmdb.</code><code class="descname">LanguageError</code><span class="sig-paren">(</span><em>value</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.tmdb.LanguageError" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-translate.storage.tmx">
<span id="tmx"></span><h2>tmx<a class="headerlink" href="#module-translate.storage.tmx" title="Permalink to this headline">¶</a></h2>
<p>module for parsing TMX translation memeory files</p>
<dl class="class">
<dt id="translate.storage.tmx.tmxfile">
<em class="property">class </em><code class="descclassname">translate.storage.tmx.</code><code class="descname">tmxfile</code><span class="sig-paren">(</span><em>inputfile=None</em>, <em>sourcelanguage='en'</em>, <em>targetlanguage=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.tmx.tmxfile" title="Permalink to this definition">¶</a></dt>
<dd><p>Class representing a TMX file store.</p>
<dl class="attribute">
<dt id="translate.storage.tmx.tmxfile.UnitClass">
<code class="descname">UnitClass</code><a class="headerlink" href="#translate.storage.tmx.tmxfile.UnitClass" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <a class="reference internal" href="#translate.storage.tmx.tmxunit" title="translate.storage.tmx.tmxunit"><code class="xref py py-class docutils literal notranslate"><span class="pre">tmxunit</span></code></a></p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tmx.tmxfile.add_unit_to_index">
<code class="descname">add_unit_to_index</code><span class="sig-paren">(</span><em>unit</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.tmx.tmxfile.add_unit_to_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a unit to source and location idexes</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tmx.tmxfile.addheader">
<code class="descname">addheader</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.tmx.tmxfile.addheader" title="Permalink to this definition">¶</a></dt>
<dd><p>Method to be overridden to initialise headers, etc.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tmx.tmxfile.addsourceunit">
<code class="descname">addsourceunit</code><span class="sig-paren">(</span><em>source</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.tmx.tmxfile.addsourceunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds and returns a new unit with the given string as first entry.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tmx.tmxfile.addtranslation">
<code class="descname">addtranslation</code><span class="sig-paren">(</span><em>source</em>, <em>srclang</em>, <em>translation</em>, <em>translang</em>, <em>comment=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.tmx.tmxfile.addtranslation" title="Permalink to this definition">¶</a></dt>
<dd><p>addtranslation method for testing old unit tests</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tmx.tmxfile.addunit">
<code class="descname">addunit</code><span class="sig-paren">(</span><em>unit</em>, <em>new=True</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.tmx.tmxfile.addunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Append the given unit to the object’s list of units.</p>
<p>This method should always be used rather than trying to modify the
list manually.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>unit</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">TranslationUnit</span></code>) – The unit that will be added.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tmx.tmxfile.detect_encoding">
<code class="descname">detect_encoding</code><span class="sig-paren">(</span><em>text</em>, <em>default_encodings=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.tmx.tmxfile.detect_encoding" title="Permalink to this definition">¶</a></dt>
<dd><p>Try to detect a file encoding from <cite>text</cite>, using either the chardet lib
or by trying to decode the file.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tmx.tmxfile.fallback_detection">
<code class="descname">fallback_detection</code><span class="sig-paren">(</span><em>text</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.tmx.tmxfile.fallback_detection" title="Permalink to this definition">¶</a></dt>
<dd><p>Simple detection based on BOM in case chardet is not available.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tmx.tmxfile.findid">
<code class="descname">findid</code><span class="sig-paren">(</span><em>id</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.tmx.tmxfile.findid" title="Permalink to this definition">¶</a></dt>
<dd><p>find unit with matching id by checking id_index</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tmx.tmxfile.findunit">
<code class="descname">findunit</code><span class="sig-paren">(</span><em>source</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.tmx.tmxfile.findunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the unit with the given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><code class="xref py py-class docutils literal notranslate"><span class="pre">TranslationUnit</span></code> or None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tmx.tmxfile.findunits">
<code class="descname">findunits</code><span class="sig-paren">(</span><em>source</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.tmx.tmxfile.findunits" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the units with the given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><code class="xref py py-class docutils literal notranslate"><span class="pre">TranslationUnit</span></code> or None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tmx.tmxfile.getids">
<code class="descname">getids</code><span class="sig-paren">(</span><em>filename=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.tmx.tmxfile.getids" title="Permalink to this definition">¶</a></dt>
<dd><p>return a list of unit ids</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tmx.tmxfile.getprojectstyle">
<code class="descname">getprojectstyle</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.tmx.tmxfile.getprojectstyle" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the project type for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tmx.tmxfile.getsourcelanguage">
<code class="descname">getsourcelanguage</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.tmx.tmxfile.getsourcelanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the source language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tmx.tmxfile.gettargetlanguage">
<code class="descname">gettargetlanguage</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.tmx.tmxfile.gettargetlanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the target language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tmx.tmxfile.getunits">
<code class="descname">getunits</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.tmx.tmxfile.getunits" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of all units in this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tmx.tmxfile.initbody">
<code class="descname">initbody</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.tmx.tmxfile.initbody" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialises self.body so it never needs to be retrieved from the XML
again.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tmx.tmxfile.isempty">
<code class="descname">isempty</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.tmx.tmxfile.isempty" title="Permalink to this definition">¶</a></dt>
<dd><p>Return True if the object doesn’t contain any translation units.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tmx.tmxfile.makeindex">
<code class="descname">makeindex</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.tmx.tmxfile.makeindex" title="Permalink to this definition">¶</a></dt>
<dd><p>Indexes the items in this store. At least .sourceindex should be
useful.</p>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.tmx.tmxfile.merge_on">
<code class="descname">merge_on</code><a class="headerlink" href="#translate.storage.tmx.tmxfile.merge_on" title="Permalink to this definition">¶</a></dt>
<dd><p>The matching criterion to use when merging on.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The default matching criterion for all the subclasses.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">string</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tmx.tmxfile.namespaced">
<code class="descname">namespaced</code><span class="sig-paren">(</span><em>name</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.tmx.tmxfile.namespaced" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns name in Clark notation.</p>
<p>For example <code class="docutils literal notranslate"><span class="pre">namespaced(&quot;source&quot;)</span></code> in an XLIFF document
might return:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span><span class="n">urn</span><span class="p">:</span><span class="n">oasis</span><span class="p">:</span><span class="n">names</span><span class="p">:</span><span class="n">tc</span><span class="p">:</span><span class="n">xliff</span><span class="p">:</span><span class="n">document</span><span class="p">:</span><span class="mf">1.1</span><span class="p">}</span><span class="n">source</span>
</pre></div>
</div>
<p>This is needed throughout lxml.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tmx.tmxfile.parse">
<code class="descname">parse</code><span class="sig-paren">(</span><em>xml</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.tmx.tmxfile.parse" title="Permalink to this definition">¶</a></dt>
<dd><p>Populates this object from the given xml string</p>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.tmx.tmxfile.parsefile">
<em class="property">classmethod </em><code class="descname">parsefile</code><span class="sig-paren">(</span><em>storefile</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.tmx.tmxfile.parsefile" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads the given file (or opens the given filename) and parses back
to an object.</p>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.tmx.tmxfile.parsestring">
<em class="property">classmethod </em><code class="descname">parsestring</code><span class="sig-paren">(</span><em>storestring</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.tmx.tmxfile.parsestring" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert the string representation back to an object.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tmx.tmxfile.remove_unit_from_index">
<code class="descname">remove_unit_from_index</code><span class="sig-paren">(</span><em>unit</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.tmx.tmxfile.remove_unit_from_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove a unit from source and locaton indexes</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tmx.tmxfile.require_index">
<code class="descname">require_index</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.tmx.tmxfile.require_index" title="Permalink to this definition">¶</a></dt>
<dd><p>make sure source index exists</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tmx.tmxfile.save">
<code class="descname">save</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.tmx.tmxfile.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Save to the file that data was originally read from, if available.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tmx.tmxfile.savefile">
<code class="descname">savefile</code><span class="sig-paren">(</span><em>storefile</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.tmx.tmxfile.savefile" title="Permalink to this definition">¶</a></dt>
<dd><p>Write the string representation to the given file (or filename).</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tmx.tmxfile.serialize">
<code class="descname">serialize</code><span class="sig-paren">(</span><em>out=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.tmx.tmxfile.serialize" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts to a string containing the file’s XML</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tmx.tmxfile.setprojectstyle">
<code class="descname">setprojectstyle</code><span class="sig-paren">(</span><em>project_style</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.tmx.tmxfile.setprojectstyle" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the project type for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tmx.tmxfile.setsourcelanguage">
<code class="descname">setsourcelanguage</code><span class="sig-paren">(</span><em>sourcelanguage</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.tmx.tmxfile.setsourcelanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the source language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tmx.tmxfile.settargetlanguage">
<code class="descname">settargetlanguage</code><span class="sig-paren">(</span><em>targetlanguage</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.tmx.tmxfile.settargetlanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the target language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tmx.tmxfile.translate">
<code class="descname">translate</code><span class="sig-paren">(</span><em>sourcetext</em>, <em>sourcelang=None</em>, <em>targetlang=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.tmx.tmxfile.translate" title="Permalink to this definition">¶</a></dt>
<dd><p>method to test old unit tests</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tmx.tmxfile.unit_iter">
<code class="descname">unit_iter</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.tmx.tmxfile.unit_iter" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterator over all the units in this store.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="translate.storage.tmx.tmxunit">
<em class="property">class </em><code class="descclassname">translate.storage.tmx.</code><code class="descname">tmxunit</code><span class="sig-paren">(</span><em>source</em>, <em>empty=False</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.tmx.tmxunit" title="Permalink to this definition">¶</a></dt>
<dd><p>A single unit in the TMX file.</p>
<dl class="method">
<dt id="translate.storage.tmx.tmxunit.adderror">
<code class="descname">adderror</code><span class="sig-paren">(</span><em>errorname</em>, <em>errortext</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.tmx.tmxunit.adderror" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds an error message to this unit.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tmx.tmxunit.addlocation">
<code class="descname">addlocation</code><span class="sig-paren">(</span><em>location</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.tmx.tmxunit.addlocation" title="Permalink to this definition">¶</a></dt>
<dd><p>Add one location to the list of locations.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Shouldn’t be implemented if the format doesn’t support it.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tmx.tmxunit.addlocations">
<code class="descname">addlocations</code><span class="sig-paren">(</span><em>location</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.tmx.tmxunit.addlocations" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a location or a list of locations.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Most classes shouldn’t need to implement this, but should rather
implement <code class="xref py py-meth docutils literal notranslate"><span class="pre">TranslationUnit.addlocation()</span></code>.</p>
</div>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">This method might be removed in future.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tmx.tmxunit.addnote">
<code class="descname">addnote</code><span class="sig-paren">(</span><em>text</em>, <em>origin=None</em>, <em>position='append'</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.tmx.tmxunit.addnote" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a note specifically in a “note” tag.</p>
<p>The origin parameter is ignored</p>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.tmx.tmxunit.buildfromunit">
<em class="property">classmethod </em><code class="descname">buildfromunit</code><span class="sig-paren">(</span><em>unit</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.tmx.tmxunit.buildfromunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Build a native unit from a foreign unit, preserving as much
information as possible.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tmx.tmxunit.copy">
<code class="descname">copy</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.tmx.tmxunit.copy" title="Permalink to this definition">¶</a></dt>
<dd><p>Make a copy of the translation unit.</p>
<p>We don’t want to make a deep copy - this could duplicate the whole XML
tree. For now we just serialise and reparse the unit’s XML.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tmx.tmxunit.createlanguageNode">
<code class="descname">createlanguageNode</code><span class="sig-paren">(</span><em>lang</em>, <em>text</em>, <em>purpose</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.tmx.tmxunit.createlanguageNode" title="Permalink to this definition">¶</a></dt>
<dd><p>returns a langset xml Element setup with given parameters</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tmx.tmxunit.getNodeText">
<code class="descname">getNodeText</code><span class="sig-paren">(</span><em>languageNode</em>, <em>xml_space='preserve'</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.tmx.tmxunit.getNodeText" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieves the term from the given <code class="xref py py-attr docutils literal notranslate"><span class="pre">languageNode</span></code>.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tmx.tmxunit.getcontext">
<code class="descname">getcontext</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.tmx.tmxunit.getcontext" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the message context.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tmx.tmxunit.geterrors">
<code class="descname">geterrors</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.tmx.tmxunit.geterrors" title="Permalink to this definition">¶</a></dt>
<dd><p>Get all error messages.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tmx.tmxunit.getid">
<code class="descname">getid</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.tmx.tmxunit.getid" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the identifier for this unit. The optional tuid property is
used if available, otherwise we inherit .getid(). Note that the tuid
property is only mandated to be unique from TMX 2.0.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tmx.tmxunit.getlanguageNode">
<code class="descname">getlanguageNode</code><span class="sig-paren">(</span><em>lang=None</em>, <em>index=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.tmx.tmxunit.getlanguageNode" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieves a <code class="xref py py-attr docutils literal notranslate"><span class="pre">languageNode</span></code> either by language or by index.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tmx.tmxunit.getlanguageNodes">
<code class="descname">getlanguageNodes</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.tmx.tmxunit.getlanguageNodes" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a list of all nodes that contain per language information.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tmx.tmxunit.getlocations">
<code class="descname">getlocations</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.tmx.tmxunit.getlocations" title="Permalink to this definition">¶</a></dt>
<dd><p>A list of source code locations.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">List</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Shouldn’t be implemented if the format doesn’t support it.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tmx.tmxunit.getnotes">
<code class="descname">getnotes</code><span class="sig-paren">(</span><em>origin=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.tmx.tmxunit.getnotes" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns all notes about this unit.</p>
<p>It will probably be freeform text or something reasonable that can be
synthesised by the format.
It should not include location comments (see
<a class="reference internal" href="#translate.storage.base.TranslationUnit.getlocations" title="translate.storage.base.TranslationUnit.getlocations"><code class="xref py py-meth docutils literal notranslate"><span class="pre">getlocations()</span></code></a>).</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tmx.tmxunit.gettarget">
<code class="descname">gettarget</code><span class="sig-paren">(</span><em>lang=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.tmx.tmxunit.gettarget" title="Permalink to this definition">¶</a></dt>
<dd><p>retrieves the “target” text (second entry), or the entry in the
specified language, if it exists</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tmx.tmxunit.gettargetlen">
<code class="descname">gettargetlen</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.tmx.tmxunit.gettargetlen" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the length of the target string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">Integer</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Plural forms might be combined.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tmx.tmxunit.getunits">
<code class="descname">getunits</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.tmx.tmxunit.getunits" title="Permalink to this definition">¶</a></dt>
<dd><p>This unit in a list.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tmx.tmxunit.hasplural">
<code class="descname">hasplural</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.tmx.tmxunit.hasplural" title="Permalink to this definition">¶</a></dt>
<dd><p>Tells whether or not this specific unit has plural strings.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tmx.tmxunit.infer_state">
<code class="descname">infer_state</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.tmx.tmxunit.infer_state" title="Permalink to this definition">¶</a></dt>
<dd><p>Empty method that should be overridden in sub-classes to infer the
current state(_n) of the unit from its current state.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tmx.tmxunit.isblank">
<code class="descname">isblank</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.tmx.tmxunit.isblank" title="Permalink to this definition">¶</a></dt>
<dd><p>Used to see if this unit has no source or target string.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This is probably used more to find translatable units,
and we might want to move in that direction rather and
get rid of this.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tmx.tmxunit.isfuzzy">
<code class="descname">isfuzzy</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.tmx.tmxunit.isfuzzy" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit is fuzzy.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tmx.tmxunit.isheader">
<code class="descname">isheader</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.tmx.tmxunit.isheader" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit is a header.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tmx.tmxunit.isobsolete">
<code class="descname">isobsolete</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.tmx.tmxunit.isobsolete" title="Permalink to this definition">¶</a></dt>
<dd><p>indicate whether a unit is obsolete</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tmx.tmxunit.isreview">
<code class="descname">isreview</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.tmx.tmxunit.isreview" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit needs review.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tmx.tmxunit.istranslatable">
<code class="descname">istranslatable</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.tmx.tmxunit.istranslatable" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit can be translated.</p>
<p>This should be used to distinguish real units for translation from
header, obsolete, binary or other blank units.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tmx.tmxunit.istranslated">
<code class="descname">istranslated</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.tmx.tmxunit.istranslated" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit is translated.</p>
<p>This should be used rather than deducing it from .target,
to ensure that other classes can implement more functionality
(as XLIFF does).</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tmx.tmxunit.makeobsolete">
<code class="descname">makeobsolete</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.tmx.tmxunit.makeobsolete" title="Permalink to this definition">¶</a></dt>
<dd><p>Make a unit obsolete</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tmx.tmxunit.markfuzzy">
<code class="descname">markfuzzy</code><span class="sig-paren">(</span><em>value=True</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.tmx.tmxunit.markfuzzy" title="Permalink to this definition">¶</a></dt>
<dd><p>Marks the unit as fuzzy or not.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tmx.tmxunit.markreviewneeded">
<code class="descname">markreviewneeded</code><span class="sig-paren">(</span><em>needsreview=True</em>, <em>explanation=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.tmx.tmxunit.markreviewneeded" title="Permalink to this definition">¶</a></dt>
<dd><p>Marks the unit to indicate whether it needs review.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>needsreview</strong> – Defaults to True.</li>
<li><strong>explanation</strong> – Adds an optional explanation as a note.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tmx.tmxunit.merge">
<code class="descname">merge</code><span class="sig-paren">(</span><em>otherunit</em>, <em>overwrite=False</em>, <em>comments=True</em>, <em>authoritative=False</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.tmx.tmxunit.merge" title="Permalink to this definition">¶</a></dt>
<dd><p>Do basic format agnostic merging.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tmx.tmxunit.multistring_to_rich">
<code class="descname">multistring_to_rich</code><span class="sig-paren">(</span><em>mulstring</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.tmx.tmxunit.multistring_to_rich" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a multistring to a list of “rich” string trees:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">target</span> <span class="o">=</span> <span class="n">multistring</span><span class="p">([</span><span class="sa">u</span><span class="s1">&#39;foo&#39;</span><span class="p">,</span> <span class="sa">u</span><span class="s1">&#39;bar&#39;</span><span class="p">,</span> <span class="sa">u</span><span class="s1">&#39;baz&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">TranslationUnit</span><span class="o">.</span><span class="n">multistring_to_rich</span><span class="p">(</span><span class="n">target</span><span class="p">)</span>
<span class="go">[&lt;StringElem([&lt;StringElem([u&#39;foo&#39;])&gt;])&gt;,</span>
<span class="go"> &lt;StringElem([&lt;StringElem([u&#39;bar&#39;])&gt;])&gt;,</span>
<span class="go"> &lt;StringElem([&lt;StringElem([u&#39;baz&#39;])&gt;])&gt;]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tmx.tmxunit.namespaced">
<code class="descname">namespaced</code><span class="sig-paren">(</span><em>name</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.tmx.tmxunit.namespaced" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns name in Clark notation.</p>
<p>For example <code class="docutils literal notranslate"><span class="pre">namespaced(&quot;source&quot;)</span></code> in an XLIFF document
might return:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span><span class="n">urn</span><span class="p">:</span><span class="n">oasis</span><span class="p">:</span><span class="n">names</span><span class="p">:</span><span class="n">tc</span><span class="p">:</span><span class="n">xliff</span><span class="p">:</span><span class="n">document</span><span class="p">:</span><span class="mf">1.1</span><span class="p">}</span><span class="n">source</span>
</pre></div>
</div>
<p>This is needed throughout lxml.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tmx.tmxunit.removenotes">
<code class="descname">removenotes</code><span class="sig-paren">(</span><em>origin=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.tmx.tmxunit.removenotes" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove all the translator notes.</p>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.tmx.tmxunit.rich_source">
<code class="descname">rich_source</code><a class="headerlink" href="#translate.storage.tmx.tmxunit.rich_source" title="Permalink to this definition">¶</a></dt>
<dd><div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="#translate.storage.tmx.tmxunit.rich_to_multistring" title="translate.storage.tmx.tmxunit.rich_to_multistring"><code class="xref py py-meth docutils literal notranslate"><span class="pre">rich_to_multistring()</span></code></a>, <a class="reference internal" href="#translate.storage.tmx.tmxunit.multistring_to_rich" title="translate.storage.tmx.tmxunit.multistring_to_rich"><code class="xref py py-meth docutils literal notranslate"><span class="pre">multistring_to_rich()</span></code></a></p>
</div>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.tmx.tmxunit.rich_target">
<code class="descname">rich_target</code><a class="headerlink" href="#translate.storage.tmx.tmxunit.rich_target" title="Permalink to this definition">¶</a></dt>
<dd><div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="#translate.storage.tmx.tmxunit.rich_to_multistring" title="translate.storage.tmx.tmxunit.rich_to_multistring"><code class="xref py py-meth docutils literal notranslate"><span class="pre">rich_to_multistring()</span></code></a>, <a class="reference internal" href="#translate.storage.tmx.tmxunit.multistring_to_rich" title="translate.storage.tmx.tmxunit.multistring_to_rich"><code class="xref py py-meth docutils literal notranslate"><span class="pre">multistring_to_rich()</span></code></a></p>
</div>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.tmx.tmxunit.rich_to_multistring">
<em class="property">classmethod </em><code class="descname">rich_to_multistring</code><span class="sig-paren">(</span><em>elem_list</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.tmx.tmxunit.rich_to_multistring" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a “rich” string tree to a <code class="docutils literal notranslate"><span class="pre">multistring</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">translate.storage.placeables.interfaces</span> <span class="kn">import</span> <span class="n">X</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rich</span> <span class="o">=</span> <span class="p">[</span><span class="n">StringElem</span><span class="p">([</span><span class="s1">&#39;foo&#39;</span><span class="p">,</span> <span class="n">X</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="s1">&#39;xxx&#39;</span><span class="p">,</span> <span class="n">sub</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39; &#39;</span><span class="p">]),</span> <span class="s1">&#39;bar&#39;</span><span class="p">])]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">TranslationUnit</span><span class="o">.</span><span class="n">rich_to_multistring</span><span class="p">(</span><span class="n">rich</span><span class="p">)</span>
<span class="go">multistring(u&#39;foo bar&#39;)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tmx.tmxunit.setcontext">
<code class="descname">setcontext</code><span class="sig-paren">(</span><em>context</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.tmx.tmxunit.setcontext" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the message context</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tmx.tmxunit.setid">
<code class="descname">setid</code><span class="sig-paren">(</span><em>value</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.tmx.tmxunit.setid" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the unique identified for this unit.</p>
<p>only implemented if format allows ids independant from other unit
properties like source or context</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tmx.tmxunit.settarget">
<code class="descname">settarget</code><span class="sig-paren">(</span><em>target</em>, <em>lang='xx'</em>, <em>append=False</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.tmx.tmxunit.settarget" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the “target” string (second language), or alternatively appends
to the list</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.tmx.tmxunit.unit_iter">
<code class="descname">unit_iter</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.tmx.tmxunit.unit_iter" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterator that only returns this unit.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-translate.storage.trados">
<span id="trados"></span><h2>trados<a class="headerlink" href="#module-translate.storage.trados" title="Permalink to this headline">¶</a></h2>
<p>Manage the Trados .txt Translation Memory format</p>
<p>A Trados file looks like this:</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;TrU&gt;</span>
<span class="nt">&lt;CrD&gt;</span>18012000, 13:18:35
<span class="nt">&lt;CrU&gt;</span>CAROL-ANN
<span class="nt">&lt;UsC&gt;</span>0
<span class="nt">&lt;Seg</span> <span class="na">L=</span><span class="s">EN_GB</span><span class="nt">&gt;</span>Association for Road Safety \endash  Conference
<span class="nt">&lt;Seg</span> <span class="na">L=</span><span class="s">DE_DE</span><span class="nt">&gt;</span>Tagung der Gesellschaft für Verkehrssicherheit
<span class="nt">&lt;/TrU&gt;</span>
<span class="nt">&lt;TrU&gt;</span>
<span class="nt">&lt;CrD&gt;</span>18012000, 13:19:14
<span class="nt">&lt;CrU&gt;</span>CAROL-ANN
<span class="nt">&lt;UsC&gt;</span>0
<span class="nt">&lt;Seg</span> <span class="na">L=</span><span class="s">EN_GB</span><span class="nt">&gt;</span>Road Safety Education in our Schools
<span class="nt">&lt;Seg</span> <span class="na">L=</span><span class="s">DE_DE</span><span class="nt">&gt;</span>Verkehrserziehung an Schulen
<span class="nt">&lt;/TrU&gt;</span>
</pre></div>
</div>
<dl class="data">
<dt id="translate.storage.trados.TRADOS_TIMEFORMAT">
<code class="descclassname">translate.storage.trados.</code><code class="descname">TRADOS_TIMEFORMAT</code><em class="property"> = '%d%m%Y, %H:%M:%S'</em><a class="headerlink" href="#translate.storage.trados.TRADOS_TIMEFORMAT" title="Permalink to this definition">¶</a></dt>
<dd><p>Time format used by Trados .txt</p>
</dd></dl>

<dl class="data">
<dt id="translate.storage.trados.RTF_ESCAPES">
<code class="descclassname">translate.storage.trados.</code><code class="descname">RTF_ESCAPES</code><em class="property"> = {u'\\-': u'\xad', u'\\_': u'\u2011', u'\\bullet': u'\u2022', u'\\emdash': u'\u2014', u'\\emspace': u'\u2003', u'\\endash': u'\u2013', u'\\enspace': u'\u2002', u'\\ldblquote': u'\u201c', u'\\lquote': u'\u2018', u'\\rdblquote': u'\u201d', u'\\rquote': u'\u2019', u'\\~': u'\xa0'}</em><a class="headerlink" href="#translate.storage.trados.RTF_ESCAPES" title="Permalink to this definition">¶</a></dt>
<dd><p>RTF control to Unicode map. See
<a class="reference external" href="http://msdn.microsoft.com/en-us/library/aa140283(v=office.10).aspx">http://msdn.microsoft.com/en-us/library/aa140283(v=office.10).aspx</a></p>
</dd></dl>

<dl class="function">
<dt id="translate.storage.trados.escape">
<code class="descclassname">translate.storage.trados.</code><code class="descname">escape</code><span class="sig-paren">(</span><em>text</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.trados.escape" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert Unicode string to Trodas escapes</p>
</dd></dl>

<dl class="function">
<dt id="translate.storage.trados.unescape">
<code class="descclassname">translate.storage.trados.</code><code class="descname">unescape</code><span class="sig-paren">(</span><em>text</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.trados.unescape" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert Trados text to normal Unicode string</p>
</dd></dl>

<dl class="class">
<dt id="translate.storage.trados.TradosTxtDate">
<em class="property">class </em><code class="descclassname">translate.storage.trados.</code><code class="descname">TradosTxtDate</code><span class="sig-paren">(</span><em>newtime=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.trados.TradosTxtDate" title="Permalink to this definition">¶</a></dt>
<dd><p>Manages the timestamps in the Trados .txt format of DDMMYYY, hh:mm:ss</p>
<dl class="method">
<dt id="translate.storage.trados.TradosTxtDate.get_time">
<code class="descname">get_time</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.trados.TradosTxtDate.get_time" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the time_struct object</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.trados.TradosTxtDate.get_timestring">
<code class="descname">get_timestring</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.trados.TradosTxtDate.get_timestring" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the time in the Trados time format</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.trados.TradosTxtDate.set_time">
<code class="descname">set_time</code><span class="sig-paren">(</span><em>newtime</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.trados.TradosTxtDate.set_time" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the time_struct object</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>newtime</strong> (<em>time.time_struct</em>) – a new time object</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.trados.TradosTxtDate.set_timestring">
<code class="descname">set_timestring</code><span class="sig-paren">(</span><em>timestring</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.trados.TradosTxtDate.set_timestring" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the time_struct object using a Trados time formated string</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>timestring</strong> (<em>String</em>) – A Trados time string (DDMMYYYY, hh:mm:ss)</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.trados.TradosTxtDate.time">
<code class="descname">time</code><a class="headerlink" href="#translate.storage.trados.TradosTxtDate.time" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the time_struct object</p>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.trados.TradosTxtDate.timestring">
<code class="descname">timestring</code><a class="headerlink" href="#translate.storage.trados.TradosTxtDate.timestring" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the time in the Trados time format</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="translate.storage.trados.TradosUnit">
<em class="property">class </em><code class="descclassname">translate.storage.trados.</code><code class="descname">TradosUnit</code><span class="sig-paren">(</span><em>source=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.trados.TradosUnit" title="Permalink to this definition">¶</a></dt>
<dd><dl class="method">
<dt id="translate.storage.trados.TradosUnit.adderror">
<code class="descname">adderror</code><span class="sig-paren">(</span><em>errorname</em>, <em>errortext</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.trados.TradosUnit.adderror" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds an error message to this unit.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>errorname</strong> (<em>string</em>) – A single word to id the error.</li>
<li><strong>errortext</strong> (<em>string</em>) – The text describing the error.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.trados.TradosUnit.addlocation">
<code class="descname">addlocation</code><span class="sig-paren">(</span><em>location</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.trados.TradosUnit.addlocation" title="Permalink to this definition">¶</a></dt>
<dd><p>Add one location to the list of locations.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Shouldn’t be implemented if the format doesn’t support it.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.trados.TradosUnit.addlocations">
<code class="descname">addlocations</code><span class="sig-paren">(</span><em>location</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.trados.TradosUnit.addlocations" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a location or a list of locations.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Most classes shouldn’t need to implement this, but should rather
implement <code class="xref py py-meth docutils literal notranslate"><span class="pre">TranslationUnit.addlocation()</span></code>.</p>
</div>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">This method might be removed in future.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.trados.TradosUnit.addnote">
<code class="descname">addnote</code><span class="sig-paren">(</span><em>text</em>, <em>origin=None</em>, <em>position='append'</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.trados.TradosUnit.addnote" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds a note (comment).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>text</strong> (<em>string</em>) – Usually just a sentence or two.</li>
<li><strong>origin</strong> (<em>string</em>) – Specifies who/where the comment comes from.
Origin can be one of the following text strings:
- ‘translator’
- ‘developer’, ‘programmer’, ‘source code’ (synonyms)</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.trados.TradosUnit.buildfromunit">
<em class="property">classmethod </em><code class="descname">buildfromunit</code><span class="sig-paren">(</span><em>unit</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.trados.TradosUnit.buildfromunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Build a native unit from a foreign unit, preserving as much
information as possible.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.trados.TradosUnit.getcontext">
<code class="descname">getcontext</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.trados.TradosUnit.getcontext" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the message context.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.trados.TradosUnit.geterrors">
<code class="descname">geterrors</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.trados.TradosUnit.geterrors" title="Permalink to this definition">¶</a></dt>
<dd><p>Get all error messages.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">Dictionary</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.trados.TradosUnit.getid">
<code class="descname">getid</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.trados.TradosUnit.getid" title="Permalink to this definition">¶</a></dt>
<dd><p>A unique identifier for this unit.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">string</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">an identifier for this unit that is unique in the store</td>
</tr>
</tbody>
</table>
<p>Derived classes should override this in a way that guarantees a unique
identifier for each unit in the store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.trados.TradosUnit.getlocations">
<code class="descname">getlocations</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.trados.TradosUnit.getlocations" title="Permalink to this definition">¶</a></dt>
<dd><p>A list of source code locations.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">List</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Shouldn’t be implemented if the format doesn’t support it.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.trados.TradosUnit.getnotes">
<code class="descname">getnotes</code><span class="sig-paren">(</span><em>origin=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.trados.TradosUnit.getnotes" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns all notes about this unit.</p>
<p>It will probably be freeform text or something reasonable that can be
synthesised by the format.
It should not include location comments (see
<a class="reference internal" href="#translate.storage.base.TranslationUnit.getlocations" title="translate.storage.base.TranslationUnit.getlocations"><code class="xref py py-meth docutils literal notranslate"><span class="pre">getlocations()</span></code></a>).</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.trados.TradosUnit.gettargetlen">
<code class="descname">gettargetlen</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.trados.TradosUnit.gettargetlen" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the length of the target string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">Integer</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Plural forms might be combined.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.trados.TradosUnit.getunits">
<code class="descname">getunits</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.trados.TradosUnit.getunits" title="Permalink to this definition">¶</a></dt>
<dd><p>This unit in a list.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.trados.TradosUnit.hasplural">
<code class="descname">hasplural</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.trados.TradosUnit.hasplural" title="Permalink to this definition">¶</a></dt>
<dd><p>Tells whether or not this specific unit has plural strings.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.trados.TradosUnit.infer_state">
<code class="descname">infer_state</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.trados.TradosUnit.infer_state" title="Permalink to this definition">¶</a></dt>
<dd><p>Empty method that should be overridden in sub-classes to infer the
current state(_n) of the unit from its current state.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.trados.TradosUnit.isblank">
<code class="descname">isblank</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.trados.TradosUnit.isblank" title="Permalink to this definition">¶</a></dt>
<dd><p>Used to see if this unit has no source or target string.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This is probably used more to find translatable units,
and we might want to move in that direction rather and
get rid of this.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.trados.TradosUnit.isfuzzy">
<code class="descname">isfuzzy</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.trados.TradosUnit.isfuzzy" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit is fuzzy.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.trados.TradosUnit.isheader">
<code class="descname">isheader</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.trados.TradosUnit.isheader" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit is a header.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.trados.TradosUnit.isobsolete">
<code class="descname">isobsolete</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.trados.TradosUnit.isobsolete" title="Permalink to this definition">¶</a></dt>
<dd><p>indicate whether a unit is obsolete</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.trados.TradosUnit.isreview">
<code class="descname">isreview</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.trados.TradosUnit.isreview" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit needs review.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.trados.TradosUnit.istranslatable">
<code class="descname">istranslatable</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.trados.TradosUnit.istranslatable" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit can be translated.</p>
<p>This should be used to distinguish real units for translation from
header, obsolete, binary or other blank units.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.trados.TradosUnit.istranslated">
<code class="descname">istranslated</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.trados.TradosUnit.istranslated" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit is translated.</p>
<p>This should be used rather than deducing it from .target,
to ensure that other classes can implement more functionality
(as XLIFF does).</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.trados.TradosUnit.makeobsolete">
<code class="descname">makeobsolete</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.trados.TradosUnit.makeobsolete" title="Permalink to this definition">¶</a></dt>
<dd><p>Make a unit obsolete</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.trados.TradosUnit.markfuzzy">
<code class="descname">markfuzzy</code><span class="sig-paren">(</span><em>value=True</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.trados.TradosUnit.markfuzzy" title="Permalink to this definition">¶</a></dt>
<dd><p>Marks the unit as fuzzy or not.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.trados.TradosUnit.markreviewneeded">
<code class="descname">markreviewneeded</code><span class="sig-paren">(</span><em>needsreview=True</em>, <em>explanation=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.trados.TradosUnit.markreviewneeded" title="Permalink to this definition">¶</a></dt>
<dd><p>Marks the unit to indicate whether it needs review.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>needsreview</strong> – Defaults to True.</li>
<li><strong>explanation</strong> – Adds an optional explanation as a note.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.trados.TradosUnit.merge">
<code class="descname">merge</code><span class="sig-paren">(</span><em>otherunit</em>, <em>overwrite=False</em>, <em>comments=True</em>, <em>authoritative=False</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.trados.TradosUnit.merge" title="Permalink to this definition">¶</a></dt>
<dd><p>Do basic format agnostic merging.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.trados.TradosUnit.multistring_to_rich">
<code class="descname">multistring_to_rich</code><span class="sig-paren">(</span><em>mulstring</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.trados.TradosUnit.multistring_to_rich" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a multistring to a list of “rich” string trees:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">target</span> <span class="o">=</span> <span class="n">multistring</span><span class="p">([</span><span class="sa">u</span><span class="s1">&#39;foo&#39;</span><span class="p">,</span> <span class="sa">u</span><span class="s1">&#39;bar&#39;</span><span class="p">,</span> <span class="sa">u</span><span class="s1">&#39;baz&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">TranslationUnit</span><span class="o">.</span><span class="n">multistring_to_rich</span><span class="p">(</span><span class="n">target</span><span class="p">)</span>
<span class="go">[&lt;StringElem([&lt;StringElem([u&#39;foo&#39;])&gt;])&gt;,</span>
<span class="go"> &lt;StringElem([&lt;StringElem([u&#39;bar&#39;])&gt;])&gt;,</span>
<span class="go"> &lt;StringElem([&lt;StringElem([u&#39;baz&#39;])&gt;])&gt;]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.trados.TradosUnit.removenotes">
<code class="descname">removenotes</code><span class="sig-paren">(</span><em>origin=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.trados.TradosUnit.removenotes" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove all the translator’s notes.</p>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.trados.TradosUnit.rich_source">
<code class="descname">rich_source</code><a class="headerlink" href="#translate.storage.trados.TradosUnit.rich_source" title="Permalink to this definition">¶</a></dt>
<dd><div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="#translate.storage.trados.TradosUnit.rich_to_multistring" title="translate.storage.trados.TradosUnit.rich_to_multistring"><code class="xref py py-meth docutils literal notranslate"><span class="pre">rich_to_multistring()</span></code></a>, <a class="reference internal" href="#translate.storage.trados.TradosUnit.multistring_to_rich" title="translate.storage.trados.TradosUnit.multistring_to_rich"><code class="xref py py-meth docutils literal notranslate"><span class="pre">multistring_to_rich()</span></code></a></p>
</div>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.trados.TradosUnit.rich_target">
<code class="descname">rich_target</code><a class="headerlink" href="#translate.storage.trados.TradosUnit.rich_target" title="Permalink to this definition">¶</a></dt>
<dd><div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="#translate.storage.trados.TradosUnit.rich_to_multistring" title="translate.storage.trados.TradosUnit.rich_to_multistring"><code class="xref py py-meth docutils literal notranslate"><span class="pre">rich_to_multistring()</span></code></a>, <a class="reference internal" href="#translate.storage.trados.TradosUnit.multistring_to_rich" title="translate.storage.trados.TradosUnit.multistring_to_rich"><code class="xref py py-meth docutils literal notranslate"><span class="pre">multistring_to_rich()</span></code></a></p>
</div>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.trados.TradosUnit.rich_to_multistring">
<em class="property">classmethod </em><code class="descname">rich_to_multistring</code><span class="sig-paren">(</span><em>elem_list</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.trados.TradosUnit.rich_to_multistring" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a “rich” string tree to a <code class="docutils literal notranslate"><span class="pre">multistring</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">translate.storage.placeables.interfaces</span> <span class="kn">import</span> <span class="n">X</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rich</span> <span class="o">=</span> <span class="p">[</span><span class="n">StringElem</span><span class="p">([</span><span class="s1">&#39;foo&#39;</span><span class="p">,</span> <span class="n">X</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="s1">&#39;xxx&#39;</span><span class="p">,</span> <span class="n">sub</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39; &#39;</span><span class="p">]),</span> <span class="s1">&#39;bar&#39;</span><span class="p">])]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">TranslationUnit</span><span class="o">.</span><span class="n">rich_to_multistring</span><span class="p">(</span><span class="n">rich</span><span class="p">)</span>
<span class="go">multistring(u&#39;foo bar&#39;)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.trados.TradosUnit.setcontext">
<code class="descname">setcontext</code><span class="sig-paren">(</span><em>context</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.trados.TradosUnit.setcontext" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the message context</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.trados.TradosUnit.setid">
<code class="descname">setid</code><span class="sig-paren">(</span><em>value</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.trados.TradosUnit.setid" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the unique identified for this unit.</p>
<p>only implemented if format allows ids independant from other unit
properties like source or context</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.trados.TradosUnit.unit_iter">
<code class="descname">unit_iter</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.trados.TradosUnit.unit_iter" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterator that only returns this unit.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="translate.storage.trados.TradosTxtTmFile">
<em class="property">class </em><code class="descclassname">translate.storage.trados.</code><code class="descname">TradosTxtTmFile</code><span class="sig-paren">(</span><em>inputfile=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.trados.TradosTxtTmFile" title="Permalink to this definition">¶</a></dt>
<dd><p>A Trados translation memory file</p>
<dl class="attribute">
<dt id="translate.storage.trados.TradosTxtTmFile.UnitClass">
<code class="descname">UnitClass</code><a class="headerlink" href="#translate.storage.trados.TradosTxtTmFile.UnitClass" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <a class="reference internal" href="#translate.storage.trados.TradosUnit" title="translate.storage.trados.TradosUnit"><code class="xref py py-class docutils literal notranslate"><span class="pre">TradosUnit</span></code></a></p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.trados.TradosTxtTmFile.add_unit_to_index">
<code class="descname">add_unit_to_index</code><span class="sig-paren">(</span><em>unit</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.trados.TradosTxtTmFile.add_unit_to_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a unit to source and location idexes</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.trados.TradosTxtTmFile.addsourceunit">
<code class="descname">addsourceunit</code><span class="sig-paren">(</span><em>source</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.trados.TradosTxtTmFile.addsourceunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Add and returns a new unit with the given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><code class="xref py py-class docutils literal notranslate"><span class="pre">TranslationUnit</span></code></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.trados.TradosTxtTmFile.addunit">
<code class="descname">addunit</code><span class="sig-paren">(</span><em>unit</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.trados.TradosTxtTmFile.addunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Append the given unit to the object’s list of units.</p>
<p>This method should always be used rather than trying to modify the
list manually.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>unit</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">TranslationUnit</span></code>) – The unit that will be added.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.trados.TradosTxtTmFile.detect_encoding">
<code class="descname">detect_encoding</code><span class="sig-paren">(</span><em>text</em>, <em>default_encodings=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.trados.TradosTxtTmFile.detect_encoding" title="Permalink to this definition">¶</a></dt>
<dd><p>Try to detect a file encoding from <cite>text</cite>, using either the chardet lib
or by trying to decode the file.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.trados.TradosTxtTmFile.fallback_detection">
<code class="descname">fallback_detection</code><span class="sig-paren">(</span><em>text</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.trados.TradosTxtTmFile.fallback_detection" title="Permalink to this definition">¶</a></dt>
<dd><p>Simple detection based on BOM in case chardet is not available.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.trados.TradosTxtTmFile.findid">
<code class="descname">findid</code><span class="sig-paren">(</span><em>id</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.trados.TradosTxtTmFile.findid" title="Permalink to this definition">¶</a></dt>
<dd><p>find unit with matching id by checking id_index</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.trados.TradosTxtTmFile.findunit">
<code class="descname">findunit</code><span class="sig-paren">(</span><em>source</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.trados.TradosTxtTmFile.findunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the unit with the given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><code class="xref py py-class docutils literal notranslate"><span class="pre">TranslationUnit</span></code> or None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.trados.TradosTxtTmFile.findunits">
<code class="descname">findunits</code><span class="sig-paren">(</span><em>source</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.trados.TradosTxtTmFile.findunits" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the units with the given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><code class="xref py py-class docutils literal notranslate"><span class="pre">TranslationUnit</span></code> or None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.trados.TradosTxtTmFile.getids">
<code class="descname">getids</code><span class="sig-paren">(</span><em>filename=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.trados.TradosTxtTmFile.getids" title="Permalink to this definition">¶</a></dt>
<dd><p>return a list of unit ids</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.trados.TradosTxtTmFile.getprojectstyle">
<code class="descname">getprojectstyle</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.trados.TradosTxtTmFile.getprojectstyle" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the project type for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.trados.TradosTxtTmFile.getsourcelanguage">
<code class="descname">getsourcelanguage</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.trados.TradosTxtTmFile.getsourcelanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the source language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.trados.TradosTxtTmFile.gettargetlanguage">
<code class="descname">gettargetlanguage</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.trados.TradosTxtTmFile.gettargetlanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the target language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.trados.TradosTxtTmFile.getunits">
<code class="descname">getunits</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.trados.TradosTxtTmFile.getunits" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of all units in this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.trados.TradosTxtTmFile.isempty">
<code class="descname">isempty</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.trados.TradosTxtTmFile.isempty" title="Permalink to this definition">¶</a></dt>
<dd><p>Return True if the object doesn’t contain any translation units.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.trados.TradosTxtTmFile.makeindex">
<code class="descname">makeindex</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.trados.TradosTxtTmFile.makeindex" title="Permalink to this definition">¶</a></dt>
<dd><p>Indexes the items in this store. At least .sourceindex should be
useful.</p>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.trados.TradosTxtTmFile.merge_on">
<code class="descname">merge_on</code><a class="headerlink" href="#translate.storage.trados.TradosTxtTmFile.merge_on" title="Permalink to this definition">¶</a></dt>
<dd><p>The matching criterion to use when merging on.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The default matching criterion for all the subclasses.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">string</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.trados.TradosTxtTmFile.parse">
<code class="descname">parse</code><span class="sig-paren">(</span><em>input</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.trados.TradosTxtTmFile.parse" title="Permalink to this definition">¶</a></dt>
<dd><p>parser to process the given source string</p>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.trados.TradosTxtTmFile.parsefile">
<em class="property">classmethod </em><code class="descname">parsefile</code><span class="sig-paren">(</span><em>storefile</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.trados.TradosTxtTmFile.parsefile" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads the given file (or opens the given filename) and parses back
to an object.</p>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.trados.TradosTxtTmFile.parsestring">
<em class="property">classmethod </em><code class="descname">parsestring</code><span class="sig-paren">(</span><em>storestring</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.trados.TradosTxtTmFile.parsestring" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert the string representation back to an object.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.trados.TradosTxtTmFile.remove_unit_from_index">
<code class="descname">remove_unit_from_index</code><span class="sig-paren">(</span><em>unit</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.trados.TradosTxtTmFile.remove_unit_from_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove a unit from source and locaton indexes</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.trados.TradosTxtTmFile.require_index">
<code class="descname">require_index</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.trados.TradosTxtTmFile.require_index" title="Permalink to this definition">¶</a></dt>
<dd><p>make sure source index exists</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.trados.TradosTxtTmFile.save">
<code class="descname">save</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.trados.TradosTxtTmFile.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Save to the file that data was originally read from, if available.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.trados.TradosTxtTmFile.savefile">
<code class="descname">savefile</code><span class="sig-paren">(</span><em>storefile</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.trados.TradosTxtTmFile.savefile" title="Permalink to this definition">¶</a></dt>
<dd><p>Write the string representation to the given file (or filename).</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.trados.TradosTxtTmFile.serialize">
<code class="descname">serialize</code><span class="sig-paren">(</span><em>out</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.trados.TradosTxtTmFile.serialize" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts to a bytes representation that can be parsed back using
<a class="reference internal" href="#translate.storage.base.TranslationStore.parsestring" title="translate.storage.base.TranslationStore.parsestring"><code class="xref py py-meth docutils literal notranslate"><span class="pre">parsestring()</span></code></a>.
<cite>out</cite> should be an open file-like objects to write to.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.trados.TradosTxtTmFile.setprojectstyle">
<code class="descname">setprojectstyle</code><span class="sig-paren">(</span><em>project_style</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.trados.TradosTxtTmFile.setprojectstyle" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the project type for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.trados.TradosTxtTmFile.setsourcelanguage">
<code class="descname">setsourcelanguage</code><span class="sig-paren">(</span><em>sourcelanguage</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.trados.TradosTxtTmFile.setsourcelanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the source language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.trados.TradosTxtTmFile.settargetlanguage">
<code class="descname">settargetlanguage</code><span class="sig-paren">(</span><em>targetlanguage</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.trados.TradosTxtTmFile.settargetlanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the target language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.trados.TradosTxtTmFile.translate">
<code class="descname">translate</code><span class="sig-paren">(</span><em>source</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.trados.TradosTxtTmFile.translate" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the translated string for a given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">String or <a class="reference external" href="https://docs.python.org/2.7/library/constants.html#None" title="(in Python v2.7)">None</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.trados.TradosTxtTmFile.unit_iter">
<code class="descname">unit_iter</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.trados.TradosTxtTmFile.unit_iter" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterator over all the units in this store.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-translate.storage.ts2">
<span id="ts2"></span><h2>ts2<a class="headerlink" href="#module-translate.storage.ts2" title="Permalink to this headline">¶</a></h2>
<p>Module for handling Qt linguist (.ts) files.</p>
<p>This will eventually replace the older ts.py which only supports the older
format. While converters haven’t been updated to use this module, we retain
both.</p>
<p><a class="reference external" href="http://doc.qt.io/archives/4.3/linguist-ts-file-format.html">TS file format 4.3</a>,
<a class="reference external" href="http://doc.qt.io/qt-4.8/linguist-ts-file-format.html">4.8</a>,
<a class="reference external" href="http://doc.qt.io/qt-5/linguist-ts-file-format.html">5</a>.
<a class="reference external" href="http://svn.ez.no/svn/ezcomponents/trunk/Translation/docs/linguist-format.txt">Example</a>.</p>
<p><a class="reference external" href="http://doc.qt.io/qt-5/qstring.html#arg">Specification of the valid variable entries</a>,
<a class="reference external" href="http://doc.qt.io/qt-5/qstring.html#arg-2">2</a></p>
<dl class="class">
<dt id="translate.storage.ts2.tsfile">
<em class="property">class </em><code class="descclassname">translate.storage.ts2.</code><code class="descname">tsfile</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.ts2.tsfile" title="Permalink to this definition">¶</a></dt>
<dd><p>Class representing a TS file store.</p>
<dl class="attribute">
<dt id="translate.storage.ts2.tsfile.UnitClass">
<code class="descname">UnitClass</code><a class="headerlink" href="#translate.storage.ts2.tsfile.UnitClass" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <a class="reference internal" href="#translate.storage.ts2.tsunit" title="translate.storage.ts2.tsunit"><code class="xref py py-class docutils literal notranslate"><span class="pre">tsunit</span></code></a></p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ts2.tsfile.add_unit_to_index">
<code class="descname">add_unit_to_index</code><span class="sig-paren">(</span><em>unit</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.ts2.tsfile.add_unit_to_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a unit to source and location idexes</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ts2.tsfile.addheader">
<code class="descname">addheader</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.ts2.tsfile.addheader" title="Permalink to this definition">¶</a></dt>
<dd><p>Method to be overridden to initialise headers, etc.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ts2.tsfile.addsourceunit">
<code class="descname">addsourceunit</code><span class="sig-paren">(</span><em>source</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.ts2.tsfile.addsourceunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds and returns a new unit with the given string as first entry.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ts2.tsfile.addunit">
<code class="descname">addunit</code><span class="sig-paren">(</span><em>unit</em>, <em>new=True</em>, <em>contextname=None</em>, <em>comment=None</em>, <em>createifmissing=True</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.ts2.tsfile.addunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds the given unit to the last used body node (current context).</p>
<p>If the contextname is specified, switch to that context (creating it if
allowed by createifmissing).</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ts2.tsfile.detect_encoding">
<code class="descname">detect_encoding</code><span class="sig-paren">(</span><em>text</em>, <em>default_encodings=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.ts2.tsfile.detect_encoding" title="Permalink to this definition">¶</a></dt>
<dd><p>Try to detect a file encoding from <cite>text</cite>, using either the chardet lib
or by trying to decode the file.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ts2.tsfile.fallback_detection">
<code class="descname">fallback_detection</code><span class="sig-paren">(</span><em>text</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.ts2.tsfile.fallback_detection" title="Permalink to this definition">¶</a></dt>
<dd><p>Simple detection based on BOM in case chardet is not available.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ts2.tsfile.findid">
<code class="descname">findid</code><span class="sig-paren">(</span><em>id</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.ts2.tsfile.findid" title="Permalink to this definition">¶</a></dt>
<dd><p>find unit with matching id by checking id_index</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ts2.tsfile.findunit">
<code class="descname">findunit</code><span class="sig-paren">(</span><em>source</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.ts2.tsfile.findunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the unit with the given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><code class="xref py py-class docutils literal notranslate"><span class="pre">TranslationUnit</span></code> or None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ts2.tsfile.findunits">
<code class="descname">findunits</code><span class="sig-paren">(</span><em>source</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.ts2.tsfile.findunits" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the units with the given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><code class="xref py py-class docutils literal notranslate"><span class="pre">TranslationUnit</span></code> or None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ts2.tsfile.getids">
<code class="descname">getids</code><span class="sig-paren">(</span><em>filename=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.ts2.tsfile.getids" title="Permalink to this definition">¶</a></dt>
<dd><p>return a list of unit ids</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ts2.tsfile.getprojectstyle">
<code class="descname">getprojectstyle</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.ts2.tsfile.getprojectstyle" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the project type for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ts2.tsfile.getsourcelanguage">
<code class="descname">getsourcelanguage</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.ts2.tsfile.getsourcelanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the source language for this .ts file.</p>
<p>The ‘sourcelanguage’ attribute was only added to the TS format in
Qt v4.5. We return ‘en’ if there is no sourcelanguage set.</p>
<p>We don’t implement setsourcelanguage as users really shouldn’t be
altering the source language in .ts files, it should be set correctly
by the extraction tools.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">ISO code e.g. af, fr, pt_BR</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">String</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ts2.tsfile.gettargetlanguage">
<code class="descname">gettargetlanguage</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.ts2.tsfile.gettargetlanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the target language for this .ts file.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">ISO code e.g. af, fr, pt_BR</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">String</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ts2.tsfile.getunits">
<code class="descname">getunits</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.ts2.tsfile.getunits" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of all units in this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ts2.tsfile.initbody">
<code class="descname">initbody</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.ts2.tsfile.initbody" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialises self.body.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ts2.tsfile.isempty">
<code class="descname">isempty</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.ts2.tsfile.isempty" title="Permalink to this definition">¶</a></dt>
<dd><p>Return True if the object doesn’t contain any translation units.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ts2.tsfile.makeindex">
<code class="descname">makeindex</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.ts2.tsfile.makeindex" title="Permalink to this definition">¶</a></dt>
<dd><p>Indexes the items in this store. At least .sourceindex should be
useful.</p>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.ts2.tsfile.merge_on">
<code class="descname">merge_on</code><a class="headerlink" href="#translate.storage.ts2.tsfile.merge_on" title="Permalink to this definition">¶</a></dt>
<dd><p>The matching criterion to use when merging on.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The default matching criterion for all the subclasses.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">string</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ts2.tsfile.namespaced">
<code class="descname">namespaced</code><span class="sig-paren">(</span><em>name</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.ts2.tsfile.namespaced" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns name in Clark notation.</p>
<p>For example <code class="docutils literal notranslate"><span class="pre">namespaced(&quot;source&quot;)</span></code> in an XLIFF document
might return:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span><span class="n">urn</span><span class="p">:</span><span class="n">oasis</span><span class="p">:</span><span class="n">names</span><span class="p">:</span><span class="n">tc</span><span class="p">:</span><span class="n">xliff</span><span class="p">:</span><span class="n">document</span><span class="p">:</span><span class="mf">1.1</span><span class="p">}</span><span class="n">source</span>
</pre></div>
</div>
<p>This is needed throughout lxml.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ts2.tsfile.parse">
<code class="descname">parse</code><span class="sig-paren">(</span><em>xml</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.ts2.tsfile.parse" title="Permalink to this definition">¶</a></dt>
<dd><p>Populates this object from the given xml string</p>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.ts2.tsfile.parsefile">
<em class="property">classmethod </em><code class="descname">parsefile</code><span class="sig-paren">(</span><em>storefile</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.ts2.tsfile.parsefile" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads the given file (or opens the given filename) and parses back
to an object.</p>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.ts2.tsfile.parsestring">
<em class="property">classmethod </em><code class="descname">parsestring</code><span class="sig-paren">(</span><em>storestring</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.ts2.tsfile.parsestring" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert the string representation back to an object.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ts2.tsfile.remove_unit_from_index">
<code class="descname">remove_unit_from_index</code><span class="sig-paren">(</span><em>unit</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.ts2.tsfile.remove_unit_from_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove a unit from source and locaton indexes</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ts2.tsfile.require_index">
<code class="descname">require_index</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.ts2.tsfile.require_index" title="Permalink to this definition">¶</a></dt>
<dd><p>make sure source index exists</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ts2.tsfile.save">
<code class="descname">save</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.ts2.tsfile.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Save to the file that data was originally read from, if available.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ts2.tsfile.savefile">
<code class="descname">savefile</code><span class="sig-paren">(</span><em>storefile</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.ts2.tsfile.savefile" title="Permalink to this definition">¶</a></dt>
<dd><p>Write the string representation to the given file (or filename).</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ts2.tsfile.serialize">
<code class="descname">serialize</code><span class="sig-paren">(</span><em>out</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.ts2.tsfile.serialize" title="Permalink to this definition">¶</a></dt>
<dd><p>Write the XML document to a file.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ts2.tsfile.setprojectstyle">
<code class="descname">setprojectstyle</code><span class="sig-paren">(</span><em>project_style</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.ts2.tsfile.setprojectstyle" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the project type for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ts2.tsfile.setsourcelanguage">
<code class="descname">setsourcelanguage</code><span class="sig-paren">(</span><em>sourcelanguage</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.ts2.tsfile.setsourcelanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the source language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ts2.tsfile.settargetlanguage">
<code class="descname">settargetlanguage</code><span class="sig-paren">(</span><em>targetlanguage</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.ts2.tsfile.settargetlanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the target language for this .ts file to <em>targetlanguage</em>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>targetlanguage</strong> (<em>String</em>) – ISO code e.g. af, fr, pt_BR</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ts2.tsfile.translate">
<code class="descname">translate</code><span class="sig-paren">(</span><em>source</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.ts2.tsfile.translate" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the translated string for a given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">String or <a class="reference external" href="https://docs.python.org/2.7/library/constants.html#None" title="(in Python v2.7)">None</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ts2.tsfile.unit_iter">
<code class="descname">unit_iter</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.ts2.tsfile.unit_iter" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterator over all the units in this store.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="translate.storage.ts2.tsunit">
<em class="property">class </em><code class="descclassname">translate.storage.ts2.</code><code class="descname">tsunit</code><span class="sig-paren">(</span><em>source</em>, <em>empty=False</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.ts2.tsunit" title="Permalink to this definition">¶</a></dt>
<dd><p>A single term in the TS file.</p>
<dl class="method">
<dt id="translate.storage.ts2.tsunit.adderror">
<code class="descname">adderror</code><span class="sig-paren">(</span><em>errorname</em>, <em>errortext</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.ts2.tsunit.adderror" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds an error message to this unit.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>errorname</strong> (<em>string</em>) – A single word to id the error.</li>
<li><strong>errortext</strong> (<em>string</em>) – The text describing the error.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ts2.tsunit.addlocation">
<code class="descname">addlocation</code><span class="sig-paren">(</span><em>location</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.ts2.tsunit.addlocation" title="Permalink to this definition">¶</a></dt>
<dd><p>Add one location to the list of locations.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Shouldn’t be implemented if the format doesn’t support it.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ts2.tsunit.addlocations">
<code class="descname">addlocations</code><span class="sig-paren">(</span><em>location</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.ts2.tsunit.addlocations" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a location or a list of locations.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Most classes shouldn’t need to implement this, but should rather
implement <code class="xref py py-meth docutils literal notranslate"><span class="pre">TranslationUnit.addlocation()</span></code>.</p>
</div>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">This method might be removed in future.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ts2.tsunit.addnote">
<code class="descname">addnote</code><span class="sig-paren">(</span><em>text</em>, <em>origin=None</em>, <em>position='append'</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.ts2.tsunit.addnote" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a note specifically in the appropriate <em>comment</em> tag</p>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.ts2.tsunit.buildfromunit">
<em class="property">classmethod </em><code class="descname">buildfromunit</code><span class="sig-paren">(</span><em>unit</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.ts2.tsunit.buildfromunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Build a native unit from a foreign unit, preserving as much
information as possible.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ts2.tsunit.createlanguageNode">
<code class="descname">createlanguageNode</code><span class="sig-paren">(</span><em>lang</em>, <em>text</em>, <em>purpose</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.ts2.tsunit.createlanguageNode" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns an xml Element setup with given parameters.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ts2.tsunit.getNodeText">
<code class="descname">getNodeText</code><span class="sig-paren">(</span><em>languageNode</em>, <em>xml_space='preserve'</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.ts2.tsunit.getNodeText" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieves the term from the given <code class="xref py py-attr docutils literal notranslate"><span class="pre">languageNode</span></code>.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ts2.tsunit.getcontext">
<code class="descname">getcontext</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.ts2.tsunit.getcontext" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the message context.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ts2.tsunit.geterrors">
<code class="descname">geterrors</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.ts2.tsunit.geterrors" title="Permalink to this definition">¶</a></dt>
<dd><p>Get all error messages.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">Dictionary</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ts2.tsunit.getid">
<code class="descname">getid</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.ts2.tsunit.getid" title="Permalink to this definition">¶</a></dt>
<dd><p>A unique identifier for this unit.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">string</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">an identifier for this unit that is unique in the store</td>
</tr>
</tbody>
</table>
<p>Derived classes should override this in a way that guarantees a unique
identifier for each unit in the store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ts2.tsunit.getlanguageNode">
<code class="descname">getlanguageNode</code><span class="sig-paren">(</span><em>lang=None</em>, <em>index=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.ts2.tsunit.getlanguageNode" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieves a <code class="xref py py-attr docutils literal notranslate"><span class="pre">languageNode</span></code> either by language or by index.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ts2.tsunit.getlanguageNodes">
<code class="descname">getlanguageNodes</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.ts2.tsunit.getlanguageNodes" title="Permalink to this definition">¶</a></dt>
<dd><p>We override this to get source and target nodes.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ts2.tsunit.getlocations">
<code class="descname">getlocations</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.ts2.tsunit.getlocations" title="Permalink to this definition">¶</a></dt>
<dd><p>A list of source code locations.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">List</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Shouldn’t be implemented if the format doesn’t support it.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ts2.tsunit.getnotes">
<code class="descname">getnotes</code><span class="sig-paren">(</span><em>origin=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.ts2.tsunit.getnotes" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns all notes about this unit.</p>
<p>It will probably be freeform text or something reasonable that can be
synthesised by the format.
It should not include location comments (see
<a class="reference internal" href="#translate.storage.base.TranslationUnit.getlocations" title="translate.storage.base.TranslationUnit.getlocations"><code class="xref py py-meth docutils literal notranslate"><span class="pre">getlocations()</span></code></a>).</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ts2.tsunit.gettarget">
<code class="descname">gettarget</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.ts2.tsunit.gettarget" title="Permalink to this definition">¶</a></dt>
<dd><p>retrieves the “target” text (second entry), or the entry in the
specified language, if it exists</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ts2.tsunit.gettargetlen">
<code class="descname">gettargetlen</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.ts2.tsunit.gettargetlen" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the length of the target string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">Integer</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Plural forms might be combined.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ts2.tsunit.getunits">
<code class="descname">getunits</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.ts2.tsunit.getunits" title="Permalink to this definition">¶</a></dt>
<dd><p>This unit in a list.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ts2.tsunit.hasplural">
<code class="descname">hasplural</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.ts2.tsunit.hasplural" title="Permalink to this definition">¶</a></dt>
<dd><p>Tells whether or not this specific unit has plural strings.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ts2.tsunit.infer_state">
<code class="descname">infer_state</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.ts2.tsunit.infer_state" title="Permalink to this definition">¶</a></dt>
<dd><p>Empty method that should be overridden in sub-classes to infer the
current state(_n) of the unit from its current state.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ts2.tsunit.isblank">
<code class="descname">isblank</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.ts2.tsunit.isblank" title="Permalink to this definition">¶</a></dt>
<dd><p>Used to see if this unit has no source or target string.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This is probably used more to find translatable units,
and we might want to move in that direction rather and
get rid of this.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ts2.tsunit.isfuzzy">
<code class="descname">isfuzzy</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.ts2.tsunit.isfuzzy" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit is fuzzy.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ts2.tsunit.isheader">
<code class="descname">isheader</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.ts2.tsunit.isheader" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit is a header.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ts2.tsunit.isobsolete">
<code class="descname">isobsolete</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.ts2.tsunit.isobsolete" title="Permalink to this definition">¶</a></dt>
<dd><p>indicate whether a unit is obsolete</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ts2.tsunit.isreview">
<code class="descname">isreview</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.ts2.tsunit.isreview" title="Permalink to this definition">¶</a></dt>
<dd><p>States whether this unit needs to be reviewed</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ts2.tsunit.istranslatable">
<code class="descname">istranslatable</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.ts2.tsunit.istranslatable" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit can be translated.</p>
<p>This should be used to distinguish real units for translation from
header, obsolete, binary or other blank units.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ts2.tsunit.istranslated">
<code class="descname">istranslated</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.ts2.tsunit.istranslated" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit is translated.</p>
<p>This should be used rather than deducing it from .target,
to ensure that other classes can implement more functionality
(as XLIFF does).</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ts2.tsunit.makeobsolete">
<code class="descname">makeobsolete</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.ts2.tsunit.makeobsolete" title="Permalink to this definition">¶</a></dt>
<dd><p>Make a unit obsolete</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ts2.tsunit.markfuzzy">
<code class="descname">markfuzzy</code><span class="sig-paren">(</span><em>value=True</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.ts2.tsunit.markfuzzy" title="Permalink to this definition">¶</a></dt>
<dd><p>Marks the unit as fuzzy or not.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ts2.tsunit.markreviewneeded">
<code class="descname">markreviewneeded</code><span class="sig-paren">(</span><em>needsreview=True</em>, <em>explanation=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.ts2.tsunit.markreviewneeded" title="Permalink to this definition">¶</a></dt>
<dd><p>Marks the unit to indicate whether it needs review.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>needsreview</strong> – Defaults to True.</li>
<li><strong>explanation</strong> – Adds an optional explanation as a note.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ts2.tsunit.merge">
<code class="descname">merge</code><span class="sig-paren">(</span><em>otherunit</em>, <em>overwrite=False</em>, <em>comments=True</em>, <em>authoritative=False</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.ts2.tsunit.merge" title="Permalink to this definition">¶</a></dt>
<dd><p>Do basic format agnostic merging.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ts2.tsunit.multistring_to_rich">
<code class="descname">multistring_to_rich</code><span class="sig-paren">(</span><em>mulstring</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.ts2.tsunit.multistring_to_rich" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a multistring to a list of “rich” string trees:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">target</span> <span class="o">=</span> <span class="n">multistring</span><span class="p">([</span><span class="sa">u</span><span class="s1">&#39;foo&#39;</span><span class="p">,</span> <span class="sa">u</span><span class="s1">&#39;bar&#39;</span><span class="p">,</span> <span class="sa">u</span><span class="s1">&#39;baz&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">TranslationUnit</span><span class="o">.</span><span class="n">multistring_to_rich</span><span class="p">(</span><span class="n">target</span><span class="p">)</span>
<span class="go">[&lt;StringElem([&lt;StringElem([u&#39;foo&#39;])&gt;])&gt;,</span>
<span class="go"> &lt;StringElem([&lt;StringElem([u&#39;bar&#39;])&gt;])&gt;,</span>
<span class="go"> &lt;StringElem([&lt;StringElem([u&#39;baz&#39;])&gt;])&gt;]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ts2.tsunit.namespaced">
<code class="descname">namespaced</code><span class="sig-paren">(</span><em>name</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.ts2.tsunit.namespaced" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns name in Clark notation.</p>
<p>For example <code class="docutils literal notranslate"><span class="pre">namespaced(&quot;source&quot;)</span></code> in an XLIFF document
might return:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span><span class="n">urn</span><span class="p">:</span><span class="n">oasis</span><span class="p">:</span><span class="n">names</span><span class="p">:</span><span class="n">tc</span><span class="p">:</span><span class="n">xliff</span><span class="p">:</span><span class="n">document</span><span class="p">:</span><span class="mf">1.1</span><span class="p">}</span><span class="n">source</span>
</pre></div>
</div>
<p>This is needed throughout lxml.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ts2.tsunit.removenotes">
<code class="descname">removenotes</code><span class="sig-paren">(</span><em>origin=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.ts2.tsunit.removenotes" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove all the translator notes.</p>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.ts2.tsunit.rich_source">
<code class="descname">rich_source</code><a class="headerlink" href="#translate.storage.ts2.tsunit.rich_source" title="Permalink to this definition">¶</a></dt>
<dd><div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="#translate.storage.ts2.tsunit.rich_to_multistring" title="translate.storage.ts2.tsunit.rich_to_multistring"><code class="xref py py-meth docutils literal notranslate"><span class="pre">rich_to_multistring()</span></code></a>, <a class="reference internal" href="#translate.storage.ts2.tsunit.multistring_to_rich" title="translate.storage.ts2.tsunit.multistring_to_rich"><code class="xref py py-meth docutils literal notranslate"><span class="pre">multistring_to_rich()</span></code></a></p>
</div>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.ts2.tsunit.rich_target">
<code class="descname">rich_target</code><a class="headerlink" href="#translate.storage.ts2.tsunit.rich_target" title="Permalink to this definition">¶</a></dt>
<dd><div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="#translate.storage.ts2.tsunit.rich_to_multistring" title="translate.storage.ts2.tsunit.rich_to_multistring"><code class="xref py py-meth docutils literal notranslate"><span class="pre">rich_to_multistring()</span></code></a>, <a class="reference internal" href="#translate.storage.ts2.tsunit.multistring_to_rich" title="translate.storage.ts2.tsunit.multistring_to_rich"><code class="xref py py-meth docutils literal notranslate"><span class="pre">multistring_to_rich()</span></code></a></p>
</div>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.ts2.tsunit.rich_to_multistring">
<em class="property">classmethod </em><code class="descname">rich_to_multistring</code><span class="sig-paren">(</span><em>elem_list</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.ts2.tsunit.rich_to_multistring" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a “rich” string tree to a <code class="docutils literal notranslate"><span class="pre">multistring</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">translate.storage.placeables.interfaces</span> <span class="kn">import</span> <span class="n">X</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rich</span> <span class="o">=</span> <span class="p">[</span><span class="n">StringElem</span><span class="p">([</span><span class="s1">&#39;foo&#39;</span><span class="p">,</span> <span class="n">X</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="s1">&#39;xxx&#39;</span><span class="p">,</span> <span class="n">sub</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39; &#39;</span><span class="p">]),</span> <span class="s1">&#39;bar&#39;</span><span class="p">])]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">TranslationUnit</span><span class="o">.</span><span class="n">rich_to_multistring</span><span class="p">(</span><span class="n">rich</span><span class="p">)</span>
<span class="go">multistring(u&#39;foo bar&#39;)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ts2.tsunit.setcontext">
<code class="descname">setcontext</code><span class="sig-paren">(</span><em>value</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.ts2.tsunit.setcontext" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the message context</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ts2.tsunit.setid">
<code class="descname">setid</code><span class="sig-paren">(</span><em>value</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.ts2.tsunit.setid" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the unique identified for this unit.</p>
<p>only implemented if format allows ids independant from other unit
properties like source or context</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ts2.tsunit.settarget">
<code class="descname">settarget</code><span class="sig-paren">(</span><em>target</em>, <em>lang='xx'</em>, <em>append=False</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.ts2.tsunit.settarget" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the “target” string (second language), or alternatively appends
to the list</p>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.ts2.tsunit.statemap">
<code class="descname">statemap</code><em class="property"> = {None: 100, '': 100, 'obsolete': -100, 'unfinished': 30}</em><a class="headerlink" href="#translate.storage.ts2.tsunit.statemap" title="Permalink to this definition">¶</a></dt>
<dd><p>This maps the unit “type” attribute to state.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.ts2.tsunit.unit_iter">
<code class="descname">unit_iter</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.ts2.tsunit.unit_iter" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterator that only returns this unit.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-translate.storage.ts">
<span id="ts"></span><h2>ts<a class="headerlink" href="#module-translate.storage.ts" title="Permalink to this headline">¶</a></h2>
<p>Module for parsing Qt .ts files for translation.</p>
<p>Currently this module supports the old format of .ts files. Some applictaions
use the newer .ts format which are documented here:
<a class="reference external" href="http://doc.qt.io/archives/4.3/linguist-ts-file-format.html">TS file format 4.3</a>,
<a class="reference external" href="http://svn.ez.no/svn/ezcomponents/trunk/Translation/docs/linguist-format.txt">Example</a></p>
<p><a class="reference external" href="http://doc.qt.io/qt-5/qstring.html#arg">Specification of the valid variable entries</a>,
<a class="reference external" href="http://doc.qt.io/qt-5/qstring.html#arg-2">2</a></p>
</div>
<div class="section" id="module-translate.storage.txt">
<span id="txt"></span><h2>txt<a class="headerlink" href="#module-translate.storage.txt" title="Permalink to this headline">¶</a></h2>
<p>This class implements the functionality for handling plain text files, or
similar wiki type files.</p>
<dl class="docutils">
<dt>Supported formats are</dt>
<dd><ul class="first last simple">
<li>Plain text</li>
<li>dokuwiki</li>
<li>MediaWiki</li>
</ul>
</dd>
</dl>
<dl class="class">
<dt id="translate.storage.txt.TxtFile">
<em class="property">class </em><code class="descclassname">translate.storage.txt.</code><code class="descname">TxtFile</code><span class="sig-paren">(</span><em>inputfile=None</em>, <em>flavour=None</em>, <em>no_segmentation=False</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.txt.TxtFile" title="Permalink to this definition">¶</a></dt>
<dd><p>This class represents a text file, made up of txtunits</p>
<dl class="attribute">
<dt id="translate.storage.txt.TxtFile.UnitClass">
<code class="descname">UnitClass</code><a class="headerlink" href="#translate.storage.txt.TxtFile.UnitClass" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <a class="reference internal" href="#translate.storage.txt.TxtUnit" title="translate.storage.txt.TxtUnit"><code class="xref py py-class docutils literal notranslate"><span class="pre">TxtUnit</span></code></a></p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.txt.TxtFile.add_unit_to_index">
<code class="descname">add_unit_to_index</code><span class="sig-paren">(</span><em>unit</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.txt.TxtFile.add_unit_to_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a unit to source and location idexes</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.txt.TxtFile.addsourceunit">
<code class="descname">addsourceunit</code><span class="sig-paren">(</span><em>source</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.txt.TxtFile.addsourceunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Add and returns a new unit with the given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><code class="xref py py-class docutils literal notranslate"><span class="pre">TranslationUnit</span></code></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.txt.TxtFile.addunit">
<code class="descname">addunit</code><span class="sig-paren">(</span><em>unit</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.txt.TxtFile.addunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Append the given unit to the object’s list of units.</p>
<p>This method should always be used rather than trying to modify the
list manually.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>unit</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">TranslationUnit</span></code>) – The unit that will be added.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.txt.TxtFile.detect_encoding">
<code class="descname">detect_encoding</code><span class="sig-paren">(</span><em>text</em>, <em>default_encodings=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.txt.TxtFile.detect_encoding" title="Permalink to this definition">¶</a></dt>
<dd><p>Try to detect a file encoding from <cite>text</cite>, using either the chardet lib
or by trying to decode the file.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.txt.TxtFile.fallback_detection">
<code class="descname">fallback_detection</code><span class="sig-paren">(</span><em>text</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.txt.TxtFile.fallback_detection" title="Permalink to this definition">¶</a></dt>
<dd><p>Simple detection based on BOM in case chardet is not available.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.txt.TxtFile.findid">
<code class="descname">findid</code><span class="sig-paren">(</span><em>id</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.txt.TxtFile.findid" title="Permalink to this definition">¶</a></dt>
<dd><p>find unit with matching id by checking id_index</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.txt.TxtFile.findunit">
<code class="descname">findunit</code><span class="sig-paren">(</span><em>source</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.txt.TxtFile.findunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the unit with the given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><code class="xref py py-class docutils literal notranslate"><span class="pre">TranslationUnit</span></code> or None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.txt.TxtFile.findunits">
<code class="descname">findunits</code><span class="sig-paren">(</span><em>source</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.txt.TxtFile.findunits" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the units with the given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><code class="xref py py-class docutils literal notranslate"><span class="pre">TranslationUnit</span></code> or None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.txt.TxtFile.getids">
<code class="descname">getids</code><span class="sig-paren">(</span><em>filename=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.txt.TxtFile.getids" title="Permalink to this definition">¶</a></dt>
<dd><p>return a list of unit ids</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.txt.TxtFile.getprojectstyle">
<code class="descname">getprojectstyle</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.txt.TxtFile.getprojectstyle" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the project type for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.txt.TxtFile.getsourcelanguage">
<code class="descname">getsourcelanguage</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.txt.TxtFile.getsourcelanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the source language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.txt.TxtFile.gettargetlanguage">
<code class="descname">gettargetlanguage</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.txt.TxtFile.gettargetlanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the target language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.txt.TxtFile.getunits">
<code class="descname">getunits</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.txt.TxtFile.getunits" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of all units in this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.txt.TxtFile.isempty">
<code class="descname">isempty</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.txt.TxtFile.isempty" title="Permalink to this definition">¶</a></dt>
<dd><p>Return True if the object doesn’t contain any translation units.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.txt.TxtFile.makeindex">
<code class="descname">makeindex</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.txt.TxtFile.makeindex" title="Permalink to this definition">¶</a></dt>
<dd><p>Indexes the items in this store. At least .sourceindex should be
useful.</p>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.txt.TxtFile.merge_on">
<code class="descname">merge_on</code><a class="headerlink" href="#translate.storage.txt.TxtFile.merge_on" title="Permalink to this definition">¶</a></dt>
<dd><p>The matching criterion to use when merging on.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The default matching criterion for all the subclasses.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">string</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.txt.TxtFile.parse">
<code class="descname">parse</code><span class="sig-paren">(</span><em>lines</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.txt.TxtFile.parse" title="Permalink to this definition">¶</a></dt>
<dd><p>Read in text lines and create txtunits from the blocks of text</p>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.txt.TxtFile.parsefile">
<em class="property">classmethod </em><code class="descname">parsefile</code><span class="sig-paren">(</span><em>storefile</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.txt.TxtFile.parsefile" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads the given file (or opens the given filename) and parses back
to an object.</p>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.txt.TxtFile.parsestring">
<em class="property">classmethod </em><code class="descname">parsestring</code><span class="sig-paren">(</span><em>storestring</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.txt.TxtFile.parsestring" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert the string representation back to an object.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.txt.TxtFile.remove_unit_from_index">
<code class="descname">remove_unit_from_index</code><span class="sig-paren">(</span><em>unit</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.txt.TxtFile.remove_unit_from_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove a unit from source and locaton indexes</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.txt.TxtFile.require_index">
<code class="descname">require_index</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.txt.TxtFile.require_index" title="Permalink to this definition">¶</a></dt>
<dd><p>make sure source index exists</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.txt.TxtFile.save">
<code class="descname">save</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.txt.TxtFile.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Save to the file that data was originally read from, if available.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.txt.TxtFile.savefile">
<code class="descname">savefile</code><span class="sig-paren">(</span><em>storefile</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.txt.TxtFile.savefile" title="Permalink to this definition">¶</a></dt>
<dd><p>Write the string representation to the given file (or filename).</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.txt.TxtFile.serialize">
<code class="descname">serialize</code><span class="sig-paren">(</span><em>out</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.txt.TxtFile.serialize" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts to a bytes representation that can be parsed back using
<a class="reference internal" href="#translate.storage.base.TranslationStore.parsestring" title="translate.storage.base.TranslationStore.parsestring"><code class="xref py py-meth docutils literal notranslate"><span class="pre">parsestring()</span></code></a>.
<cite>out</cite> should be an open file-like objects to write to.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.txt.TxtFile.setprojectstyle">
<code class="descname">setprojectstyle</code><span class="sig-paren">(</span><em>project_style</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.txt.TxtFile.setprojectstyle" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the project type for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.txt.TxtFile.setsourcelanguage">
<code class="descname">setsourcelanguage</code><span class="sig-paren">(</span><em>sourcelanguage</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.txt.TxtFile.setsourcelanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the source language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.txt.TxtFile.settargetlanguage">
<code class="descname">settargetlanguage</code><span class="sig-paren">(</span><em>targetlanguage</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.txt.TxtFile.settargetlanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the target language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.txt.TxtFile.translate">
<code class="descname">translate</code><span class="sig-paren">(</span><em>source</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.txt.TxtFile.translate" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the translated string for a given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">String or <a class="reference external" href="https://docs.python.org/2.7/library/constants.html#None" title="(in Python v2.7)">None</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.txt.TxtFile.unit_iter">
<code class="descname">unit_iter</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.txt.TxtFile.unit_iter" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterator over all the units in this store.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="translate.storage.txt.TxtUnit">
<em class="property">class </em><code class="descclassname">translate.storage.txt.</code><code class="descname">TxtUnit</code><span class="sig-paren">(</span><em>source=''</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.txt.TxtUnit" title="Permalink to this definition">¶</a></dt>
<dd><p>This class represents a block of text from a text file</p>
<dl class="method">
<dt id="translate.storage.txt.TxtUnit.adderror">
<code class="descname">adderror</code><span class="sig-paren">(</span><em>errorname</em>, <em>errortext</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.txt.TxtUnit.adderror" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds an error message to this unit.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>errorname</strong> (<em>string</em>) – A single word to id the error.</li>
<li><strong>errortext</strong> (<em>string</em>) – The text describing the error.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.txt.TxtUnit.addlocation">
<code class="descname">addlocation</code><span class="sig-paren">(</span><em>location</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.txt.TxtUnit.addlocation" title="Permalink to this definition">¶</a></dt>
<dd><p>Add one location to the list of locations.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Shouldn’t be implemented if the format doesn’t support it.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.txt.TxtUnit.addlocations">
<code class="descname">addlocations</code><span class="sig-paren">(</span><em>location</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.txt.TxtUnit.addlocations" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a location or a list of locations.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Most classes shouldn’t need to implement this, but should rather
implement <code class="xref py py-meth docutils literal notranslate"><span class="pre">TranslationUnit.addlocation()</span></code>.</p>
</div>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">This method might be removed in future.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.txt.TxtUnit.addnote">
<code class="descname">addnote</code><span class="sig-paren">(</span><em>text</em>, <em>origin=None</em>, <em>position='append'</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.txt.TxtUnit.addnote" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds a note (comment).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>text</strong> (<em>string</em>) – Usually just a sentence or two.</li>
<li><strong>origin</strong> (<em>string</em>) – Specifies who/where the comment comes from.
Origin can be one of the following text strings:
- ‘translator’
- ‘developer’, ‘programmer’, ‘source code’ (synonyms)</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.txt.TxtUnit.buildfromunit">
<em class="property">classmethod </em><code class="descname">buildfromunit</code><span class="sig-paren">(</span><em>unit</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.txt.TxtUnit.buildfromunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Build a native unit from a foreign unit, preserving as much
information as possible.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.txt.TxtUnit.getcontext">
<code class="descname">getcontext</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.txt.TxtUnit.getcontext" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the message context.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.txt.TxtUnit.geterrors">
<code class="descname">geterrors</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.txt.TxtUnit.geterrors" title="Permalink to this definition">¶</a></dt>
<dd><p>Get all error messages.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">Dictionary</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.txt.TxtUnit.getid">
<code class="descname">getid</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.txt.TxtUnit.getid" title="Permalink to this definition">¶</a></dt>
<dd><p>A unique identifier for this unit.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">string</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">an identifier for this unit that is unique in the store</td>
</tr>
</tbody>
</table>
<p>Derived classes should override this in a way that guarantees a unique
identifier for each unit in the store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.txt.TxtUnit.getlocations">
<code class="descname">getlocations</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.txt.TxtUnit.getlocations" title="Permalink to this definition">¶</a></dt>
<dd><p>A list of source code locations.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">List</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Shouldn’t be implemented if the format doesn’t support it.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.txt.TxtUnit.getnotes">
<code class="descname">getnotes</code><span class="sig-paren">(</span><em>origin=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.txt.TxtUnit.getnotes" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns all notes about this unit.</p>
<p>It will probably be freeform text or something reasonable that can be
synthesised by the format.
It should not include location comments (see
<a class="reference internal" href="#translate.storage.base.TranslationUnit.getlocations" title="translate.storage.base.TranslationUnit.getlocations"><code class="xref py py-meth docutils literal notranslate"><span class="pre">getlocations()</span></code></a>).</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.txt.TxtUnit.gettargetlen">
<code class="descname">gettargetlen</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.txt.TxtUnit.gettargetlen" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the length of the target string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">Integer</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Plural forms might be combined.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.txt.TxtUnit.getunits">
<code class="descname">getunits</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.txt.TxtUnit.getunits" title="Permalink to this definition">¶</a></dt>
<dd><p>This unit in a list.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.txt.TxtUnit.hasplural">
<code class="descname">hasplural</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.txt.TxtUnit.hasplural" title="Permalink to this definition">¶</a></dt>
<dd><p>Tells whether or not this specific unit has plural strings.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.txt.TxtUnit.infer_state">
<code class="descname">infer_state</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.txt.TxtUnit.infer_state" title="Permalink to this definition">¶</a></dt>
<dd><p>Empty method that should be overridden in sub-classes to infer the
current state(_n) of the unit from its current state.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.txt.TxtUnit.isblank">
<code class="descname">isblank</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.txt.TxtUnit.isblank" title="Permalink to this definition">¶</a></dt>
<dd><p>Used to see if this unit has no source or target string.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This is probably used more to find translatable units,
and we might want to move in that direction rather and
get rid of this.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.txt.TxtUnit.isfuzzy">
<code class="descname">isfuzzy</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.txt.TxtUnit.isfuzzy" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit is fuzzy.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.txt.TxtUnit.isheader">
<code class="descname">isheader</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.txt.TxtUnit.isheader" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit is a header.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.txt.TxtUnit.isobsolete">
<code class="descname">isobsolete</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.txt.TxtUnit.isobsolete" title="Permalink to this definition">¶</a></dt>
<dd><p>indicate whether a unit is obsolete</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.txt.TxtUnit.isreview">
<code class="descname">isreview</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.txt.TxtUnit.isreview" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit needs review.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.txt.TxtUnit.istranslatable">
<code class="descname">istranslatable</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.txt.TxtUnit.istranslatable" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit can be translated.</p>
<p>This should be used to distinguish real units for translation from
header, obsolete, binary or other blank units.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.txt.TxtUnit.istranslated">
<code class="descname">istranslated</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.txt.TxtUnit.istranslated" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit is translated.</p>
<p>This should be used rather than deducing it from .target,
to ensure that other classes can implement more functionality
(as XLIFF does).</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.txt.TxtUnit.makeobsolete">
<code class="descname">makeobsolete</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.txt.TxtUnit.makeobsolete" title="Permalink to this definition">¶</a></dt>
<dd><p>Make a unit obsolete</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.txt.TxtUnit.markfuzzy">
<code class="descname">markfuzzy</code><span class="sig-paren">(</span><em>value=True</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.txt.TxtUnit.markfuzzy" title="Permalink to this definition">¶</a></dt>
<dd><p>Marks the unit as fuzzy or not.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.txt.TxtUnit.markreviewneeded">
<code class="descname">markreviewneeded</code><span class="sig-paren">(</span><em>needsreview=True</em>, <em>explanation=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.txt.TxtUnit.markreviewneeded" title="Permalink to this definition">¶</a></dt>
<dd><p>Marks the unit to indicate whether it needs review.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>needsreview</strong> – Defaults to True.</li>
<li><strong>explanation</strong> – Adds an optional explanation as a note.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.txt.TxtUnit.merge">
<code class="descname">merge</code><span class="sig-paren">(</span><em>otherunit</em>, <em>overwrite=False</em>, <em>comments=True</em>, <em>authoritative=False</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.txt.TxtUnit.merge" title="Permalink to this definition">¶</a></dt>
<dd><p>Do basic format agnostic merging.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.txt.TxtUnit.multistring_to_rich">
<code class="descname">multistring_to_rich</code><span class="sig-paren">(</span><em>mulstring</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.txt.TxtUnit.multistring_to_rich" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a multistring to a list of “rich” string trees:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">target</span> <span class="o">=</span> <span class="n">multistring</span><span class="p">([</span><span class="sa">u</span><span class="s1">&#39;foo&#39;</span><span class="p">,</span> <span class="sa">u</span><span class="s1">&#39;bar&#39;</span><span class="p">,</span> <span class="sa">u</span><span class="s1">&#39;baz&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">TranslationUnit</span><span class="o">.</span><span class="n">multistring_to_rich</span><span class="p">(</span><span class="n">target</span><span class="p">)</span>
<span class="go">[&lt;StringElem([&lt;StringElem([u&#39;foo&#39;])&gt;])&gt;,</span>
<span class="go"> &lt;StringElem([&lt;StringElem([u&#39;bar&#39;])&gt;])&gt;,</span>
<span class="go"> &lt;StringElem([&lt;StringElem([u&#39;baz&#39;])&gt;])&gt;]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.txt.TxtUnit.removenotes">
<code class="descname">removenotes</code><span class="sig-paren">(</span><em>origin=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.txt.TxtUnit.removenotes" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove all the translator’s notes.</p>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.txt.TxtUnit.rich_source">
<code class="descname">rich_source</code><a class="headerlink" href="#translate.storage.txt.TxtUnit.rich_source" title="Permalink to this definition">¶</a></dt>
<dd><div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="#translate.storage.txt.TxtUnit.rich_to_multistring" title="translate.storage.txt.TxtUnit.rich_to_multistring"><code class="xref py py-meth docutils literal notranslate"><span class="pre">rich_to_multistring()</span></code></a>, <a class="reference internal" href="#translate.storage.txt.TxtUnit.multistring_to_rich" title="translate.storage.txt.TxtUnit.multistring_to_rich"><code class="xref py py-meth docutils literal notranslate"><span class="pre">multistring_to_rich()</span></code></a></p>
</div>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.txt.TxtUnit.rich_target">
<code class="descname">rich_target</code><a class="headerlink" href="#translate.storage.txt.TxtUnit.rich_target" title="Permalink to this definition">¶</a></dt>
<dd><div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="#translate.storage.txt.TxtUnit.rich_to_multistring" title="translate.storage.txt.TxtUnit.rich_to_multistring"><code class="xref py py-meth docutils literal notranslate"><span class="pre">rich_to_multistring()</span></code></a>, <a class="reference internal" href="#translate.storage.txt.TxtUnit.multistring_to_rich" title="translate.storage.txt.TxtUnit.multistring_to_rich"><code class="xref py py-meth docutils literal notranslate"><span class="pre">multistring_to_rich()</span></code></a></p>
</div>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.txt.TxtUnit.rich_to_multistring">
<em class="property">classmethod </em><code class="descname">rich_to_multistring</code><span class="sig-paren">(</span><em>elem_list</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.txt.TxtUnit.rich_to_multistring" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a “rich” string tree to a <code class="docutils literal notranslate"><span class="pre">multistring</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">translate.storage.placeables.interfaces</span> <span class="kn">import</span> <span class="n">X</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rich</span> <span class="o">=</span> <span class="p">[</span><span class="n">StringElem</span><span class="p">([</span><span class="s1">&#39;foo&#39;</span><span class="p">,</span> <span class="n">X</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="s1">&#39;xxx&#39;</span><span class="p">,</span> <span class="n">sub</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39; &#39;</span><span class="p">]),</span> <span class="s1">&#39;bar&#39;</span><span class="p">])]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">TranslationUnit</span><span class="o">.</span><span class="n">rich_to_multistring</span><span class="p">(</span><span class="n">rich</span><span class="p">)</span>
<span class="go">multistring(u&#39;foo bar&#39;)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.txt.TxtUnit.setcontext">
<code class="descname">setcontext</code><span class="sig-paren">(</span><em>context</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.txt.TxtUnit.setcontext" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the message context</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.txt.TxtUnit.setid">
<code class="descname">setid</code><span class="sig-paren">(</span><em>value</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.txt.TxtUnit.setid" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the unique identified for this unit.</p>
<p>only implemented if format allows ids independant from other unit
properties like source or context</p>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.txt.TxtUnit.target">
<code class="descname">target</code><a class="headerlink" href="#translate.storage.txt.TxtUnit.target" title="Permalink to this definition">¶</a></dt>
<dd><p>gets the unquoted target string</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.txt.TxtUnit.unit_iter">
<code class="descname">unit_iter</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.txt.TxtUnit.unit_iter" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterator that only returns this unit.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-translate.storage.utx">
<span id="utx"></span><h2>utx<a class="headerlink" href="#module-translate.storage.utx" title="Permalink to this headline">¶</a></h2>
<p>Manage the Universal Terminology eXchange (UTX) format</p>
<p>UTX is a format for terminology exchange, designed it seems with Machine
Translation (MT) as it’s primary consumer.  The format is created by
the Asia-Pacific Association for Machine Translation (AAMT).</p>
<p>It is a bilingual base class derived format with <a class="reference internal" href="#translate.storage.utx.UtxFile" title="translate.storage.utx.UtxFile"><code class="xref py py-class docutils literal notranslate"><span class="pre">UtxFile</span></code></a>
and <a class="reference internal" href="#translate.storage.utx.UtxUnit" title="translate.storage.utx.UtxUnit"><code class="xref py py-class docutils literal notranslate"><span class="pre">UtxUnit</span></code></a> providing file and unit level access.</p>
<p>The format can manage monolingual dictionaries but these classes don’t
implement that.</p>
<dl class="docutils">
<dt>Specification</dt>
<dd>The format is implemented according to UTX v1.0 (No longer available from
their website. The current <a class="reference external" href="http://www.aamt.info/english/utx/#Download">UTX version</a> may be downloaded instead).</dd>
<dt>Format Implementation</dt>
<dd>The UTX format is a Tab Seperated Value (TSV) file in UTF-8.  The
first two lines are headers with subsequent lines containing a
single source target definition.</dd>
<dt>Encoding</dt>
<dd>The files are UTF-8 encoded with no BOM and CR+LF line terminators.</dd>
</dl>
<dl class="class">
<dt id="translate.storage.utx.UtxDialect">
<em class="property">class </em><code class="descclassname">translate.storage.utx.</code><code class="descname">UtxDialect</code><a class="headerlink" href="#translate.storage.utx.UtxDialect" title="Permalink to this definition">¶</a></dt>
<dd><p>Describe the properties of an UTX generated TAB-delimited dictionary
file.</p>
<dl class="classmethod">
<dt id="translate.storage.utx.UtxDialect.combine">
<em class="property">classmethod </em><code class="descname">combine</code><span class="sig-paren">(</span><em>dialect</em>, <em>fmtparams</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.utx.UtxDialect.combine" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a new dialect with defaults and added parameters.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="translate.storage.utx.UtxFile">
<em class="property">class </em><code class="descclassname">translate.storage.utx.</code><code class="descname">UtxFile</code><span class="sig-paren">(</span><em>inputfile=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.utx.UtxFile" title="Permalink to this definition">¶</a></dt>
<dd><p>A UTX dictionary file</p>
<dl class="attribute">
<dt id="translate.storage.utx.UtxFile.UnitClass">
<code class="descname">UnitClass</code><a class="headerlink" href="#translate.storage.utx.UtxFile.UnitClass" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <a class="reference internal" href="#translate.storage.utx.UtxUnit" title="translate.storage.utx.UtxUnit"><code class="xref py py-class docutils literal notranslate"><span class="pre">UtxUnit</span></code></a></p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.utx.UtxFile.add_unit_to_index">
<code class="descname">add_unit_to_index</code><span class="sig-paren">(</span><em>unit</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.utx.UtxFile.add_unit_to_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a unit to source and location idexes</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.utx.UtxFile.addsourceunit">
<code class="descname">addsourceunit</code><span class="sig-paren">(</span><em>source</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.utx.UtxFile.addsourceunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Add and returns a new unit with the given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><code class="xref py py-class docutils literal notranslate"><span class="pre">TranslationUnit</span></code></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.utx.UtxFile.addunit">
<code class="descname">addunit</code><span class="sig-paren">(</span><em>unit</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.utx.UtxFile.addunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Append the given unit to the object’s list of units.</p>
<p>This method should always be used rather than trying to modify the
list manually.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>unit</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">TranslationUnit</span></code>) – The unit that will be added.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.utx.UtxFile.detect_encoding">
<code class="descname">detect_encoding</code><span class="sig-paren">(</span><em>text</em>, <em>default_encodings=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.utx.UtxFile.detect_encoding" title="Permalink to this definition">¶</a></dt>
<dd><p>Try to detect a file encoding from <cite>text</cite>, using either the chardet lib
or by trying to decode the file.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.utx.UtxFile.fallback_detection">
<code class="descname">fallback_detection</code><span class="sig-paren">(</span><em>text</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.utx.UtxFile.fallback_detection" title="Permalink to this definition">¶</a></dt>
<dd><p>Simple detection based on BOM in case chardet is not available.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.utx.UtxFile.findid">
<code class="descname">findid</code><span class="sig-paren">(</span><em>id</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.utx.UtxFile.findid" title="Permalink to this definition">¶</a></dt>
<dd><p>find unit with matching id by checking id_index</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.utx.UtxFile.findunit">
<code class="descname">findunit</code><span class="sig-paren">(</span><em>source</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.utx.UtxFile.findunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the unit with the given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><code class="xref py py-class docutils literal notranslate"><span class="pre">TranslationUnit</span></code> or None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.utx.UtxFile.findunits">
<code class="descname">findunits</code><span class="sig-paren">(</span><em>source</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.utx.UtxFile.findunits" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the units with the given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><code class="xref py py-class docutils literal notranslate"><span class="pre">TranslationUnit</span></code> or None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.utx.UtxFile.getids">
<code class="descname">getids</code><span class="sig-paren">(</span><em>filename=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.utx.UtxFile.getids" title="Permalink to this definition">¶</a></dt>
<dd><p>return a list of unit ids</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.utx.UtxFile.getprojectstyle">
<code class="descname">getprojectstyle</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.utx.UtxFile.getprojectstyle" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the project type for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.utx.UtxFile.getsourcelanguage">
<code class="descname">getsourcelanguage</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.utx.UtxFile.getsourcelanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the source language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.utx.UtxFile.gettargetlanguage">
<code class="descname">gettargetlanguage</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.utx.UtxFile.gettargetlanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the target language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.utx.UtxFile.getunits">
<code class="descname">getunits</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.utx.UtxFile.getunits" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of all units in this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.utx.UtxFile.isempty">
<code class="descname">isempty</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.utx.UtxFile.isempty" title="Permalink to this definition">¶</a></dt>
<dd><p>Return True if the object doesn’t contain any translation units.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.utx.UtxFile.makeindex">
<code class="descname">makeindex</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.utx.UtxFile.makeindex" title="Permalink to this definition">¶</a></dt>
<dd><p>Indexes the items in this store. At least .sourceindex should be
useful.</p>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.utx.UtxFile.merge_on">
<code class="descname">merge_on</code><a class="headerlink" href="#translate.storage.utx.UtxFile.merge_on" title="Permalink to this definition">¶</a></dt>
<dd><p>The matching criterion to use when merging on.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The default matching criterion for all the subclasses.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">string</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.utx.UtxFile.parse">
<code class="descname">parse</code><span class="sig-paren">(</span><em>input</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.utx.UtxFile.parse" title="Permalink to this definition">¶</a></dt>
<dd><p>parsese the given file or file source string</p>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.utx.UtxFile.parsefile">
<em class="property">classmethod </em><code class="descname">parsefile</code><span class="sig-paren">(</span><em>storefile</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.utx.UtxFile.parsefile" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads the given file (or opens the given filename) and parses back
to an object.</p>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.utx.UtxFile.parsestring">
<em class="property">classmethod </em><code class="descname">parsestring</code><span class="sig-paren">(</span><em>storestring</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.utx.UtxFile.parsestring" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert the string representation back to an object.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.utx.UtxFile.remove_unit_from_index">
<code class="descname">remove_unit_from_index</code><span class="sig-paren">(</span><em>unit</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.utx.UtxFile.remove_unit_from_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove a unit from source and locaton indexes</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.utx.UtxFile.require_index">
<code class="descname">require_index</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.utx.UtxFile.require_index" title="Permalink to this definition">¶</a></dt>
<dd><p>make sure source index exists</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.utx.UtxFile.save">
<code class="descname">save</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.utx.UtxFile.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Save to the file that data was originally read from, if available.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.utx.UtxFile.savefile">
<code class="descname">savefile</code><span class="sig-paren">(</span><em>storefile</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.utx.UtxFile.savefile" title="Permalink to this definition">¶</a></dt>
<dd><p>Write the string representation to the given file (or filename).</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.utx.UtxFile.serialize">
<code class="descname">serialize</code><span class="sig-paren">(</span><em>out</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.utx.UtxFile.serialize" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts to a bytes representation that can be parsed back using
<a class="reference internal" href="#translate.storage.base.TranslationStore.parsestring" title="translate.storage.base.TranslationStore.parsestring"><code class="xref py py-meth docutils literal notranslate"><span class="pre">parsestring()</span></code></a>.
<cite>out</cite> should be an open file-like objects to write to.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.utx.UtxFile.setprojectstyle">
<code class="descname">setprojectstyle</code><span class="sig-paren">(</span><em>project_style</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.utx.UtxFile.setprojectstyle" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the project type for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.utx.UtxFile.setsourcelanguage">
<code class="descname">setsourcelanguage</code><span class="sig-paren">(</span><em>sourcelanguage</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.utx.UtxFile.setsourcelanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the source language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.utx.UtxFile.settargetlanguage">
<code class="descname">settargetlanguage</code><span class="sig-paren">(</span><em>targetlanguage</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.utx.UtxFile.settargetlanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the target language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.utx.UtxFile.translate">
<code class="descname">translate</code><span class="sig-paren">(</span><em>source</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.utx.UtxFile.translate" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the translated string for a given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">String or <a class="reference external" href="https://docs.python.org/2.7/library/constants.html#None" title="(in Python v2.7)">None</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.utx.UtxFile.unit_iter">
<code class="descname">unit_iter</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.utx.UtxFile.unit_iter" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterator over all the units in this store.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="translate.storage.utx.UtxHeader">
<em class="property">class </em><code class="descclassname">translate.storage.utx.</code><code class="descname">UtxHeader</code><a class="headerlink" href="#translate.storage.utx.UtxHeader" title="Permalink to this definition">¶</a></dt>
<dd><p>A UTX header entry</p>
<dl class="docutils">
<dt>A UTX header is a single line that looks like this::</dt>
<dd>#UTX-S &lt;version&gt;; &lt; source language &gt;/&lt; target language&gt;;
&lt;date created&gt;; &lt;optional fields (creator, license, etc.)&gt;</dd>
<dt>Where::</dt>
<dd><ul class="first last simple">
<li>UTX-S version is currently 1.00.</li>
<li>Source language/target language: ISO 639, 3166 formats.
In the case of monolingual dictionary, target language should be
omitted.</li>
<li>Date created: ISO 8601 format</li>
<li>Optional fields (creator, license, etc.)</li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="class">
<dt id="translate.storage.utx.UtxUnit">
<em class="property">class </em><code class="descclassname">translate.storage.utx.</code><code class="descname">UtxUnit</code><span class="sig-paren">(</span><em>source=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.utx.UtxUnit" title="Permalink to this definition">¶</a></dt>
<dd><p>A UTX dictionary unit</p>
<dl class="method">
<dt id="translate.storage.utx.UtxUnit.adderror">
<code class="descname">adderror</code><span class="sig-paren">(</span><em>errorname</em>, <em>errortext</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.utx.UtxUnit.adderror" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds an error message to this unit.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>errorname</strong> (<em>string</em>) – A single word to id the error.</li>
<li><strong>errortext</strong> (<em>string</em>) – The text describing the error.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.utx.UtxUnit.addlocation">
<code class="descname">addlocation</code><span class="sig-paren">(</span><em>location</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.utx.UtxUnit.addlocation" title="Permalink to this definition">¶</a></dt>
<dd><p>Add one location to the list of locations.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Shouldn’t be implemented if the format doesn’t support it.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.utx.UtxUnit.addlocations">
<code class="descname">addlocations</code><span class="sig-paren">(</span><em>location</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.utx.UtxUnit.addlocations" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a location or a list of locations.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Most classes shouldn’t need to implement this, but should rather
implement <code class="xref py py-meth docutils literal notranslate"><span class="pre">TranslationUnit.addlocation()</span></code>.</p>
</div>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">This method might be removed in future.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.utx.UtxUnit.addnote">
<code class="descname">addnote</code><span class="sig-paren">(</span><em>text</em>, <em>origin=None</em>, <em>position=u'append'</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.utx.UtxUnit.addnote" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds a note (comment).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>text</strong> (<em>string</em>) – Usually just a sentence or two.</li>
<li><strong>origin</strong> (<em>string</em>) – Specifies who/where the comment comes from.
Origin can be one of the following text strings:
- ‘translator’
- ‘developer’, ‘programmer’, ‘source code’ (synonyms)</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.utx.UtxUnit.buildfromunit">
<em class="property">classmethod </em><code class="descname">buildfromunit</code><span class="sig-paren">(</span><em>unit</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.utx.UtxUnit.buildfromunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Build a native unit from a foreign unit, preserving as much
information as possible.</p>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.utx.UtxUnit.dict">
<code class="descname">dict</code><a class="headerlink" href="#translate.storage.utx.UtxUnit.dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the dictionary of values for a UTX line</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.utx.UtxUnit.getcontext">
<code class="descname">getcontext</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.utx.UtxUnit.getcontext" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the message context.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.utx.UtxUnit.getdict">
<code class="descname">getdict</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.utx.UtxUnit.getdict" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the dictionary of values for a UTX line</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.utx.UtxUnit.geterrors">
<code class="descname">geterrors</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.utx.UtxUnit.geterrors" title="Permalink to this definition">¶</a></dt>
<dd><p>Get all error messages.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">Dictionary</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.utx.UtxUnit.getid">
<code class="descname">getid</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.utx.UtxUnit.getid" title="Permalink to this definition">¶</a></dt>
<dd><p>A unique identifier for this unit.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">string</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">an identifier for this unit that is unique in the store</td>
</tr>
</tbody>
</table>
<p>Derived classes should override this in a way that guarantees a unique
identifier for each unit in the store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.utx.UtxUnit.getlocations">
<code class="descname">getlocations</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.utx.UtxUnit.getlocations" title="Permalink to this definition">¶</a></dt>
<dd><p>A list of source code locations.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">List</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Shouldn’t be implemented if the format doesn’t support it.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.utx.UtxUnit.getnotes">
<code class="descname">getnotes</code><span class="sig-paren">(</span><em>origin=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.utx.UtxUnit.getnotes" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns all notes about this unit.</p>
<p>It will probably be freeform text or something reasonable that can be
synthesised by the format.
It should not include location comments (see
<a class="reference internal" href="#translate.storage.base.TranslationUnit.getlocations" title="translate.storage.base.TranslationUnit.getlocations"><code class="xref py py-meth docutils literal notranslate"><span class="pre">getlocations()</span></code></a>).</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.utx.UtxUnit.gettargetlen">
<code class="descname">gettargetlen</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.utx.UtxUnit.gettargetlen" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the length of the target string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">Integer</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Plural forms might be combined.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.utx.UtxUnit.getunits">
<code class="descname">getunits</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.utx.UtxUnit.getunits" title="Permalink to this definition">¶</a></dt>
<dd><p>This unit in a list.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.utx.UtxUnit.hasplural">
<code class="descname">hasplural</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.utx.UtxUnit.hasplural" title="Permalink to this definition">¶</a></dt>
<dd><p>Tells whether or not this specific unit has plural strings.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.utx.UtxUnit.infer_state">
<code class="descname">infer_state</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.utx.UtxUnit.infer_state" title="Permalink to this definition">¶</a></dt>
<dd><p>Empty method that should be overridden in sub-classes to infer the
current state(_n) of the unit from its current state.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.utx.UtxUnit.isblank">
<code class="descname">isblank</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.utx.UtxUnit.isblank" title="Permalink to this definition">¶</a></dt>
<dd><p>Used to see if this unit has no source or target string.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This is probably used more to find translatable units,
and we might want to move in that direction rather and
get rid of this.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.utx.UtxUnit.isfuzzy">
<code class="descname">isfuzzy</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.utx.UtxUnit.isfuzzy" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit is fuzzy.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.utx.UtxUnit.isheader">
<code class="descname">isheader</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.utx.UtxUnit.isheader" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit is a header.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.utx.UtxUnit.isobsolete">
<code class="descname">isobsolete</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.utx.UtxUnit.isobsolete" title="Permalink to this definition">¶</a></dt>
<dd><p>indicate whether a unit is obsolete</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.utx.UtxUnit.isreview">
<code class="descname">isreview</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.utx.UtxUnit.isreview" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit needs review.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.utx.UtxUnit.istranslatable">
<code class="descname">istranslatable</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.utx.UtxUnit.istranslatable" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit can be translated.</p>
<p>This should be used to distinguish real units for translation from
header, obsolete, binary or other blank units.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.utx.UtxUnit.istranslated">
<code class="descname">istranslated</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.utx.UtxUnit.istranslated" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit is translated.</p>
<p>This should be used rather than deducing it from .target,
to ensure that other classes can implement more functionality
(as XLIFF does).</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.utx.UtxUnit.makeobsolete">
<code class="descname">makeobsolete</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.utx.UtxUnit.makeobsolete" title="Permalink to this definition">¶</a></dt>
<dd><p>Make a unit obsolete</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.utx.UtxUnit.markfuzzy">
<code class="descname">markfuzzy</code><span class="sig-paren">(</span><em>value=True</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.utx.UtxUnit.markfuzzy" title="Permalink to this definition">¶</a></dt>
<dd><p>Marks the unit as fuzzy or not.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.utx.UtxUnit.markreviewneeded">
<code class="descname">markreviewneeded</code><span class="sig-paren">(</span><em>needsreview=True</em>, <em>explanation=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.utx.UtxUnit.markreviewneeded" title="Permalink to this definition">¶</a></dt>
<dd><p>Marks the unit to indicate whether it needs review.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>needsreview</strong> – Defaults to True.</li>
<li><strong>explanation</strong> – Adds an optional explanation as a note.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.utx.UtxUnit.merge">
<code class="descname">merge</code><span class="sig-paren">(</span><em>otherunit</em>, <em>overwrite=False</em>, <em>comments=True</em>, <em>authoritative=False</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.utx.UtxUnit.merge" title="Permalink to this definition">¶</a></dt>
<dd><p>Do basic format agnostic merging.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.utx.UtxUnit.multistring_to_rich">
<code class="descname">multistring_to_rich</code><span class="sig-paren">(</span><em>mulstring</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.utx.UtxUnit.multistring_to_rich" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a multistring to a list of “rich” string trees:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">target</span> <span class="o">=</span> <span class="n">multistring</span><span class="p">([</span><span class="sa">u</span><span class="s1">&#39;foo&#39;</span><span class="p">,</span> <span class="sa">u</span><span class="s1">&#39;bar&#39;</span><span class="p">,</span> <span class="sa">u</span><span class="s1">&#39;baz&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">TranslationUnit</span><span class="o">.</span><span class="n">multistring_to_rich</span><span class="p">(</span><span class="n">target</span><span class="p">)</span>
<span class="go">[&lt;StringElem([&lt;StringElem([u&#39;foo&#39;])&gt;])&gt;,</span>
<span class="go"> &lt;StringElem([&lt;StringElem([u&#39;bar&#39;])&gt;])&gt;,</span>
<span class="go"> &lt;StringElem([&lt;StringElem([u&#39;baz&#39;])&gt;])&gt;]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.utx.UtxUnit.removenotes">
<code class="descname">removenotes</code><span class="sig-paren">(</span><em>origin=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.utx.UtxUnit.removenotes" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove all the translator’s notes.</p>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.utx.UtxUnit.rich_source">
<code class="descname">rich_source</code><a class="headerlink" href="#translate.storage.utx.UtxUnit.rich_source" title="Permalink to this definition">¶</a></dt>
<dd><div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="#translate.storage.utx.UtxUnit.rich_to_multistring" title="translate.storage.utx.UtxUnit.rich_to_multistring"><code class="xref py py-meth docutils literal notranslate"><span class="pre">rich_to_multistring()</span></code></a>, <a class="reference internal" href="#translate.storage.utx.UtxUnit.multistring_to_rich" title="translate.storage.utx.UtxUnit.multistring_to_rich"><code class="xref py py-meth docutils literal notranslate"><span class="pre">multistring_to_rich()</span></code></a></p>
</div>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.utx.UtxUnit.rich_target">
<code class="descname">rich_target</code><a class="headerlink" href="#translate.storage.utx.UtxUnit.rich_target" title="Permalink to this definition">¶</a></dt>
<dd><div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="#translate.storage.utx.UtxUnit.rich_to_multistring" title="translate.storage.utx.UtxUnit.rich_to_multistring"><code class="xref py py-meth docutils literal notranslate"><span class="pre">rich_to_multistring()</span></code></a>, <a class="reference internal" href="#translate.storage.utx.UtxUnit.multistring_to_rich" title="translate.storage.utx.UtxUnit.multistring_to_rich"><code class="xref py py-meth docutils literal notranslate"><span class="pre">multistring_to_rich()</span></code></a></p>
</div>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.utx.UtxUnit.rich_to_multistring">
<em class="property">classmethod </em><code class="descname">rich_to_multistring</code><span class="sig-paren">(</span><em>elem_list</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.utx.UtxUnit.rich_to_multistring" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a “rich” string tree to a <code class="docutils literal notranslate"><span class="pre">multistring</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">translate.storage.placeables.interfaces</span> <span class="kn">import</span> <span class="n">X</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rich</span> <span class="o">=</span> <span class="p">[</span><span class="n">StringElem</span><span class="p">([</span><span class="s1">&#39;foo&#39;</span><span class="p">,</span> <span class="n">X</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="s1">&#39;xxx&#39;</span><span class="p">,</span> <span class="n">sub</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39; &#39;</span><span class="p">]),</span> <span class="s1">&#39;bar&#39;</span><span class="p">])]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">TranslationUnit</span><span class="o">.</span><span class="n">rich_to_multistring</span><span class="p">(</span><span class="n">rich</span><span class="p">)</span>
<span class="go">multistring(u&#39;foo bar&#39;)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.utx.UtxUnit.setcontext">
<code class="descname">setcontext</code><span class="sig-paren">(</span><em>context</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.utx.UtxUnit.setcontext" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the message context</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.utx.UtxUnit.setdict">
<code class="descname">setdict</code><span class="sig-paren">(</span><em>newdict</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.utx.UtxUnit.setdict" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the dictionary of values for a UTX line</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>newdict</strong> (<em>Dict</em>) – a new dictionary with UTX line elements</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.utx.UtxUnit.setid">
<code class="descname">setid</code><span class="sig-paren">(</span><em>value</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.utx.UtxUnit.setid" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the unique identified for this unit.</p>
<p>only implemented if format allows ids independant from other unit
properties like source or context</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.utx.UtxUnit.unit_iter">
<code class="descname">unit_iter</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.utx.UtxUnit.unit_iter" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterator that only returns this unit.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-translate.storage.versioncontrol">
<span id="versioncontrol"></span><h2>versioncontrol<a class="headerlink" href="#module-translate.storage.versioncontrol" title="Permalink to this headline">¶</a></h2>
<p>This module manages interaction with version control systems.</p>
<p>To implement support for a new version control system, inherit from
<a class="reference internal" href="#translate.storage.versioncontrol.GenericRevisionControlSystem" title="translate.storage.versioncontrol.GenericRevisionControlSystem"><code class="xref py py-class docutils literal notranslate"><span class="pre">GenericRevisionControlSystem</span></code></a>.</p>
<dl class="docutils">
<dt>TODO:</dt>
<dd><ul class="first last simple">
<li>Add authentication handling</li>
<li><a class="reference internal" href="#translate.storage.versioncontrol.commitdirectory" title="translate.storage.versioncontrol.commitdirectory"><code class="xref py py-func docutils literal notranslate"><span class="pre">commitdirectory()</span></code></a> should do a single commit instead of one for
each file</li>
<li>Maybe implement some caching for <a class="reference internal" href="#translate.storage.versioncontrol.get_versioned_object" title="translate.storage.versioncontrol.get_versioned_object"><code class="xref py py-func docutils literal notranslate"><span class="pre">get_versioned_object()</span></code></a> - check
profiler</li>
</ul>
</dd>
</dl>
<dl class="data">
<dt id="translate.storage.versioncontrol.DEFAULT_RCS">
<code class="descclassname">translate.storage.versioncontrol.</code><code class="descname">DEFAULT_RCS</code><em class="property"> = ['svn', 'cvs', 'darcs', 'git', 'bzr', 'hg']</em><a class="headerlink" href="#translate.storage.versioncontrol.DEFAULT_RCS" title="Permalink to this definition">¶</a></dt>
<dd><p>the names of all supported revision control systems</p>
<p>modules of the same name containing a class with the same name are expected
to be defined below ‘translate.storage.versioncontrol’</p>
</dd></dl>

<dl class="class">
<dt id="translate.storage.versioncontrol.GenericRevisionControlSystem">
<em class="property">class </em><code class="descclassname">translate.storage.versioncontrol.</code><code class="descname">GenericRevisionControlSystem</code><span class="sig-paren">(</span><em>location</em>, <em>oldest_parent=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.versioncontrol.GenericRevisionControlSystem" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/2.7/library/functions.html#object" title="(in Python v2.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>The super class for all version control classes.</p>
<p>Always inherit from this class to implement another RC interface.</p>
<p>At least the two attributes <a class="reference internal" href="#translate.storage.versioncontrol.GenericRevisionControlSystem.RCS_METADIR" title="translate.storage.versioncontrol.GenericRevisionControlSystem.RCS_METADIR"><code class="xref py py-attr docutils literal notranslate"><span class="pre">RCS_METADIR</span></code></a> and <a class="reference internal" href="#translate.storage.versioncontrol.GenericRevisionControlSystem.SCAN_PARENTS" title="translate.storage.versioncontrol.GenericRevisionControlSystem.SCAN_PARENTS"><code class="xref py py-attr docutils literal notranslate"><span class="pre">SCAN_PARENTS</span></code></a>
must be overriden by all implementations that derive from this class.</p>
<dl class="docutils">
<dt>By default, all implementations can rely on the following attributes:</dt>
<dd><ul class="first last simple">
<li><code class="xref py py-attr docutils literal notranslate"><span class="pre">root_dir</span></code>: the parent of the metadata directory of the
working copy</li>
<li><code class="xref py py-attr docutils literal notranslate"><span class="pre">location_abs</span></code>: the absolute path of the RCS object</li>
<li><code class="xref py py-attr docutils literal notranslate"><span class="pre">location_rel</span></code>: the path of the RCS object relative
to <code class="xref py py-attr docutils literal notranslate"><span class="pre">root_dir</span></code></li>
</ul>
</dd>
</dl>
<dl class="attribute">
<dt id="translate.storage.versioncontrol.GenericRevisionControlSystem.RCS_METADIR">
<code class="descname">RCS_METADIR</code><em class="property"> = None</em><a class="headerlink" href="#translate.storage.versioncontrol.GenericRevisionControlSystem.RCS_METADIR" title="Permalink to this definition">¶</a></dt>
<dd><p>The name of the metadata directory of the RCS</p>
<p>e.g.: for Subversion -&gt; “.svn”</p>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.versioncontrol.GenericRevisionControlSystem.SCAN_PARENTS">
<code class="descname">SCAN_PARENTS</code><em class="property"> = None</em><a class="headerlink" href="#translate.storage.versioncontrol.GenericRevisionControlSystem.SCAN_PARENTS" title="Permalink to this definition">¶</a></dt>
<dd><p>Whether to check the parent directories for the metadata directory of
the RCS working copy</p>
<p>Some revision control systems store their metadata directory only
in the base of the working copy (e.g. bzr, GIT and Darcs)
use <code class="docutils literal notranslate"><span class="pre">True</span></code> for these RCS</p>
<p>Other RCS store a metadata directory in every single directory of
the working copy (e.g. Subversion and CVS)
use <code class="docutils literal notranslate"><span class="pre">False</span></code> for these RCS</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.versioncontrol.GenericRevisionControlSystem.add">
<code class="descname">add</code><span class="sig-paren">(</span><em>files</em>, <em>message=None</em>, <em>author=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.versioncontrol.GenericRevisionControlSystem.add" title="Permalink to this definition">¶</a></dt>
<dd><p>Dummy to be overridden by real implementations</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.versioncontrol.GenericRevisionControlSystem.commit">
<code class="descname">commit</code><span class="sig-paren">(</span><em>message=None</em>, <em>author=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.versioncontrol.GenericRevisionControlSystem.commit" title="Permalink to this definition">¶</a></dt>
<dd><p>Dummy to be overridden by real implementations</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.versioncontrol.GenericRevisionControlSystem.getcleanfile">
<code class="descname">getcleanfile</code><span class="sig-paren">(</span><em>revision=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.versioncontrol.GenericRevisionControlSystem.getcleanfile" title="Permalink to this definition">¶</a></dt>
<dd><p>Dummy to be overridden by real implementations</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.versioncontrol.GenericRevisionControlSystem.update">
<code class="descname">update</code><span class="sig-paren">(</span><em>revision=None</em>, <em>needs_revert=True</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.versioncontrol.GenericRevisionControlSystem.update" title="Permalink to this definition">¶</a></dt>
<dd><p>Dummy to be overridden by real implementations</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="translate.storage.versioncontrol.commitdirectory">
<code class="descclassname">translate.storage.versioncontrol.</code><code class="descname">commitdirectory</code><span class="sig-paren">(</span><em>directory</em>, <em>message=None</em>, <em>author=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.versioncontrol.commitdirectory" title="Permalink to this definition">¶</a></dt>
<dd><p>Commit all files below the given directory.</p>
<p>Files that are just symlinked into the directory are supported, too</p>
</dd></dl>

<dl class="function">
<dt id="translate.storage.versioncontrol.get_available_version_control_systems">
<code class="descclassname">translate.storage.versioncontrol.</code><code class="descname">get_available_version_control_systems</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.versioncontrol.get_available_version_control_systems" title="Permalink to this definition">¶</a></dt>
<dd><p>return the class objects of all locally available version control
systems</p>
</dd></dl>

<dl class="function">
<dt id="translate.storage.versioncontrol.get_versioned_object">
<code class="descclassname">translate.storage.versioncontrol.</code><code class="descname">get_versioned_object</code><span class="sig-paren">(</span><em>location</em>, <em>versioning_systems=None</em>, <em>follow_symlinks=True</em>, <em>oldest_parent=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.versioncontrol.get_versioned_object" title="Permalink to this definition">¶</a></dt>
<dd><p>return a versioned object for the given file</p>
</dd></dl>

<dl class="function">
<dt id="translate.storage.versioncontrol.get_versioned_objects_recursive">
<code class="descclassname">translate.storage.versioncontrol.</code><code class="descname">get_versioned_objects_recursive</code><span class="sig-paren">(</span><em>location</em>, <em>versioning_systems=None</em>, <em>follow_symlinks=True</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.versioncontrol.get_versioned_objects_recursive" title="Permalink to this definition">¶</a></dt>
<dd><p>return a list of objects, each pointing to a file below this directory</p>
</dd></dl>

<dl class="function">
<dt id="translate.storage.versioncontrol.run_command">
<code class="descclassname">translate.storage.versioncontrol.</code><code class="descname">run_command</code><span class="sig-paren">(</span><em>command</em>, <em>cwd=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.versioncontrol.run_command" title="Permalink to this definition">¶</a></dt>
<dd><p>Runs a command (array of program name and arguments) and returns the
exitcode, the output and the error as a tuple.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>command</strong> (<em>list</em>) – list of arguments to be joined for a program call</li>
<li><strong>cwd</strong> (<a class="reference external" href="https://docs.python.org/2.7/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) – optional directory where the command should be executed</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="translate.storage.versioncontrol.updatedirectory">
<code class="descclassname">translate.storage.versioncontrol.</code><code class="descname">updatedirectory</code><span class="sig-paren">(</span><em>directory</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.versioncontrol.updatedirectory" title="Permalink to this definition">¶</a></dt>
<dd><p>Update all files below the given directory.</p>
<p>Files that are just symlinked into the directory are supported, too</p>
</dd></dl>

<div class="section" id="module-translate.storage.versioncontrol.bzr">
<span id="bzr"></span><h3>bzr<a class="headerlink" href="#module-translate.storage.versioncontrol.bzr" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="translate.storage.versioncontrol.bzr.bzr">
<em class="property">class </em><code class="descclassname">translate.storage.versioncontrol.bzr.</code><code class="descname">bzr</code><span class="sig-paren">(</span><em>location</em>, <em>oldest_parent=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.versioncontrol.bzr.bzr" title="Permalink to this definition">¶</a></dt>
<dd><p>Class to manage items under revision control of bzr.</p>
<dl class="method">
<dt id="translate.storage.versioncontrol.bzr.bzr.add">
<code class="descname">add</code><span class="sig-paren">(</span><em>files</em>, <em>message=None</em>, <em>author=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.versioncontrol.bzr.bzr.add" title="Permalink to this definition">¶</a></dt>
<dd><p>Add and commit files.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.versioncontrol.bzr.bzr.commit">
<code class="descname">commit</code><span class="sig-paren">(</span><em>message=None</em>, <em>author=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.versioncontrol.bzr.bzr.commit" title="Permalink to this definition">¶</a></dt>
<dd><p>Commits the file and supplies the given commit message if present</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.versioncontrol.bzr.bzr.getcleanfile">
<code class="descname">getcleanfile</code><span class="sig-paren">(</span><em>revision=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.versioncontrol.bzr.bzr.getcleanfile" title="Permalink to this definition">¶</a></dt>
<dd><p>Get a clean version of a file from the bzr repository</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.versioncontrol.bzr.bzr.update">
<code class="descname">update</code><span class="sig-paren">(</span><em>revision=None</em>, <em>needs_revert=True</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.versioncontrol.bzr.bzr.update" title="Permalink to this definition">¶</a></dt>
<dd><p>Does a clean update of the given path</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="translate.storage.versioncontrol.bzr.get_version">
<code class="descclassname">translate.storage.versioncontrol.bzr.</code><code class="descname">get_version</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.versioncontrol.bzr.get_version" title="Permalink to this definition">¶</a></dt>
<dd><p>return a tuple of (major, minor) for the installed bazaar client</p>
</dd></dl>

<dl class="function">
<dt id="translate.storage.versioncontrol.bzr.is_available">
<code class="descclassname">translate.storage.versioncontrol.bzr.</code><code class="descname">is_available</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.versioncontrol.bzr.is_available" title="Permalink to this definition">¶</a></dt>
<dd><p>check if bzr is installed</p>
</dd></dl>

</div>
<div class="section" id="module-translate.storage.versioncontrol.cvs">
<span id="cvs"></span><h3>cvs<a class="headerlink" href="#module-translate.storage.versioncontrol.cvs" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="translate.storage.versioncontrol.cvs.cvs">
<em class="property">class </em><code class="descclassname">translate.storage.versioncontrol.cvs.</code><code class="descname">cvs</code><span class="sig-paren">(</span><em>location</em>, <em>oldest_parent=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.versioncontrol.cvs.cvs" title="Permalink to this definition">¶</a></dt>
<dd><p>Class to manage items under revision control of CVS.</p>
<dl class="method">
<dt id="translate.storage.versioncontrol.cvs.cvs.add">
<code class="descname">add</code><span class="sig-paren">(</span><em>files</em>, <em>message=None</em>, <em>author=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.versioncontrol.cvs.cvs.add" title="Permalink to this definition">¶</a></dt>
<dd><p>Add and commit the new files.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.versioncontrol.cvs.cvs.commit">
<code class="descname">commit</code><span class="sig-paren">(</span><em>message=None</em>, <em>author=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.versioncontrol.cvs.cvs.commit" title="Permalink to this definition">¶</a></dt>
<dd><p>Commits the file and supplies the given commit message if present</p>
<p>the ‘author’ parameter is not suitable for CVS, thus it is ignored</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.versioncontrol.cvs.cvs.getcleanfile">
<code class="descname">getcleanfile</code><span class="sig-paren">(</span><em>revision=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.versioncontrol.cvs.cvs.getcleanfile" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the content of the file for the given revision</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.versioncontrol.cvs.cvs.update">
<code class="descname">update</code><span class="sig-paren">(</span><em>revision=None</em>, <em>needs_revert=True</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.versioncontrol.cvs.cvs.update" title="Permalink to this definition">¶</a></dt>
<dd><p>Does a clean update of the given path</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="translate.storage.versioncontrol.cvs.is_available">
<code class="descclassname">translate.storage.versioncontrol.cvs.</code><code class="descname">is_available</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.versioncontrol.cvs.is_available" title="Permalink to this definition">¶</a></dt>
<dd><p>check if cvs is installed</p>
</dd></dl>

</div>
<div class="section" id="module-translate.storage.versioncontrol.darcs">
<span id="darcs"></span><h3>darcs<a class="headerlink" href="#module-translate.storage.versioncontrol.darcs" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="translate.storage.versioncontrol.darcs.darcs">
<em class="property">class </em><code class="descclassname">translate.storage.versioncontrol.darcs.</code><code class="descname">darcs</code><span class="sig-paren">(</span><em>location</em>, <em>oldest_parent=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.versioncontrol.darcs.darcs" title="Permalink to this definition">¶</a></dt>
<dd><p>Class to manage items under revision control of darcs.</p>
<dl class="method">
<dt id="translate.storage.versioncontrol.darcs.darcs.add">
<code class="descname">add</code><span class="sig-paren">(</span><em>files</em>, <em>message=None</em>, <em>author=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.versioncontrol.darcs.darcs.add" title="Permalink to this definition">¶</a></dt>
<dd><p>Add and commit files.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.versioncontrol.darcs.darcs.commit">
<code class="descname">commit</code><span class="sig-paren">(</span><em>message=None</em>, <em>author=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.versioncontrol.darcs.darcs.commit" title="Permalink to this definition">¶</a></dt>
<dd><p>Commits the file and supplies the given commit message if present</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.versioncontrol.darcs.darcs.getcleanfile">
<code class="descname">getcleanfile</code><span class="sig-paren">(</span><em>revision=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.versioncontrol.darcs.darcs.getcleanfile" title="Permalink to this definition">¶</a></dt>
<dd><p>Get a clean version of a file from the darcs repository</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>revision</strong> – ignored for darcs</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.versioncontrol.darcs.darcs.update">
<code class="descname">update</code><span class="sig-paren">(</span><em>revision=None</em>, <em>needs_revert=True</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.versioncontrol.darcs.darcs.update" title="Permalink to this definition">¶</a></dt>
<dd><p>Does a clean update of the given path</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>revision</strong> – ignored for darcs</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="translate.storage.versioncontrol.darcs.is_available">
<code class="descclassname">translate.storage.versioncontrol.darcs.</code><code class="descname">is_available</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.versioncontrol.darcs.is_available" title="Permalink to this definition">¶</a></dt>
<dd><p>check if darcs is installed</p>
</dd></dl>

</div>
<div class="section" id="module-translate.storage.versioncontrol.git">
<span id="git"></span><h3>git<a class="headerlink" href="#module-translate.storage.versioncontrol.git" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="translate.storage.versioncontrol.git.git">
<em class="property">class </em><code class="descclassname">translate.storage.versioncontrol.git.</code><code class="descname">git</code><span class="sig-paren">(</span><em>location</em>, <em>oldest_parent=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.versioncontrol.git.git" title="Permalink to this definition">¶</a></dt>
<dd><p>Class to manage items under revision control of git.</p>
<dl class="method">
<dt id="translate.storage.versioncontrol.git.git.add">
<code class="descname">add</code><span class="sig-paren">(</span><em>files</em>, <em>message=None</em>, <em>author=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.versioncontrol.git.git.add" title="Permalink to this definition">¶</a></dt>
<dd><p>Add and commit the new files.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.versioncontrol.git.git.commit">
<code class="descname">commit</code><span class="sig-paren">(</span><em>message=None</em>, <em>author=None</em>, <em>add=True</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.versioncontrol.git.git.commit" title="Permalink to this definition">¶</a></dt>
<dd><p>Commits the file and supplies the given commit message if present</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.versioncontrol.git.git.getcleanfile">
<code class="descname">getcleanfile</code><span class="sig-paren">(</span><em>revision=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.versioncontrol.git.git.getcleanfile" title="Permalink to this definition">¶</a></dt>
<dd><p>Get a clean version of a file from the git repository</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.versioncontrol.git.git.update">
<code class="descname">update</code><span class="sig-paren">(</span><em>revision=None</em>, <em>needs_revert=True</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.versioncontrol.git.git.update" title="Permalink to this definition">¶</a></dt>
<dd><p>Does a clean update of the given path</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="translate.storage.versioncontrol.git.is_available">
<code class="descclassname">translate.storage.versioncontrol.git.</code><code class="descname">is_available</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.versioncontrol.git.is_available" title="Permalink to this definition">¶</a></dt>
<dd><p>check if git is installed</p>
</dd></dl>

</div>
<div class="section" id="module-translate.storage.versioncontrol.hg">
<span id="hg"></span><h3>hg<a class="headerlink" href="#module-translate.storage.versioncontrol.hg" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="translate.storage.versioncontrol.hg.get_version">
<code class="descclassname">translate.storage.versioncontrol.hg.</code><code class="descname">get_version</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.versioncontrol.hg.get_version" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a tuple of (major, minor) for the installed mercurial client.</p>
</dd></dl>

<dl class="class">
<dt id="translate.storage.versioncontrol.hg.hg">
<em class="property">class </em><code class="descclassname">translate.storage.versioncontrol.hg.</code><code class="descname">hg</code><span class="sig-paren">(</span><em>location</em>, <em>oldest_parent=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.versioncontrol.hg.hg" title="Permalink to this definition">¶</a></dt>
<dd><p>Class to manage items under revision control of mercurial.</p>
<dl class="method">
<dt id="translate.storage.versioncontrol.hg.hg.add">
<code class="descname">add</code><span class="sig-paren">(</span><em>files</em>, <em>message=None</em>, <em>author=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.versioncontrol.hg.hg.add" title="Permalink to this definition">¶</a></dt>
<dd><p>Add and commit the new files.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.versioncontrol.hg.hg.commit">
<code class="descname">commit</code><span class="sig-paren">(</span><em>message=None</em>, <em>author=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.versioncontrol.hg.hg.commit" title="Permalink to this definition">¶</a></dt>
<dd><p>Commits the file and supplies the given commit message if present</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.versioncontrol.hg.hg.getcleanfile">
<code class="descname">getcleanfile</code><span class="sig-paren">(</span><em>revision=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.versioncontrol.hg.hg.getcleanfile" title="Permalink to this definition">¶</a></dt>
<dd><p>Get a clean version of a file from the hg repository</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.versioncontrol.hg.hg.update">
<code class="descname">update</code><span class="sig-paren">(</span><em>revision=None</em>, <em>needs_revert=True</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.versioncontrol.hg.hg.update" title="Permalink to this definition">¶</a></dt>
<dd><p>Does a clean update of the given path</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>revision</strong> – ignored for hg</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="translate.storage.versioncontrol.hg.is_available">
<code class="descclassname">translate.storage.versioncontrol.hg.</code><code class="descname">is_available</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.versioncontrol.hg.is_available" title="Permalink to this definition">¶</a></dt>
<dd><p>check if hg is installed</p>
</dd></dl>

</div>
<div class="section" id="module-translate.storage.versioncontrol.svn">
<span id="svn"></span><h3>svn<a class="headerlink" href="#module-translate.storage.versioncontrol.svn" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="translate.storage.versioncontrol.svn.get_version">
<code class="descclassname">translate.storage.versioncontrol.svn.</code><code class="descname">get_version</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.versioncontrol.svn.get_version" title="Permalink to this definition">¶</a></dt>
<dd><p>return a tuple of (major, minor) for the installed subversion client</p>
</dd></dl>

<dl class="function">
<dt id="translate.storage.versioncontrol.svn.is_available">
<code class="descclassname">translate.storage.versioncontrol.svn.</code><code class="descname">is_available</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.versioncontrol.svn.is_available" title="Permalink to this definition">¶</a></dt>
<dd><p>check if svn is installed</p>
</dd></dl>

<dl class="class">
<dt id="translate.storage.versioncontrol.svn.svn">
<em class="property">class </em><code class="descclassname">translate.storage.versioncontrol.svn.</code><code class="descname">svn</code><span class="sig-paren">(</span><em>location</em>, <em>oldest_parent=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.versioncontrol.svn.svn" title="Permalink to this definition">¶</a></dt>
<dd><p>Class to manage items under revision control of Subversion.</p>
<dl class="method">
<dt id="translate.storage.versioncontrol.svn.svn.add">
<code class="descname">add</code><span class="sig-paren">(</span><em>files</em>, <em>message=None</em>, <em>author=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.versioncontrol.svn.svn.add" title="Permalink to this definition">¶</a></dt>
<dd><p>Add and commit the new files.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.versioncontrol.svn.svn.commit">
<code class="descname">commit</code><span class="sig-paren">(</span><em>message=None</em>, <em>author=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.versioncontrol.svn.svn.commit" title="Permalink to this definition">¶</a></dt>
<dd><p>commit the file and return the given message if present</p>
<p>the ‘author’ parameter is used for revision property ‘translate:author’</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.versioncontrol.svn.svn.getcleanfile">
<code class="descname">getcleanfile</code><span class="sig-paren">(</span><em>revision=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.versioncontrol.svn.svn.getcleanfile" title="Permalink to this definition">¶</a></dt>
<dd><p>return the content of the ‘head’ revision of the file</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.versioncontrol.svn.svn.update">
<code class="descname">update</code><span class="sig-paren">(</span><em>revision=None</em>, <em>needs_revert=True</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.versioncontrol.svn.svn.update" title="Permalink to this definition">¶</a></dt>
<dd><p>update the working copy - remove local modifications if necessary</p>
</dd></dl>

</dd></dl>

</div>
</div>
<div class="section" id="module-translate.storage.wordfast">
<span id="wordfast"></span><h2>wordfast<a class="headerlink" href="#module-translate.storage.wordfast" title="Permalink to this headline">¶</a></h2>
<p>Manage the Wordfast Translation Memory format</p>
<p>Wordfast TM format is the Translation Memory format used by the
<a class="reference external" href="http://www.wordfast.net/">Wordfast</a> computer aided translation tool.</p>
<p>It is a bilingual base class derived format with <a class="reference internal" href="#translate.storage.wordfast.WordfastTMFile" title="translate.storage.wordfast.WordfastTMFile"><code class="xref py py-class docutils literal notranslate"><span class="pre">WordfastTMFile</span></code></a>
and <a class="reference internal" href="#translate.storage.wordfast.WordfastUnit" title="translate.storage.wordfast.WordfastUnit"><code class="xref py py-class docutils literal notranslate"><span class="pre">WordfastUnit</span></code></a> providing file and unit level access.</p>
<p>Wordfast is a computer aided translation tool.  It is an application
built on top of Microsoft Word and is implemented as a rather
sophisticated set of macros.  Understanding that helps us understand
many of the seemingly strange choices around this format including:
encoding, escaping and file naming.</p>
<dl class="docutils">
<dt>Implementation</dt>
<dd><p class="first">The implementation covers the full requirements of a Wordfast TM file.
The files are simple Tab Separated Value (TSV) files that can be read
by Microsoft Excel and other spreadsheet programs.  They use the .txt
extension which does make it more difficult to automatically identify
such files.</p>
<p class="last">The dialect of the TSV files is specified by <a class="reference internal" href="#translate.storage.wordfast.WordfastDialect" title="translate.storage.wordfast.WordfastDialect"><code class="xref py py-class docutils literal notranslate"><span class="pre">WordfastDialect</span></code></a>.</p>
</dd>
<dt>Encoding</dt>
<dd><p class="first">The files are UTF-16 or ISO-8859-1 (Latin1) encoded.  These choices
are most likely because Microsoft Word is the base editing tool for
Wordfast.</p>
<p class="last">The format is tab separated so we are able to detect UTF-16 vs Latin-1
by searching for the occurance of a UTF-16 tab character and then
continuing with the parsing.</p>
</dd>
<dt>Timestamps</dt>
<dd><a class="reference internal" href="#translate.storage.wordfast.WordfastTime" title="translate.storage.wordfast.WordfastTime"><code class="xref py py-class docutils literal notranslate"><span class="pre">WordfastTime</span></code></a> allows for the correct management of the Wordfast
YYYYMMDD~HHMMSS timestamps.  However, timestamps on individual units are
not updated when edited.</dd>
<dt>Header</dt>
<dd><a class="reference internal" href="#translate.storage.wordfast.WordfastHeader" title="translate.storage.wordfast.WordfastHeader"><code class="xref py py-class docutils literal notranslate"><span class="pre">WordfastHeader</span></code></a> provides header management support.  The header
functionality is fully implemented through observing the behaviour of the
files in real use cases, input from the Wordfast programmers and
public documentation.</dd>
<dt>Escaping</dt>
<dd><p class="first">Wordfast TM implements a form of escaping that covers two aspects:</p>
<ol class="last arabic simple">
<li>Placeable: bold, formating, etc.  These are left as is and ignored.  It
is up to the editor and future placeable implementation to manage these.</li>
<li>Escapes: items that may confuse Excel or translators are escaped as
<code class="docutils literal notranslate"><span class="pre">&amp;'XX;</span></code>. These are fully implemented and are converted to and from
Unicode.  By observing behaviour and reading documentation we where able
to observe all possible escapes. Unfortunately the escaping differs
slightly between Windows and Mac version.  This might cause errors in
future.  Functions allow for <code class="docutils literal notranslate"><span class="pre">&lt;_wf_to_char&gt;</span></code> and back to Wordfast
escape (<code class="docutils literal notranslate"><span class="pre">&lt;_char_to_wf&gt;</span></code>).</li>
</ol>
</dd>
<dt>Extended Attributes</dt>
<dd>The last 4 columns allow users to define and manage extended attributes.
These are left as is and are not directly managed byour implemenation.</dd>
</dl>
<dl class="data">
<dt id="translate.storage.wordfast.TAB_UTF16">
<code class="descclassname">translate.storage.wordfast.</code><code class="descname">TAB_UTF16</code><em class="property"> = '\x00\t'</em><a class="headerlink" href="#translate.storage.wordfast.TAB_UTF16" title="Permalink to this definition">¶</a></dt>
<dd><p>The tab t character as it would appear in UTF-16 encoding</p>
</dd></dl>

<dl class="data">
<dt id="translate.storage.wordfast.WF_ESCAPE_MAP">
<code class="descclassname">translate.storage.wordfast.</code><code class="descname">WF_ESCAPE_MAP</code><em class="property"> = ((u&quot;&amp;'26;&quot;, u'&amp;'), (u&quot;&amp;'82;&quot;, u'\u201a'), (u&quot;&amp;'85;&quot;, u'\u2026'), (u&quot;&amp;'91;&quot;, u'\u2018'), (u&quot;&amp;'92;&quot;, u'\u2019'), (u&quot;&amp;'93;&quot;, u'\u201c'), (u&quot;&amp;'94;&quot;, u'\u201d'), (u&quot;&amp;'96;&quot;, u'\u2013'), (u&quot;&amp;'97;&quot;, u'\u2014'), (u&quot;&amp;'99;&quot;, u'\u2122'), (u&quot;&amp;'A0;&quot;, u'\xa0'), (u&quot;&amp;'A9;&quot;, u'\xa9'), (u&quot;&amp;'AE;&quot;, u'\xae'), (u&quot;&amp;'BC;&quot;, u'\xbc'), (u&quot;&amp;'BD;&quot;, u'\xbd'), (u&quot;&amp;'BE;&quot;, u'\xbe'), (u&quot;&amp;'A8;&quot;, u'\xae'), (u&quot;&amp;'AA;&quot;, u'\u2122'), (u&quot;&amp;'C7;&quot;, u'\xab'), (u&quot;&amp;'C8;&quot;, u'\xbb'), (u&quot;&amp;'C9;&quot;, u'\u2026'), (u&quot;&amp;'CA;&quot;, u'\xa0'), (u&quot;&amp;'D0;&quot;, u'\u2013'), (u&quot;&amp;'D1;&quot;, u'\u2014'), (u&quot;&amp;'D2;&quot;, u'\u201c'), (u&quot;&amp;'D3;&quot;, u'\u201d'), (u&quot;&amp;'D4;&quot;, u'\u2018'), (u&quot;&amp;'D5;&quot;, u'\u2019'), (u&quot;&amp;'E2;&quot;, u'\u201a'), (u&quot;&amp;'E3;&quot;, u'\u201e'))</em><a class="headerlink" href="#translate.storage.wordfast.WF_ESCAPE_MAP" title="Permalink to this definition">¶</a></dt>
<dd><p>Mapping of Wordfast &amp;’XX; escapes to correct Unicode characters</p>
</dd></dl>

<dl class="data">
<dt id="translate.storage.wordfast.WF_FIELDNAMES">
<code class="descclassname">translate.storage.wordfast.</code><code class="descname">WF_FIELDNAMES</code><em class="property"> = [u'date', u'user', u'reuse', u'src-lang', u'source', u'target-lang', u'target', u'attr1', u'attr2', u'attr3', u'attr4']</em><a class="headerlink" href="#translate.storage.wordfast.WF_FIELDNAMES" title="Permalink to this definition">¶</a></dt>
<dd><p>Field names for a Wordfast TU</p>
</dd></dl>

<dl class="data">
<dt id="translate.storage.wordfast.WF_FIELDNAMES_HEADER">
<code class="descclassname">translate.storage.wordfast.</code><code class="descname">WF_FIELDNAMES_HEADER</code><em class="property"> = [u'date', u'userlist', u'tucount', u'src-lang', u'version', u'target-lang', u'license', u'attr1list', u'attr2list', u'attr3list', u'attr4list', u'attr5list']</em><a class="headerlink" href="#translate.storage.wordfast.WF_FIELDNAMES_HEADER" title="Permalink to this definition">¶</a></dt>
<dd><p>Field names for the Wordfast header</p>
</dd></dl>

<dl class="data">
<dt id="translate.storage.wordfast.WF_FIELDNAMES_HEADER_DEFAULTS">
<code class="descclassname">translate.storage.wordfast.</code><code class="descname">WF_FIELDNAMES_HEADER_DEFAULTS</code><em class="property"> = {u'attr1list': u'', u'attr2list': u'', u'attr3list': u'', u'attr4list': u'', u'attr5list': u'', u'date': u'%19000101~121212', u'license': u'%---00000001', u'src-lang': u'%EN-US', u'target-lang': u'', u'tucount': u'%TU=00000001', u'userlist': u'%User ID,TT,TT Translate-Toolkit', u'version': u'%Wordfast TM v.5.51w9/00'}</em><a class="headerlink" href="#translate.storage.wordfast.WF_FIELDNAMES_HEADER_DEFAULTS" title="Permalink to this definition">¶</a></dt>
<dd><p>Default or minimum header entries for a Wordfast file</p>
</dd></dl>

<dl class="data">
<dt id="translate.storage.wordfast.WF_TIMEFORMAT">
<code class="descclassname">translate.storage.wordfast.</code><code class="descname">WF_TIMEFORMAT</code><em class="property"> = u'%Y%m%d~%H%M%S'</em><a class="headerlink" href="#translate.storage.wordfast.WF_TIMEFORMAT" title="Permalink to this definition">¶</a></dt>
<dd><p>Time format used by Wordfast</p>
</dd></dl>

<dl class="class">
<dt id="translate.storage.wordfast.WordfastDialect">
<em class="property">class </em><code class="descclassname">translate.storage.wordfast.</code><code class="descname">WordfastDialect</code><a class="headerlink" href="#translate.storage.wordfast.WordfastDialect" title="Permalink to this definition">¶</a></dt>
<dd><p>Describe the properties of a Wordfast generated TAB-delimited file.</p>
<dl class="classmethod">
<dt id="translate.storage.wordfast.WordfastDialect.combine">
<em class="property">classmethod </em><code class="descname">combine</code><span class="sig-paren">(</span><em>dialect</em>, <em>fmtparams</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.wordfast.WordfastDialect.combine" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a new dialect with defaults and added parameters.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="translate.storage.wordfast.WordfastHeader">
<em class="property">class </em><code class="descclassname">translate.storage.wordfast.</code><code class="descname">WordfastHeader</code><span class="sig-paren">(</span><em>header=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.wordfast.WordfastHeader" title="Permalink to this definition">¶</a></dt>
<dd><p>A wordfast translation memory header</p>
<dl class="method">
<dt id="translate.storage.wordfast.WordfastHeader.getheader">
<code class="descname">getheader</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.wordfast.WordfastHeader.getheader" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the header dictionary</p>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.wordfast.WordfastHeader.header">
<code class="descname">header</code><a class="headerlink" href="#translate.storage.wordfast.WordfastHeader.header" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the header dictionary</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="translate.storage.wordfast.WordfastTMFile">
<em class="property">class </em><code class="descclassname">translate.storage.wordfast.</code><code class="descname">WordfastTMFile</code><span class="sig-paren">(</span><em>inputfile=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.wordfast.WordfastTMFile" title="Permalink to this definition">¶</a></dt>
<dd><p>A Wordfast translation memory file</p>
<dl class="attribute">
<dt id="translate.storage.wordfast.WordfastTMFile.UnitClass">
<code class="descname">UnitClass</code><a class="headerlink" href="#translate.storage.wordfast.WordfastTMFile.UnitClass" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <a class="reference internal" href="#translate.storage.wordfast.WordfastUnit" title="translate.storage.wordfast.WordfastUnit"><code class="xref py py-class docutils literal notranslate"><span class="pre">WordfastUnit</span></code></a></p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.wordfast.WordfastTMFile.add_unit_to_index">
<code class="descname">add_unit_to_index</code><span class="sig-paren">(</span><em>unit</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.wordfast.WordfastTMFile.add_unit_to_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a unit to source and location idexes</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.wordfast.WordfastTMFile.addsourceunit">
<code class="descname">addsourceunit</code><span class="sig-paren">(</span><em>source</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.wordfast.WordfastTMFile.addsourceunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Add and returns a new unit with the given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><code class="xref py py-class docutils literal notranslate"><span class="pre">TranslationUnit</span></code></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.wordfast.WordfastTMFile.addunit">
<code class="descname">addunit</code><span class="sig-paren">(</span><em>unit</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.wordfast.WordfastTMFile.addunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Append the given unit to the object’s list of units.</p>
<p>This method should always be used rather than trying to modify the
list manually.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>unit</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">TranslationUnit</span></code>) – The unit that will be added.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.wordfast.WordfastTMFile.detect_encoding">
<code class="descname">detect_encoding</code><span class="sig-paren">(</span><em>text</em>, <em>default_encodings=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.wordfast.WordfastTMFile.detect_encoding" title="Permalink to this definition">¶</a></dt>
<dd><p>Try to detect a file encoding from <cite>text</cite>, using either the chardet lib
or by trying to decode the file.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.wordfast.WordfastTMFile.fallback_detection">
<code class="descname">fallback_detection</code><span class="sig-paren">(</span><em>text</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.wordfast.WordfastTMFile.fallback_detection" title="Permalink to this definition">¶</a></dt>
<dd><p>Simple detection based on BOM in case chardet is not available.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.wordfast.WordfastTMFile.findid">
<code class="descname">findid</code><span class="sig-paren">(</span><em>id</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.wordfast.WordfastTMFile.findid" title="Permalink to this definition">¶</a></dt>
<dd><p>find unit with matching id by checking id_index</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.wordfast.WordfastTMFile.findunit">
<code class="descname">findunit</code><span class="sig-paren">(</span><em>source</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.wordfast.WordfastTMFile.findunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the unit with the given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><code class="xref py py-class docutils literal notranslate"><span class="pre">TranslationUnit</span></code> or None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.wordfast.WordfastTMFile.findunits">
<code class="descname">findunits</code><span class="sig-paren">(</span><em>source</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.wordfast.WordfastTMFile.findunits" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the units with the given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><code class="xref py py-class docutils literal notranslate"><span class="pre">TranslationUnit</span></code> or None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.wordfast.WordfastTMFile.getids">
<code class="descname">getids</code><span class="sig-paren">(</span><em>filename=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.wordfast.WordfastTMFile.getids" title="Permalink to this definition">¶</a></dt>
<dd><p>return a list of unit ids</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.wordfast.WordfastTMFile.getprojectstyle">
<code class="descname">getprojectstyle</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.wordfast.WordfastTMFile.getprojectstyle" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the project type for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.wordfast.WordfastTMFile.getsourcelanguage">
<code class="descname">getsourcelanguage</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.wordfast.WordfastTMFile.getsourcelanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the source language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.wordfast.WordfastTMFile.gettargetlanguage">
<code class="descname">gettargetlanguage</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.wordfast.WordfastTMFile.gettargetlanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the target language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.wordfast.WordfastTMFile.getunits">
<code class="descname">getunits</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.wordfast.WordfastTMFile.getunits" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of all units in this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.wordfast.WordfastTMFile.isempty">
<code class="descname">isempty</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.wordfast.WordfastTMFile.isempty" title="Permalink to this definition">¶</a></dt>
<dd><p>Return True if the object doesn’t contain any translation units.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.wordfast.WordfastTMFile.makeindex">
<code class="descname">makeindex</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.wordfast.WordfastTMFile.makeindex" title="Permalink to this definition">¶</a></dt>
<dd><p>Indexes the items in this store. At least .sourceindex should be
useful.</p>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.wordfast.WordfastTMFile.merge_on">
<code class="descname">merge_on</code><a class="headerlink" href="#translate.storage.wordfast.WordfastTMFile.merge_on" title="Permalink to this definition">¶</a></dt>
<dd><p>The matching criterion to use when merging on.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The default matching criterion for all the subclasses.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">string</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.wordfast.WordfastTMFile.parse">
<code class="descname">parse</code><span class="sig-paren">(</span><em>input</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.wordfast.WordfastTMFile.parse" title="Permalink to this definition">¶</a></dt>
<dd><p>parsese the given file or file source string</p>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.wordfast.WordfastTMFile.parsefile">
<em class="property">classmethod </em><code class="descname">parsefile</code><span class="sig-paren">(</span><em>storefile</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.wordfast.WordfastTMFile.parsefile" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads the given file (or opens the given filename) and parses back
to an object.</p>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.wordfast.WordfastTMFile.parsestring">
<em class="property">classmethod </em><code class="descname">parsestring</code><span class="sig-paren">(</span><em>storestring</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.wordfast.WordfastTMFile.parsestring" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert the string representation back to an object.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.wordfast.WordfastTMFile.remove_unit_from_index">
<code class="descname">remove_unit_from_index</code><span class="sig-paren">(</span><em>unit</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.wordfast.WordfastTMFile.remove_unit_from_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove a unit from source and locaton indexes</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.wordfast.WordfastTMFile.require_index">
<code class="descname">require_index</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.wordfast.WordfastTMFile.require_index" title="Permalink to this definition">¶</a></dt>
<dd><p>make sure source index exists</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.wordfast.WordfastTMFile.save">
<code class="descname">save</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.wordfast.WordfastTMFile.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Save to the file that data was originally read from, if available.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.wordfast.WordfastTMFile.savefile">
<code class="descname">savefile</code><span class="sig-paren">(</span><em>storefile</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.wordfast.WordfastTMFile.savefile" title="Permalink to this definition">¶</a></dt>
<dd><p>Write the string representation to the given file (or filename).</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.wordfast.WordfastTMFile.serialize">
<code class="descname">serialize</code><span class="sig-paren">(</span><em>out</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.wordfast.WordfastTMFile.serialize" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts to a bytes representation that can be parsed back using
<a class="reference internal" href="#translate.storage.base.TranslationStore.parsestring" title="translate.storage.base.TranslationStore.parsestring"><code class="xref py py-meth docutils literal notranslate"><span class="pre">parsestring()</span></code></a>.
<cite>out</cite> should be an open file-like objects to write to.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.wordfast.WordfastTMFile.setprojectstyle">
<code class="descname">setprojectstyle</code><span class="sig-paren">(</span><em>project_style</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.wordfast.WordfastTMFile.setprojectstyle" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the project type for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.wordfast.WordfastTMFile.setsourcelanguage">
<code class="descname">setsourcelanguage</code><span class="sig-paren">(</span><em>sourcelanguage</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.wordfast.WordfastTMFile.setsourcelanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the source language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.wordfast.WordfastTMFile.settargetlanguage">
<code class="descname">settargetlanguage</code><span class="sig-paren">(</span><em>targetlanguage</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.wordfast.WordfastTMFile.settargetlanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the target language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.wordfast.WordfastTMFile.translate">
<code class="descname">translate</code><span class="sig-paren">(</span><em>source</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.wordfast.WordfastTMFile.translate" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the translated string for a given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">String or <a class="reference external" href="https://docs.python.org/2.7/library/constants.html#None" title="(in Python v2.7)">None</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.wordfast.WordfastTMFile.unit_iter">
<code class="descname">unit_iter</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.wordfast.WordfastTMFile.unit_iter" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterator over all the units in this store.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="translate.storage.wordfast.WordfastTime">
<em class="property">class </em><code class="descclassname">translate.storage.wordfast.</code><code class="descname">WordfastTime</code><span class="sig-paren">(</span><em>newtime=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.wordfast.WordfastTime" title="Permalink to this definition">¶</a></dt>
<dd><p>Manages time stamps in the Wordfast format of YYYYMMDD~hhmmss</p>
<dl class="method">
<dt id="translate.storage.wordfast.WordfastTime.get_time">
<code class="descname">get_time</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.wordfast.WordfastTime.get_time" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the time_struct object</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.wordfast.WordfastTime.get_timestring">
<code class="descname">get_timestring</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.wordfast.WordfastTime.get_timestring" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the time in the Wordfast time format</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.wordfast.WordfastTime.set_time">
<code class="descname">set_time</code><span class="sig-paren">(</span><em>newtime</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.wordfast.WordfastTime.set_time" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the time_struct object</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>newtime</strong> (<em>time.time_struct</em>) – a new time object</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.wordfast.WordfastTime.set_timestring">
<code class="descname">set_timestring</code><span class="sig-paren">(</span><em>timestring</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.wordfast.WordfastTime.set_timestring" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the time_sturct object using a Wordfast time formated string</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>timestring</strong> (<em>String</em>) – A Wordfast time string (YYYMMDD~hhmmss)</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.wordfast.WordfastTime.time">
<code class="descname">time</code><a class="headerlink" href="#translate.storage.wordfast.WordfastTime.time" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the time_struct object</p>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.wordfast.WordfastTime.timestring">
<code class="descname">timestring</code><a class="headerlink" href="#translate.storage.wordfast.WordfastTime.timestring" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the time in the Wordfast time format</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="translate.storage.wordfast.WordfastUnit">
<em class="property">class </em><code class="descclassname">translate.storage.wordfast.</code><code class="descname">WordfastUnit</code><span class="sig-paren">(</span><em>source=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.wordfast.WordfastUnit" title="Permalink to this definition">¶</a></dt>
<dd><p>A Wordfast translation memory unit</p>
<dl class="method">
<dt id="translate.storage.wordfast.WordfastUnit.adderror">
<code class="descname">adderror</code><span class="sig-paren">(</span><em>errorname</em>, <em>errortext</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.wordfast.WordfastUnit.adderror" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds an error message to this unit.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>errorname</strong> (<em>string</em>) – A single word to id the error.</li>
<li><strong>errortext</strong> (<em>string</em>) – The text describing the error.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.wordfast.WordfastUnit.addlocation">
<code class="descname">addlocation</code><span class="sig-paren">(</span><em>location</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.wordfast.WordfastUnit.addlocation" title="Permalink to this definition">¶</a></dt>
<dd><p>Add one location to the list of locations.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Shouldn’t be implemented if the format doesn’t support it.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.wordfast.WordfastUnit.addlocations">
<code class="descname">addlocations</code><span class="sig-paren">(</span><em>location</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.wordfast.WordfastUnit.addlocations" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a location or a list of locations.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Most classes shouldn’t need to implement this, but should rather
implement <code class="xref py py-meth docutils literal notranslate"><span class="pre">TranslationUnit.addlocation()</span></code>.</p>
</div>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">This method might be removed in future.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.wordfast.WordfastUnit.addnote">
<code class="descname">addnote</code><span class="sig-paren">(</span><em>text</em>, <em>origin=None</em>, <em>position='append'</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.wordfast.WordfastUnit.addnote" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds a note (comment).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>text</strong> (<em>string</em>) – Usually just a sentence or two.</li>
<li><strong>origin</strong> (<em>string</em>) – Specifies who/where the comment comes from.
Origin can be one of the following text strings:
- ‘translator’
- ‘developer’, ‘programmer’, ‘source code’ (synonyms)</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.wordfast.WordfastUnit.buildfromunit">
<em class="property">classmethod </em><code class="descname">buildfromunit</code><span class="sig-paren">(</span><em>unit</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.wordfast.WordfastUnit.buildfromunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Build a native unit from a foreign unit, preserving as much
information as possible.</p>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.wordfast.WordfastUnit.dict">
<code class="descname">dict</code><a class="headerlink" href="#translate.storage.wordfast.WordfastUnit.dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the dictionary of values for a Wordfast line</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.wordfast.WordfastUnit.getcontext">
<code class="descname">getcontext</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.wordfast.WordfastUnit.getcontext" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the message context.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.wordfast.WordfastUnit.getdict">
<code class="descname">getdict</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.wordfast.WordfastUnit.getdict" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the dictionary of values for a Wordfast line</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.wordfast.WordfastUnit.geterrors">
<code class="descname">geterrors</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.wordfast.WordfastUnit.geterrors" title="Permalink to this definition">¶</a></dt>
<dd><p>Get all error messages.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">Dictionary</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.wordfast.WordfastUnit.getid">
<code class="descname">getid</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.wordfast.WordfastUnit.getid" title="Permalink to this definition">¶</a></dt>
<dd><p>A unique identifier for this unit.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">string</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">an identifier for this unit that is unique in the store</td>
</tr>
</tbody>
</table>
<p>Derived classes should override this in a way that guarantees a unique
identifier for each unit in the store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.wordfast.WordfastUnit.getlocations">
<code class="descname">getlocations</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.wordfast.WordfastUnit.getlocations" title="Permalink to this definition">¶</a></dt>
<dd><p>A list of source code locations.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">List</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Shouldn’t be implemented if the format doesn’t support it.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.wordfast.WordfastUnit.getnotes">
<code class="descname">getnotes</code><span class="sig-paren">(</span><em>origin=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.wordfast.WordfastUnit.getnotes" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns all notes about this unit.</p>
<p>It will probably be freeform text or something reasonable that can be
synthesised by the format.
It should not include location comments (see
<a class="reference internal" href="#translate.storage.base.TranslationUnit.getlocations" title="translate.storage.base.TranslationUnit.getlocations"><code class="xref py py-meth docutils literal notranslate"><span class="pre">getlocations()</span></code></a>).</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.wordfast.WordfastUnit.gettargetlen">
<code class="descname">gettargetlen</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.wordfast.WordfastUnit.gettargetlen" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the length of the target string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">Integer</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Plural forms might be combined.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.wordfast.WordfastUnit.getunits">
<code class="descname">getunits</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.wordfast.WordfastUnit.getunits" title="Permalink to this definition">¶</a></dt>
<dd><p>This unit in a list.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.wordfast.WordfastUnit.hasplural">
<code class="descname">hasplural</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.wordfast.WordfastUnit.hasplural" title="Permalink to this definition">¶</a></dt>
<dd><p>Tells whether or not this specific unit has plural strings.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.wordfast.WordfastUnit.infer_state">
<code class="descname">infer_state</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.wordfast.WordfastUnit.infer_state" title="Permalink to this definition">¶</a></dt>
<dd><p>Empty method that should be overridden in sub-classes to infer the
current state(_n) of the unit from its current state.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.wordfast.WordfastUnit.isblank">
<code class="descname">isblank</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.wordfast.WordfastUnit.isblank" title="Permalink to this definition">¶</a></dt>
<dd><p>Used to see if this unit has no source or target string.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This is probably used more to find translatable units,
and we might want to move in that direction rather and
get rid of this.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.wordfast.WordfastUnit.isfuzzy">
<code class="descname">isfuzzy</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.wordfast.WordfastUnit.isfuzzy" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit is fuzzy.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.wordfast.WordfastUnit.isheader">
<code class="descname">isheader</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.wordfast.WordfastUnit.isheader" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit is a header.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.wordfast.WordfastUnit.isobsolete">
<code class="descname">isobsolete</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.wordfast.WordfastUnit.isobsolete" title="Permalink to this definition">¶</a></dt>
<dd><p>indicate whether a unit is obsolete</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.wordfast.WordfastUnit.isreview">
<code class="descname">isreview</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.wordfast.WordfastUnit.isreview" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit needs review.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.wordfast.WordfastUnit.istranslatable">
<code class="descname">istranslatable</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.wordfast.WordfastUnit.istranslatable" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit can be translated.</p>
<p>This should be used to distinguish real units for translation from
header, obsolete, binary or other blank units.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.wordfast.WordfastUnit.istranslated">
<code class="descname">istranslated</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.wordfast.WordfastUnit.istranslated" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit is translated.</p>
<p>This should be used rather than deducing it from .target,
to ensure that other classes can implement more functionality
(as XLIFF does).</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.wordfast.WordfastUnit.makeobsolete">
<code class="descname">makeobsolete</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.wordfast.WordfastUnit.makeobsolete" title="Permalink to this definition">¶</a></dt>
<dd><p>Make a unit obsolete</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.wordfast.WordfastUnit.markfuzzy">
<code class="descname">markfuzzy</code><span class="sig-paren">(</span><em>value=True</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.wordfast.WordfastUnit.markfuzzy" title="Permalink to this definition">¶</a></dt>
<dd><p>Marks the unit as fuzzy or not.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.wordfast.WordfastUnit.markreviewneeded">
<code class="descname">markreviewneeded</code><span class="sig-paren">(</span><em>needsreview=True</em>, <em>explanation=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.wordfast.WordfastUnit.markreviewneeded" title="Permalink to this definition">¶</a></dt>
<dd><p>Marks the unit to indicate whether it needs review.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>needsreview</strong> – Defaults to True.</li>
<li><strong>explanation</strong> – Adds an optional explanation as a note.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.wordfast.WordfastUnit.merge">
<code class="descname">merge</code><span class="sig-paren">(</span><em>otherunit</em>, <em>overwrite=False</em>, <em>comments=True</em>, <em>authoritative=False</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.wordfast.WordfastUnit.merge" title="Permalink to this definition">¶</a></dt>
<dd><p>Do basic format agnostic merging.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.wordfast.WordfastUnit.multistring_to_rich">
<code class="descname">multistring_to_rich</code><span class="sig-paren">(</span><em>mulstring</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.wordfast.WordfastUnit.multistring_to_rich" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a multistring to a list of “rich” string trees:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">target</span> <span class="o">=</span> <span class="n">multistring</span><span class="p">([</span><span class="sa">u</span><span class="s1">&#39;foo&#39;</span><span class="p">,</span> <span class="sa">u</span><span class="s1">&#39;bar&#39;</span><span class="p">,</span> <span class="sa">u</span><span class="s1">&#39;baz&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">TranslationUnit</span><span class="o">.</span><span class="n">multistring_to_rich</span><span class="p">(</span><span class="n">target</span><span class="p">)</span>
<span class="go">[&lt;StringElem([&lt;StringElem([u&#39;foo&#39;])&gt;])&gt;,</span>
<span class="go"> &lt;StringElem([&lt;StringElem([u&#39;bar&#39;])&gt;])&gt;,</span>
<span class="go"> &lt;StringElem([&lt;StringElem([u&#39;baz&#39;])&gt;])&gt;]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.wordfast.WordfastUnit.removenotes">
<code class="descname">removenotes</code><span class="sig-paren">(</span><em>origin=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.wordfast.WordfastUnit.removenotes" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove all the translator’s notes.</p>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.wordfast.WordfastUnit.rich_source">
<code class="descname">rich_source</code><a class="headerlink" href="#translate.storage.wordfast.WordfastUnit.rich_source" title="Permalink to this definition">¶</a></dt>
<dd><div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="#translate.storage.wordfast.WordfastUnit.rich_to_multistring" title="translate.storage.wordfast.WordfastUnit.rich_to_multistring"><code class="xref py py-meth docutils literal notranslate"><span class="pre">rich_to_multistring()</span></code></a>, <a class="reference internal" href="#translate.storage.wordfast.WordfastUnit.multistring_to_rich" title="translate.storage.wordfast.WordfastUnit.multistring_to_rich"><code class="xref py py-meth docutils literal notranslate"><span class="pre">multistring_to_rich()</span></code></a></p>
</div>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.wordfast.WordfastUnit.rich_target">
<code class="descname">rich_target</code><a class="headerlink" href="#translate.storage.wordfast.WordfastUnit.rich_target" title="Permalink to this definition">¶</a></dt>
<dd><div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="#translate.storage.wordfast.WordfastUnit.rich_to_multistring" title="translate.storage.wordfast.WordfastUnit.rich_to_multistring"><code class="xref py py-meth docutils literal notranslate"><span class="pre">rich_to_multistring()</span></code></a>, <a class="reference internal" href="#translate.storage.wordfast.WordfastUnit.multistring_to_rich" title="translate.storage.wordfast.WordfastUnit.multistring_to_rich"><code class="xref py py-meth docutils literal notranslate"><span class="pre">multistring_to_rich()</span></code></a></p>
</div>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.wordfast.WordfastUnit.rich_to_multistring">
<em class="property">classmethod </em><code class="descname">rich_to_multistring</code><span class="sig-paren">(</span><em>elem_list</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.wordfast.WordfastUnit.rich_to_multistring" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a “rich” string tree to a <code class="docutils literal notranslate"><span class="pre">multistring</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">translate.storage.placeables.interfaces</span> <span class="kn">import</span> <span class="n">X</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rich</span> <span class="o">=</span> <span class="p">[</span><span class="n">StringElem</span><span class="p">([</span><span class="s1">&#39;foo&#39;</span><span class="p">,</span> <span class="n">X</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="s1">&#39;xxx&#39;</span><span class="p">,</span> <span class="n">sub</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39; &#39;</span><span class="p">]),</span> <span class="s1">&#39;bar&#39;</span><span class="p">])]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">TranslationUnit</span><span class="o">.</span><span class="n">rich_to_multistring</span><span class="p">(</span><span class="n">rich</span><span class="p">)</span>
<span class="go">multistring(u&#39;foo bar&#39;)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.wordfast.WordfastUnit.setcontext">
<code class="descname">setcontext</code><span class="sig-paren">(</span><em>context</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.wordfast.WordfastUnit.setcontext" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the message context</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.wordfast.WordfastUnit.setdict">
<code class="descname">setdict</code><span class="sig-paren">(</span><em>newdict</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.wordfast.WordfastUnit.setdict" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the dictionary of values for a Wordfast line</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>newdict</strong> (<em>Dict</em>) – a new dictionary with Wordfast line elements</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.wordfast.WordfastUnit.setid">
<code class="descname">setid</code><span class="sig-paren">(</span><em>value</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.wordfast.WordfastUnit.setid" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the unique identified for this unit.</p>
<p>only implemented if format allows ids independant from other unit
properties like source or context</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.wordfast.WordfastUnit.unit_iter">
<code class="descname">unit_iter</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.wordfast.WordfastUnit.unit_iter" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterator that only returns this unit.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-translate.storage.workflow">
<span id="workflow"></span><h2>workflow<a class="headerlink" href="#module-translate.storage.workflow" title="Permalink to this headline">¶</a></h2>
<p>A workflow is defined by a set of states that a translation unit can be in and
the (allowed) transitions between these states. A state is defined by a range
between -128 and 127, indicating its level of “completeness”. The range is
closed at the beginning and open at the end. That is, if a workflow contains
states A, B and C where A &lt; B &lt; C, a unit with state number n is in state A if
A &lt;= n &lt; B, state B if B &lt;= n &lt; C or state C if C &lt;= n &lt; MAX.</p>
<p>A value of 0 is typically the “empty” or “new” state with negative values
reserved for states like “obsolete” or “do not use”.</p>
<p>Format specific workflows should be defined in such a way that the numeric
state values correspond to similar states. For example state 0 should be
“untranslated” in PO and “new” or “empty” in XLIFF, state 100 should be
“translated” in PO and “final” in XLIFF. This allows formats to implicitly
define similar states.</p>
<dl class="exception">
<dt id="translate.storage.workflow.InvalidStateObjectError">
<em class="property">exception </em><code class="descclassname">translate.storage.workflow.</code><code class="descname">InvalidStateObjectError</code><span class="sig-paren">(</span><em>obj</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.workflow.InvalidStateObjectError" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="exception">
<dt id="translate.storage.workflow.NoInitialStateError">
<em class="property">exception </em><code class="descclassname">translate.storage.workflow.</code><code class="descname">NoInitialStateError</code><a class="headerlink" href="#translate.storage.workflow.NoInitialStateError" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="class">
<dt id="translate.storage.workflow.StateEnum">
<em class="property">class </em><code class="descclassname">translate.storage.workflow.</code><code class="descname">StateEnum</code><a class="headerlink" href="#translate.storage.workflow.StateEnum" title="Permalink to this definition">¶</a></dt>
<dd><p>Only contains the constants for default states.</p>
</dd></dl>

<dl class="exception">
<dt id="translate.storage.workflow.StateNotInWorkflowError">
<em class="property">exception </em><code class="descclassname">translate.storage.workflow.</code><code class="descname">StateNotInWorkflowError</code><span class="sig-paren">(</span><em>state</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.workflow.StateNotInWorkflowError" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="exception">
<dt id="translate.storage.workflow.TransitionError">
<em class="property">exception </em><code class="descclassname">translate.storage.workflow.</code><code class="descname">TransitionError</code><a class="headerlink" href="#translate.storage.workflow.TransitionError" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="exception">
<dt id="translate.storage.workflow.WorkflowError">
<em class="property">exception </em><code class="descclassname">translate.storage.workflow.</code><code class="descname">WorkflowError</code><a class="headerlink" href="#translate.storage.workflow.WorkflowError" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="id13">
<h2>xliff<a class="headerlink" href="#id13" title="Permalink to this headline">¶</a></h2>
<span class="target" id="module-translate.storage.xliff"></span><p>Module for handling XLIFF files for translation.</p>
<p>The official recommendation is to use the extention .xlf for XLIFF files.</p>
<dl class="class">
<dt id="translate.storage.xliff.xlifffile">
<em class="property">class </em><code class="descclassname">translate.storage.xliff.</code><code class="descname">xlifffile</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.xliff.xlifffile" title="Permalink to this definition">¶</a></dt>
<dd><p>Class representing a XLIFF file store.</p>
<dl class="attribute">
<dt id="translate.storage.xliff.xlifffile.UnitClass">
<code class="descname">UnitClass</code><a class="headerlink" href="#translate.storage.xliff.xlifffile.UnitClass" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <a class="reference internal" href="#translate.storage.xliff.xliffunit" title="translate.storage.xliff.xliffunit"><code class="xref py py-class docutils literal notranslate"><span class="pre">xliffunit</span></code></a></p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.xliff.xlifffile.add_unit_to_index">
<code class="descname">add_unit_to_index</code><span class="sig-paren">(</span><em>unit</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.xliff.xlifffile.add_unit_to_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a unit to source and location idexes</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.xliff.xlifffile.addheader">
<code class="descname">addheader</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.xliff.xlifffile.addheader" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialise the file header.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.xliff.xlifffile.addsourceunit">
<code class="descname">addsourceunit</code><span class="sig-paren">(</span><em>source</em>, <em>filename='NoName'</em>, <em>createifmissing=False</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.xliff.xlifffile.addsourceunit" title="Permalink to this definition">¶</a></dt>
<dd><p>adds the given trans-unit to the last used body node if the filename
has changed it uses the slow method instead (will create the nodes
required if asked). Returns success</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.xliff.xlifffile.addunit">
<code class="descname">addunit</code><span class="sig-paren">(</span><em>unit</em>, <em>new=True</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.xliff.xlifffile.addunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Append the given unit to the object’s list of units.</p>
<p>This method should always be used rather than trying to modify the
list manually.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>unit</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">TranslationUnit</span></code>) – The unit that will be added.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.xliff.xlifffile.createfilenode">
<code class="descname">createfilenode</code><span class="sig-paren">(</span><em>filename</em>, <em>sourcelanguage=None</em>, <em>targetlanguage=None</em>, <em>datatype='plaintext'</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.xliff.xlifffile.createfilenode" title="Permalink to this definition">¶</a></dt>
<dd><p>creates a filenode with the given filename. All parameters are
needed for XLIFF compliance.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.xliff.xlifffile.creategroup">
<code class="descname">creategroup</code><span class="sig-paren">(</span><em>filename='NoName'</em>, <em>createifmissing=False</em>, <em>restype=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.xliff.xlifffile.creategroup" title="Permalink to this definition">¶</a></dt>
<dd><p>adds a group tag into the specified file</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.xliff.xlifffile.detect_encoding">
<code class="descname">detect_encoding</code><span class="sig-paren">(</span><em>text</em>, <em>default_encodings=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.xliff.xlifffile.detect_encoding" title="Permalink to this definition">¶</a></dt>
<dd><p>Try to detect a file encoding from <cite>text</cite>, using either the chardet lib
or by trying to decode the file.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.xliff.xlifffile.fallback_detection">
<code class="descname">fallback_detection</code><span class="sig-paren">(</span><em>text</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.xliff.xlifffile.fallback_detection" title="Permalink to this definition">¶</a></dt>
<dd><p>Simple detection based on BOM in case chardet is not available.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.xliff.xlifffile.findid">
<code class="descname">findid</code><span class="sig-paren">(</span><em>id</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.xliff.xlifffile.findid" title="Permalink to this definition">¶</a></dt>
<dd><p>find unit with matching id by checking id_index</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.xliff.xlifffile.findunit">
<code class="descname">findunit</code><span class="sig-paren">(</span><em>source</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.xliff.xlifffile.findunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the unit with the given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><code class="xref py py-class docutils literal notranslate"><span class="pre">TranslationUnit</span></code> or None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.xliff.xlifffile.findunits">
<code class="descname">findunits</code><span class="sig-paren">(</span><em>source</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.xliff.xlifffile.findunits" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the units with the given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><code class="xref py py-class docutils literal notranslate"><span class="pre">TranslationUnit</span></code> or None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.xliff.xlifffile.getbodynode">
<code class="descname">getbodynode</code><span class="sig-paren">(</span><em>filenode</em>, <em>createifmissing=False</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.xliff.xlifffile.getbodynode" title="Permalink to this definition">¶</a></dt>
<dd><p>finds the body node for the given filenode</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.xliff.xlifffile.getdatatype">
<code class="descname">getdatatype</code><span class="sig-paren">(</span><em>filename=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.xliff.xlifffile.getdatatype" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the datatype of the stored file. If no filename is given,
the datatype of the first file is given.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.xliff.xlifffile.getdate">
<code class="descname">getdate</code><span class="sig-paren">(</span><em>filename=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.xliff.xlifffile.getdate" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the date attribute for the file.</p>
<p>If no filename is given, the date of the first file is given.
If the date attribute is not specified, None is returned.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">Date attribute of file</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">Date or <a class="reference external" href="https://docs.python.org/2.7/library/constants.html#None" title="(in Python v2.7)">None</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.xliff.xlifffile.getfilename">
<code class="descname">getfilename</code><span class="sig-paren">(</span><em>filenode</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.xliff.xlifffile.getfilename" title="Permalink to this definition">¶</a></dt>
<dd><p>returns the name of the given file</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.xliff.xlifffile.getfilenames">
<code class="descname">getfilenames</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.xliff.xlifffile.getfilenames" title="Permalink to this definition">¶</a></dt>
<dd><p>returns all filenames in this XLIFF file</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.xliff.xlifffile.getfilenode">
<code class="descname">getfilenode</code><span class="sig-paren">(</span><em>filename</em>, <em>createifmissing=False</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.xliff.xlifffile.getfilenode" title="Permalink to this definition">¶</a></dt>
<dd><p>finds the filenode with the given name</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.xliff.xlifffile.getheadernode">
<code class="descname">getheadernode</code><span class="sig-paren">(</span><em>filenode</em>, <em>createifmissing=False</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.xliff.xlifffile.getheadernode" title="Permalink to this definition">¶</a></dt>
<dd><p>finds the header node for the given filenode</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.xliff.xlifffile.getids">
<code class="descname">getids</code><span class="sig-paren">(</span><em>filename=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.xliff.xlifffile.getids" title="Permalink to this definition">¶</a></dt>
<dd><p>return a list of unit ids</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.xliff.xlifffile.getprojectstyle">
<code class="descname">getprojectstyle</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.xliff.xlifffile.getprojectstyle" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the project type for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.xliff.xlifffile.getsourcelanguage">
<code class="descname">getsourcelanguage</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.xliff.xlifffile.getsourcelanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the source language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.xliff.xlifffile.gettargetlanguage">
<code class="descname">gettargetlanguage</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.xliff.xlifffile.gettargetlanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the target language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.xliff.xlifffile.getunits">
<code class="descname">getunits</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.xliff.xlifffile.getunits" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of all units in this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.xliff.xlifffile.initbody">
<code class="descname">initbody</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.xliff.xlifffile.initbody" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialises self.body so it never needs to be retrieved from the XML
again.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.xliff.xlifffile.isempty">
<code class="descname">isempty</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.xliff.xlifffile.isempty" title="Permalink to this definition">¶</a></dt>
<dd><p>Return True if the object doesn’t contain any translation units.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.xliff.xlifffile.makeindex">
<code class="descname">makeindex</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.xliff.xlifffile.makeindex" title="Permalink to this definition">¶</a></dt>
<dd><p>Indexes the items in this store. At least .sourceindex should be
useful.</p>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.xliff.xlifffile.merge_on">
<code class="descname">merge_on</code><a class="headerlink" href="#translate.storage.xliff.xlifffile.merge_on" title="Permalink to this definition">¶</a></dt>
<dd><p>The matching criterion to use when merging on.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The default matching criterion for all the subclasses.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">string</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.xliff.xlifffile.namespaced">
<code class="descname">namespaced</code><span class="sig-paren">(</span><em>name</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.xliff.xlifffile.namespaced" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns name in Clark notation.</p>
<p>For example <code class="docutils literal notranslate"><span class="pre">namespaced(&quot;source&quot;)</span></code> in an XLIFF document
might return:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span><span class="n">urn</span><span class="p">:</span><span class="n">oasis</span><span class="p">:</span><span class="n">names</span><span class="p">:</span><span class="n">tc</span><span class="p">:</span><span class="n">xliff</span><span class="p">:</span><span class="n">document</span><span class="p">:</span><span class="mf">1.1</span><span class="p">}</span><span class="n">source</span>
</pre></div>
</div>
<p>This is needed throughout lxml.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.xliff.xlifffile.parse">
<code class="descname">parse</code><span class="sig-paren">(</span><em>xml</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.xliff.xlifffile.parse" title="Permalink to this definition">¶</a></dt>
<dd><p>Populates this object from the given xml string</p>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.xliff.xlifffile.parsefile">
<em class="property">classmethod </em><code class="descname">parsefile</code><span class="sig-paren">(</span><em>storefile</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.xliff.xlifffile.parsefile" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads the given file (or opens the given filename) and parses back
to an object.</p>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.xliff.xlifffile.parsestring">
<em class="property">classmethod </em><code class="descname">parsestring</code><span class="sig-paren">(</span><em>storestring</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.xliff.xlifffile.parsestring" title="Permalink to this definition">¶</a></dt>
<dd><p>Parses the string to return the correct file object</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.xliff.xlifffile.remove_unit_from_index">
<code class="descname">remove_unit_from_index</code><span class="sig-paren">(</span><em>unit</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.xliff.xlifffile.remove_unit_from_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove a unit from source and locaton indexes</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.xliff.xlifffile.removedefaultfile">
<code class="descname">removedefaultfile</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.xliff.xlifffile.removedefaultfile" title="Permalink to this definition">¶</a></dt>
<dd><p>We want to remove the default file-tag as soon as possible if we
know if still present and empty.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.xliff.xlifffile.require_index">
<code class="descname">require_index</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.xliff.xlifffile.require_index" title="Permalink to this definition">¶</a></dt>
<dd><p>make sure source index exists</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.xliff.xlifffile.save">
<code class="descname">save</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.xliff.xlifffile.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Save to the file that data was originally read from, if available.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.xliff.xlifffile.savefile">
<code class="descname">savefile</code><span class="sig-paren">(</span><em>storefile</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.xliff.xlifffile.savefile" title="Permalink to this definition">¶</a></dt>
<dd><p>Write the string representation to the given file (or filename).</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.xliff.xlifffile.serialize">
<code class="descname">serialize</code><span class="sig-paren">(</span><em>out</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.xliff.xlifffile.serialize" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts to a string containing the file’s XML</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.xliff.xlifffile.setfilename">
<code class="descname">setfilename</code><span class="sig-paren">(</span><em>filenode</em>, <em>filename</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.xliff.xlifffile.setfilename" title="Permalink to this definition">¶</a></dt>
<dd><p>set the name of the given file</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.xliff.xlifffile.setprojectstyle">
<code class="descname">setprojectstyle</code><span class="sig-paren">(</span><em>project_style</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.xliff.xlifffile.setprojectstyle" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the project type for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.xliff.xlifffile.setsourcelanguage">
<code class="descname">setsourcelanguage</code><span class="sig-paren">(</span><em>language</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.xliff.xlifffile.setsourcelanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the source language for this store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.xliff.xlifffile.settargetlanguage">
<code class="descname">settargetlanguage</code><span class="sig-paren">(</span><em>language</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.xliff.xlifffile.settargetlanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the target language for this store.</p>
</dd></dl>

<dl class="attribute">
<dt id="translate.storage.xliff.xlifffile.suggestions_in_format">
<code class="descname">suggestions_in_format</code><em class="property"> = True</em><a class="headerlink" href="#translate.storage.xliff.xlifffile.suggestions_in_format" title="Permalink to this definition">¶</a></dt>
<dd><p>xliff units have alttrans tags which can be used to store suggestions</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.xliff.xlifffile.switchfile">
<code class="descname">switchfile</code><span class="sig-paren">(</span><em>filename</em>, <em>createifmissing=False</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.xliff.xlifffile.switchfile" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds the given trans-unit (will create the nodes required if asked).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">Success</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">Boolean</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.xliff.xlifffile.translate">
<code class="descname">translate</code><span class="sig-paren">(</span><em>source</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.xliff.xlifffile.translate" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the translated string for a given source string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">String or <a class="reference external" href="https://docs.python.org/2.7/library/constants.html#None" title="(in Python v2.7)">None</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.xliff.xlifffile.unit_iter">
<code class="descname">unit_iter</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.xliff.xlifffile.unit_iter" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterator over all the units in this store.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="translate.storage.xliff.xliffunit">
<em class="property">class </em><code class="descclassname">translate.storage.xliff.</code><code class="descname">xliffunit</code><span class="sig-paren">(</span><em>source</em>, <em>empty=False</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.xliff.xliffunit" title="Permalink to this definition">¶</a></dt>
<dd><p>A single term in the xliff file.</p>
<dl class="method">
<dt id="translate.storage.xliff.xliffunit.addalttrans">
<code class="descname">addalttrans</code><span class="sig-paren">(</span><em>txt</em>, <em>origin=None</em>, <em>lang=None</em>, <em>sourcetxt=None</em>, <em>matchquality=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.xliff.xliffunit.addalttrans" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds an alt-trans tag and alt-trans components to the unit.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>txt</strong> (<em>String</em>) – Alternative translation of the source text.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="translate.storage.xliff.xliffunit.adderror">
<code class="descname">adderror</code><span class="sig-paren">(</span><em>errorname</em>, <em>errortext</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.xliff.xliffunit.adderror" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds an error message to this unit.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.xliff.xliffunit.addlocation">
<code class="descname">addlocation</code><span class="sig-paren">(</span><em>location</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.xliff.xliffunit.addlocation" title="Permalink to this definition">¶</a></dt>
<dd><p>Add one location to the list of locations.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Shouldn’t be implemented if the format doesn’t support it.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.xliff.xliffunit.addlocations">
<code class="descname">addlocations</code><span class="sig-paren">(</span><em>location</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.xliff.xliffunit.addlocations" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a location or a list of locations.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Most classes shouldn’t need to implement this, but should rather
implement <code class="xref py py-meth docutils literal notranslate"><span class="pre">TranslationUnit.addlocation()</span></code>.</p>
</div>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">This method might be removed in future.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.xliff.xliffunit.addnote">
<code class="descname">addnote</code><span class="sig-paren">(</span><em>text</em>, <em>origin=None</em>, <em>position='append'</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.xliff.xliffunit.addnote" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a note specifically in a “note” tag</p>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.xliff.xliffunit.buildfromunit">
<em class="property">classmethod </em><code class="descname">buildfromunit</code><span class="sig-paren">(</span><em>unit</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.xliff.xliffunit.buildfromunit" title="Permalink to this definition">¶</a></dt>
<dd><p>Build a native unit from a foreign unit, preserving as much
information as possible.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.xliff.xliffunit.correctorigin">
<code class="descname">correctorigin</code><span class="sig-paren">(</span><em>node</em>, <em>origin</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.xliff.xliffunit.correctorigin" title="Permalink to this definition">¶</a></dt>
<dd><p>Check against node tag’s origin (e.g note or alt-trans)</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.xliff.xliffunit.createcontextgroup">
<code class="descname">createcontextgroup</code><span class="sig-paren">(</span><em>name</em>, <em>contexts=None</em>, <em>purpose=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.xliff.xliffunit.createcontextgroup" title="Permalink to this definition">¶</a></dt>
<dd><p>Add the context group to the trans-unit with contexts a list with
(type, text) tuples describing each context.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.xliff.xliffunit.createlanguageNode">
<code class="descname">createlanguageNode</code><span class="sig-paren">(</span><em>lang</em>, <em>text</em>, <em>purpose</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.xliff.xliffunit.createlanguageNode" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns an xml Element setup with given parameters.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.xliff.xliffunit.delalttrans">
<code class="descname">delalttrans</code><span class="sig-paren">(</span><em>alternative</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.xliff.xliffunit.delalttrans" title="Permalink to this definition">¶</a></dt>
<dd><p>Removes the supplied alternative from the list of alt-trans tags</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.xliff.xliffunit.getNodeText">
<code class="descname">getNodeText</code><span class="sig-paren">(</span><em>languageNode</em>, <em>xml_space='preserve'</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.xliff.xliffunit.getNodeText" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieves the term from the given <code class="xref py py-attr docutils literal notranslate"><span class="pre">languageNode</span></code>.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.xliff.xliffunit.get_rich_target">
<code class="descname">get_rich_target</code><span class="sig-paren">(</span><em>lang=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.xliff.xliffunit.get_rich_target" title="Permalink to this definition">¶</a></dt>
<dd><p>retrieves the “target” text (second entry), or the entry in the
specified language, if it exists</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.xliff.xliffunit.getalttrans">
<code class="descname">getalttrans</code><span class="sig-paren">(</span><em>origin=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.xliff.xliffunit.getalttrans" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns &lt;alt-trans&gt; for the given origin as a list of units. No
origin means all alternatives.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.xliff.xliffunit.getcontext">
<code class="descname">getcontext</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.xliff.xliffunit.getcontext" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the message context.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.xliff.xliffunit.getcontextgroups">
<code class="descname">getcontextgroups</code><span class="sig-paren">(</span><em>name</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.xliff.xliffunit.getcontextgroups" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the contexts in the context groups with the specified name</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.xliff.xliffunit.geterrors">
<code class="descname">geterrors</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.xliff.xliffunit.geterrors" title="Permalink to this definition">¶</a></dt>
<dd><p>Get all error messages.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.xliff.xliffunit.getid">
<code class="descname">getid</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.xliff.xliffunit.getid" title="Permalink to this definition">¶</a></dt>
<dd><p>A unique identifier for this unit.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">string</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">an identifier for this unit that is unique in the store</td>
</tr>
</tbody>
</table>
<p>Derived classes should override this in a way that guarantees a unique
identifier for each unit in the store.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.xliff.xliffunit.getlanguageNode">
<code class="descname">getlanguageNode</code><span class="sig-paren">(</span><em>lang=None</em>, <em>index=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.xliff.xliffunit.getlanguageNode" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieves a <code class="xref py py-attr docutils literal notranslate"><span class="pre">languageNode</span></code> either by language or by index.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.xliff.xliffunit.getlanguageNodes">
<code class="descname">getlanguageNodes</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.xliff.xliffunit.getlanguageNodes" title="Permalink to this definition">¶</a></dt>
<dd><p>We override this to get source and target nodes.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.xliff.xliffunit.getlocations">
<code class="descname">getlocations</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.xliff.xliffunit.getlocations" title="Permalink to this definition">¶</a></dt>
<dd><p>A list of source code locations.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">List</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Shouldn’t be implemented if the format doesn’t support it.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.xliff.xliffunit.getnotes">
<code class="descname">getnotes</code><span class="sig-paren">(</span><em>origin=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.xliff.xliffunit.getnotes" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns all notes about this unit.</p>
<p>It will probably be freeform text or something reasonable that can be
synthesised by the format.
It should not include location comments (see
<a class="reference internal" href="#translate.storage.base.TranslationUnit.getlocations" title="translate.storage.base.TranslationUnit.getlocations"><code class="xref py py-meth docutils literal notranslate"><span class="pre">getlocations()</span></code></a>).</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.xliff.xliffunit.getrestype">
<code class="descname">getrestype</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.xliff.xliffunit.getrestype" title="Permalink to this definition">¶</a></dt>
<dd><p>returns the restype attribute in the trans-unit tag</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.xliff.xliffunit.gettarget">
<code class="descname">gettarget</code><span class="sig-paren">(</span><em>lang=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.xliff.xliffunit.gettarget" title="Permalink to this definition">¶</a></dt>
<dd><p>retrieves the “target” text (second entry), or the entry in the
specified language, if it exists</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.xliff.xliffunit.gettargetlen">
<code class="descname">gettargetlen</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.xliff.xliffunit.gettargetlen" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the length of the target string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">Integer</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Plural forms might be combined.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.xliff.xliffunit.getunits">
<code class="descname">getunits</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.xliff.xliffunit.getunits" title="Permalink to this definition">¶</a></dt>
<dd><p>This unit in a list.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.xliff.xliffunit.hasplural">
<code class="descname">hasplural</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.xliff.xliffunit.hasplural" title="Permalink to this definition">¶</a></dt>
<dd><p>Tells whether or not this specific unit has plural strings.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.xliff.xliffunit.infer_state">
<code class="descname">infer_state</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.xliff.xliffunit.infer_state" title="Permalink to this definition">¶</a></dt>
<dd><p>Empty method that should be overridden in sub-classes to infer the
current state(_n) of the unit from its current state.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.xliff.xliffunit.isapproved">
<code class="descname">isapproved</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.xliff.xliffunit.isapproved" title="Permalink to this definition">¶</a></dt>
<dd><p>States whether this unit is approved.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.xliff.xliffunit.isblank">
<code class="descname">isblank</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.xliff.xliffunit.isblank" title="Permalink to this definition">¶</a></dt>
<dd><p>Used to see if this unit has no source or target string.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This is probably used more to find translatable units,
and we might want to move in that direction rather and
get rid of this.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="translate.storage.xliff.xliffunit.isfuzzy">
<code class="descname">isfuzzy</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.xliff.xliffunit.isfuzzy" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit is fuzzy.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.xliff.xliffunit.isheader">
<code class="descname">isheader</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.xliff.xliffunit.isheader" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit is a header.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.xliff.xliffunit.isobsolete">
<code class="descname">isobsolete</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.xliff.xliffunit.isobsolete" title="Permalink to this definition">¶</a></dt>
<dd><p>indicate whether a unit is obsolete</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.xliff.xliffunit.isreview">
<code class="descname">isreview</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.xliff.xliffunit.isreview" title="Permalink to this definition">¶</a></dt>
<dd><p>States whether this unit needs to be reviewed</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.xliff.xliffunit.istranslatable">
<code class="descname">istranslatable</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.xliff.xliffunit.istranslatable" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit can be translated.</p>
<p>This should be used to distinguish real units for translation from
header, obsolete, binary or other blank units.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.xliff.xliffunit.istranslated">
<code class="descname">istranslated</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.xliff.xliffunit.istranslated" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether this unit is translated.</p>
<p>This should be used rather than deducing it from .target,
to ensure that other classes can implement more functionality
(as XLIFF does).</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.xliff.xliffunit.makeobsolete">
<code class="descname">makeobsolete</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.xliff.xliffunit.makeobsolete" title="Permalink to this definition">¶</a></dt>
<dd><p>Make a unit obsolete</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.xliff.xliffunit.markapproved">
<code class="descname">markapproved</code><span class="sig-paren">(</span><em>value=True</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.xliff.xliffunit.markapproved" title="Permalink to this definition">¶</a></dt>
<dd><p>Mark this unit as approved.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.xliff.xliffunit.markfuzzy">
<code class="descname">markfuzzy</code><span class="sig-paren">(</span><em>value=True</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.xliff.xliffunit.markfuzzy" title="Permalink to this definition">¶</a></dt>
<dd><p>Marks the unit as fuzzy or not.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.xliff.xliffunit.markreviewneeded">
<code class="descname">markreviewneeded</code><span class="sig-paren">(</span><em>needsreview=True</em>, <em>explanation=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.xliff.xliffunit.markreviewneeded" title="Permalink to this definition">¶</a></dt>
<dd><p>Marks the unit to indicate whether it needs review.</p>
<p>Adds an optional explanation as a note.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.xliff.xliffunit.merge">
<code class="descname">merge</code><span class="sig-paren">(</span><em>otherunit</em>, <em>overwrite=False</em>, <em>comments=True</em>, <em>authoritative=False</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.xliff.xliffunit.merge" title="Permalink to this definition">¶</a></dt>
<dd><p>Do basic format agnostic merging.</p>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.xliff.xliffunit.multistring_to_rich">
<em class="property">classmethod </em><code class="descname">multistring_to_rich</code><span class="sig-paren">(</span><em>mstr</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.xliff.xliffunit.multistring_to_rich" title="Permalink to this definition">¶</a></dt>
<dd><p>Override <code class="xref py py-meth docutils literal notranslate"><span class="pre">TranslationUnit.multistring_to_rich()</span></code> which is used
by the <code class="docutils literal notranslate"><span class="pre">rich_source</span></code> and <code class="docutils literal notranslate"><span class="pre">rich_target</span></code> properties.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.xliff.xliffunit.namespaced">
<code class="descname">namespaced</code><span class="sig-paren">(</span><em>name</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.xliff.xliffunit.namespaced" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns name in Clark notation.</p>
<p>For example <code class="docutils literal notranslate"><span class="pre">namespaced(&quot;source&quot;)</span></code> in an XLIFF document
might return:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span><span class="n">urn</span><span class="p">:</span><span class="n">oasis</span><span class="p">:</span><span class="n">names</span><span class="p">:</span><span class="n">tc</span><span class="p">:</span><span class="n">xliff</span><span class="p">:</span><span class="n">document</span><span class="p">:</span><span class="mf">1.1</span><span class="p">}</span><span class="n">source</span>
</pre></div>
</div>
<p>This is needed throughout lxml.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.xliff.xliffunit.removenotes">
<code class="descname">removenotes</code><span class="sig-paren">(</span><em>origin=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.xliff.xliffunit.removenotes" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove all the translator notes.</p>
</dd></dl>

<dl class="classmethod">
<dt id="translate.storage.xliff.xliffunit.rich_to_multistring">
<em class="property">classmethod </em><code class="descname">rich_to_multistring</code><span class="sig-paren">(</span><em>elem_list</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.xliff.xliffunit.rich_to_multistring" title="Permalink to this definition">¶</a></dt>
<dd><p>Override <code class="xref py py-meth docutils literal notranslate"><span class="pre">TranslationUnit.rich_to_multistring()</span></code> which is used
by the <code class="docutils literal notranslate"><span class="pre">rich_source</span></code> and <code class="docutils literal notranslate"><span class="pre">rich_target</span></code> properties.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.xliff.xliffunit.setcontext">
<code class="descname">setcontext</code><span class="sig-paren">(</span><em>context</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.xliff.xliffunit.setcontext" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the message context</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.xliff.xliffunit.setid">
<code class="descname">setid</code><span class="sig-paren">(</span><em>id</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.xliff.xliffunit.setid" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the unique identified for this unit.</p>
<p>only implemented if format allows ids independant from other unit
properties like source or context</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.xliff.xliffunit.settarget">
<code class="descname">settarget</code><span class="sig-paren">(</span><em>target</em>, <em>lang='xx'</em>, <em>append=False</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.xliff.xliffunit.settarget" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the target string to the given value.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.xliff.xliffunit.unit_iter">
<code class="descname">unit_iter</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.xliff.xliffunit.unit_iter" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterator that only returns this unit.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-translate.storage.xml_extract">
<span id="xml-extract"></span><h2>xml_extract<a class="headerlink" href="#module-translate.storage.xml_extract" title="Permalink to this headline">¶</a></h2>
<div class="section" id="module-translate.storage.xml_extract.extract">
<span id="extract"></span><h3>extract<a class="headerlink" href="#module-translate.storage.xml_extract.extract" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="translate.storage.xml_extract.extract.ParseState">
<em class="property">class </em><code class="descclassname">translate.storage.xml_extract.extract.</code><code class="descname">ParseState</code><span class="sig-paren">(</span><em>no_translate_content_elements</em>, <em>inline_elements={}</em>, <em>nsmap={}</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.xml_extract.extract.ParseState" title="Permalink to this definition">¶</a></dt>
<dd><p>Maintain constants and variables used during the walking of a DOM tree
(via the function apply).</p>
</dd></dl>

<dl class="class">
<dt id="translate.storage.xml_extract.extract.Translatable">
<em class="property">class </em><code class="descclassname">translate.storage.xml_extract.extract.</code><code class="descname">Translatable</code><span class="sig-paren">(</span><em>placeable_name</em>, <em>xpath</em>, <em>dom_node</em>, <em>source</em>, <em>is_inline=False</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.xml_extract.extract.Translatable" title="Permalink to this definition">¶</a></dt>
<dd><p>A node corresponds to a translatable element. A node may have children,
which correspond to placeables.</p>
<dl class="attribute">
<dt id="translate.storage.xml_extract.extract.Translatable.has_translatable_text">
<code class="descname">has_translatable_text</code><a class="headerlink" href="#translate.storage.xml_extract.extract.Translatable.has_translatable_text" title="Permalink to this definition">¶</a></dt>
<dd><p>Check if it contains any chunk of text with more than whitespace.</p>
<p>If not, then there’s nothing to translate.</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="translate.storage.xml_extract.extract.build_idml_store">
<code class="descclassname">translate.storage.xml_extract.extract.</code><code class="descname">build_idml_store</code><span class="sig-paren">(</span><em>odf_file</em>, <em>store</em>, <em>parse_state</em>, <em>store_adder=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.xml_extract.extract.build_idml_store" title="Permalink to this definition">¶</a></dt>
<dd><p>Build a store for the given IDML file.</p>
</dd></dl>

<dl class="function">
<dt id="translate.storage.xml_extract.extract.build_store">
<code class="descclassname">translate.storage.xml_extract.extract.</code><code class="descname">build_store</code><span class="sig-paren">(</span><em>odf_file</em>, <em>store</em>, <em>parse_state</em>, <em>store_adder=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.xml_extract.extract.build_store" title="Permalink to this definition">¶</a></dt>
<dd><p>Build a store for the given XML file.</p>
</dd></dl>

<dl class="function">
<dt id="translate.storage.xml_extract.extract.make_postore_adder">
<code class="descclassname">translate.storage.xml_extract.extract.</code><code class="descname">make_postore_adder</code><span class="sig-paren">(</span><em>store</em>, <em>id_maker</em>, <em>filename</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.xml_extract.extract.make_postore_adder" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a function which, when called with a Translatable will add
a unit to ‘store’. The placeables will be represented as strings according
to ‘placeable_quoter’.</p>
</dd></dl>

<dl class="function">
<dt id="translate.storage.xml_extract.extract.process_translatable">
<code class="descclassname">translate.storage.xml_extract.extract.</code><code class="descname">process_translatable</code><span class="sig-paren">(</span><em>dom_node</em>, <em>state</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.xml_extract.extract.process_translatable" title="Permalink to this definition">¶</a></dt>
<dd><p>Process a translatable DOM node.</p>
<p>Any translatable content present in a child node is treated as a placeable.</p>
</dd></dl>

</div>
<div class="section" id="module-translate.storage.xml_extract.generate">
<span id="generate"></span><h3>generate<a class="headerlink" href="#module-translate.storage.xml_extract.generate" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="translate.storage.xml_extract.generate.find_dom_root">
<code class="descclassname">translate.storage.xml_extract.generate.</code><code class="descname">find_dom_root</code><span class="sig-paren">(</span><em>parent_dom_node</em>, <em>dom_node</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.xml_extract.generate.find_dom_root" title="Permalink to this definition">¶</a></dt>
<dd><div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="#translate.storage.xml_extract.generate.find_placeable_dom_tree_roots" title="translate.storage.xml_extract.generate.find_placeable_dom_tree_roots"><code class="xref py py-meth docutils literal notranslate"><span class="pre">find_placeable_dom_tree_roots()</span></code></a></p>
</div>
</dd></dl>

<dl class="function">
<dt id="translate.storage.xml_extract.generate.find_placeable_dom_tree_roots">
<code class="descclassname">translate.storage.xml_extract.generate.</code><code class="descname">find_placeable_dom_tree_roots</code><span class="sig-paren">(</span><em>unit_node</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.xml_extract.generate.find_placeable_dom_tree_roots" title="Permalink to this definition">¶</a></dt>
<dd><p>For an inline placeable, find the root DOM node for the placeable in its
parent.</p>
<p>Consider the diagram. In this pseudo-ODF example, there is an inline span
element. However, the span is contained in other tags (which we never process).
When splicing the template DOM tree (that is, the DOM which comes from
the XML document we’re using to generate a translated XML document), we’ll
need to move DOM sub-trees around and we need the roots of these sub-trees:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;</span> <span class="n">This</span> <span class="ow">is</span> <span class="n">text</span> \<span class="o">/</span>                <span class="o">&lt;-</span> <span class="n">Paragraph</span> <span class="n">containing</span> <span class="n">an</span> <span class="n">inline</span> <span class="n">placeable</span>
                 <span class="o">&lt;</span><span class="n">blah</span><span class="o">&gt;</span>            <span class="o">&lt;-</span> <span class="n">Inline</span> <span class="n">placeable</span><span class="s1">&#39;s root (which we want to find)</span>
                 <span class="o">...</span>               <span class="o">&lt;-</span> <span class="n">Any</span> <span class="n">number</span> <span class="n">of</span> <span class="n">intermediate</span> <span class="n">DOM</span> <span class="n">nodes</span>
                 <span class="o">&lt;</span><span class="n">span</span><span class="o">&gt;</span> <span class="n">bold</span> <span class="n">text</span>  <span class="o">&lt;-</span> <span class="n">The</span> <span class="n">inline</span> <span class="n">placeable</span><span class="s1">&#39;s Translatable</span>
                                      <span class="n">holds</span> <span class="n">a</span> <span class="n">reference</span> <span class="n">to</span> <span class="n">this</span> <span class="n">DOM</span> <span class="n">node</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="translate.storage.xml_extract.generate.get_xliff_source_target_doms">
<code class="descclassname">translate.storage.xml_extract.generate.</code><code class="descname">get_xliff_source_target_doms</code><span class="sig-paren">(</span><em>unit</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.xml_extract.generate.get_xliff_source_target_doms" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a tuple with unit source and target DOM objects.</p>
<p>This method is method is meant to provide a way to retrieve the DOM objects
for the unit source and target for XLIFF stores.</p>
</dd></dl>

<dl class="function">
<dt id="translate.storage.xml_extract.generate.replace_dom_text">
<code class="descclassname">translate.storage.xml_extract.generate.</code><code class="descname">replace_dom_text</code><span class="sig-paren">(</span><em>make_parse_state</em>, <em>dom_retriever=&lt;function get_xliff_source_target_doms&gt;</em>, <em>process_translatable=&lt;function process_translatable&gt;</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.xml_extract.generate.replace_dom_text" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a function:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">action</span><span class="p">:</span> <span class="n">etree_Element</span> <span class="n">x</span> <span class="n">base</span><span class="o">.</span><span class="n">TranslationUnit</span> <span class="o">-&gt;</span> <span class="kc">None</span>
</pre></div>
</div>
<p>which takes a dom_node and a translation unit. The dom_node is rearranged
according to rearrangement of placeables in unit.target (relative to their
positions in unit.source).</p>
</dd></dl>

</div>
<div class="section" id="module-translate.storage.xml_extract.misc">
<span id="misc"></span><h3>misc<a class="headerlink" href="#module-translate.storage.xml_extract.misc" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="translate.storage.xml_extract.misc.compose_mappings">
<code class="descclassname">translate.storage.xml_extract.misc.</code><code class="descname">compose_mappings</code><span class="sig-paren">(</span><em>left</em>, <em>right</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.xml_extract.misc.compose_mappings" title="Permalink to this definition">¶</a></dt>
<dd><p>Given two mappings left: A -&gt; B and right: B -&gt; C, create a hash
result_map: A -&gt; C. Only values in left (i.e. things from B) which have
corresponding keys in right will have their keys mapped to values in right.</p>
</dd></dl>

<dl class="function">
<dt id="translate.storage.xml_extract.misc.parse_tag">
<code class="descclassname">translate.storage.xml_extract.misc.</code><code class="descname">parse_tag</code><span class="sig-paren">(</span><em>full_tag</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.xml_extract.misc.parse_tag" title="Permalink to this definition">¶</a></dt>
<dd><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">parse_tag</span><span class="p">(</span><span class="s1">&#39;{urn:oasis:names:tc:opendocument:xmlns:office:1.0}document-content&#39;</span><span class="p">)</span>
<span class="go">(&#39;urn:oasis:names:tc:opendocument:xmlns:office:1.0&#39;, &#39;document-content&#39;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">parse_tag</span><span class="p">(</span><span class="s1">&#39;document-content&#39;</span><span class="p">)</span>
<span class="go">(&#39;&#39;, &#39;document-content&#39;)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="translate.storage.xml_extract.misc.reduce_tree">
<code class="descclassname">translate.storage.xml_extract.misc.</code><code class="descname">reduce_tree</code><span class="sig-paren">(</span><em>f</em>, <em>parent_unit_node</em>, <em>unit_node</em>, <em>get_children</em>, <em>*state</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.xml_extract.misc.reduce_tree" title="Permalink to this definition">¶</a></dt>
<dd><p>Enumerate a tree, applying f to in a pre-order fashion to each node.</p>
<p>parent_unit_node contains the parent of unit_node. For the root of the tree,
parent_unit_node == unit_node.</p>
<p>get_children is a single argument function applied to a unit_node to
get a list/iterator to its children.</p>
<p>state is used by f to modify state information relating to whatever f does
to the tree.</p>
</dd></dl>

</div>
<div class="section" id="module-translate.storage.xml_extract.unit_tree">
<span id="unit-tree"></span><h3>unit_tree<a class="headerlink" href="#module-translate.storage.xml_extract.unit_tree" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="translate.storage.xml_extract.unit_tree.build_unit_tree">
<code class="descclassname">translate.storage.xml_extract.unit_tree.</code><code class="descname">build_unit_tree</code><span class="sig-paren">(</span><em>store</em>, <em>filename=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.xml_extract.unit_tree.build_unit_tree" title="Permalink to this definition">¶</a></dt>
<dd><p>Enumerate a translation store and build a tree with XPath components as nodes
and where a node contains a unit if a path from the root of the tree to the node
containing the unit, is equal to the XPath of the unit.</p>
<p>The tree looks something like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>root
   `- (&#39;document-content&#39;, 1)
      `- (&#39;body&#39;, 2)
         |- (&#39;text&#39;, 1)
         |  `- (&#39;p&#39;, 1)
         |     `- &lt;reference to a unit&gt;
         |- (&#39;text&#39;, 2)
         |  `- (&#39;p&#39;, 1)
         |     `- &lt;reference to a unit&gt;
         `- (&#39;text&#39;, 3)
            `- (&#39;p&#39;, 1)
               `- &lt;reference to a unit&gt;
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="module-translate.storage.xml_extract.xpath_breadcrumb">
<span id="xpath-breadcrumb"></span><h3>xpath_breadcrumb<a class="headerlink" href="#module-translate.storage.xml_extract.xpath_breadcrumb" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="translate.storage.xml_extract.xpath_breadcrumb.XPathBreadcrumb">
<em class="property">class </em><code class="descclassname">translate.storage.xml_extract.xpath_breadcrumb.</code><code class="descname">XPathBreadcrumb</code><a class="headerlink" href="#translate.storage.xml_extract.xpath_breadcrumb.XPathBreadcrumb" title="Permalink to this definition">¶</a></dt>
<dd><p>A class which is used to build XPath-like paths as a DOM tree is
walked. It keeps track of the number of times which it has seen
a certain tag, so that it will correctly create indices for tags.</p>
<p>Initially, the path is empty. Thus
&gt;&gt;&gt; xb = XPathBreadcrumb()
&gt;&gt;&gt; xb.xpath
“”</p>
<p>Suppose we walk down a DOM node for the tag &lt;foo&gt; and we want to
record this, we simply do
&gt;&gt;&gt; xb.start_tag(‘foo’)</p>
<p>Now, the path is no longer empty. Thus
&gt;&gt;&gt; xb.xpath
foo[0]</p>
<p>Now suppose there are two &lt;bar&gt; tags under the tag &lt;foo&gt; (that is
&lt;foo&gt;&lt;bar&gt;&lt;/bar&gt;&lt;bar&gt;&lt;/bar&gt;&lt;foo&gt;), then the breadcrumb will keep
track of the number of times it sees &lt;bar&gt;. Thus</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">xb</span><span class="o">.</span><span class="n">start_tag</span><span class="p">(</span><span class="s1">&#39;bar&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">xb</span><span class="o">.</span><span class="n">xpath</span>
<span class="go">foo[0]/bar[0]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">xb</span><span class="o">.</span><span class="n">end_tag</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">xb</span><span class="o">.</span><span class="n">xpath</span>
<span class="go">foo[0]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">xb</span><span class="o">.</span><span class="n">start_tag</span><span class="p">(</span><span class="s1">&#39;bar&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">xb</span><span class="o">.</span><span class="n">xpath</span>
<span class="go">foo[0]/bar[1]</span>
</pre></div>
</div>
</dd></dl>

</div>
</div>
<div class="section" id="module-translate.storage.xml_name">
<span id="xml-name"></span><h2>xml_name<a class="headerlink" href="#module-translate.storage.xml_name" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="translate.storage.xml_name.XmlNamer">
<em class="property">class </em><code class="descclassname">translate.storage.xml_name.</code><code class="descname">XmlNamer</code><span class="sig-paren">(</span><em>dom_node</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.xml_name.XmlNamer" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialize me with a DOM node or a DOM document node (the
toplevel node you get when parsing an XML file). Then use me
to generate fully qualified XML names.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">xml</span> <span class="o">=</span> <span class="s1">&#39;&lt;office:document-styles xmlns:office=&quot;urn:oasis:names:tc:opendocument:xmlns:office:1.0&quot;&gt;&lt;/office&gt;&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">lxml</span> <span class="kn">import</span> <span class="n">etree</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">namer</span> <span class="o">=</span> <span class="n">XmlNamer</span><span class="p">(</span><span class="n">etree</span><span class="o">.</span><span class="n">fromstring</span><span class="p">(</span><span class="n">xml</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">namer</span><span class="o">.</span><span class="n">name</span><span class="p">(</span><span class="s1">&#39;office&#39;</span><span class="p">,</span> <span class="s1">&#39;blah&#39;</span><span class="p">)</span>
<span class="go">{urn:oasis:names:tc:opendocument:xmlns:office:1.0}blah</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">namer</span><span class="o">.</span><span class="n">name</span><span class="p">(</span><span class="s1">&#39;office:blah&#39;</span><span class="p">)</span>
<span class="go">{urn:oasis:names:tc:opendocument:xmlns:office:1.0}blah</span>
</pre></div>
</div>
<p>I can also give you XmlNamespace objects if you give me the abbreviated
namespace name. These are useful if you need to reference a namespace
continuously.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">office_ns</span> <span class="o">=</span> <span class="n">name</span><span class="o">.</span><span class="n">namespace</span><span class="p">(</span><span class="s1">&#39;office&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">office_ns</span><span class="o">.</span><span class="n">name</span><span class="p">(</span><span class="s1">&#39;foo&#39;</span><span class="p">)</span>
<span class="go">{urn:oasis:names:tc:opendocument:xmlns:office:1.0}foo</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="module-translate.storage.zip">
<span id="zip"></span><h2>zip<a class="headerlink" href="#module-translate.storage.zip" title="Permalink to this headline">¶</a></h2>
<p>This module provides functionality to work with zip files.</p>
<dl class="class">
<dt id="translate.storage.zip.ZIPFile">
<em class="property">class </em><code class="descclassname">translate.storage.zip.</code><code class="descname">ZIPFile</code><span class="sig-paren">(</span><em>filename=None</em><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.zip.ZIPFile" title="Permalink to this definition">¶</a></dt>
<dd><p>This class represents a ZIP file like a directory.</p>
<dl class="method">
<dt id="translate.storage.zip.ZIPFile.file_iter">
<code class="descname">file_iter</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.zip.ZIPFile.file_iter" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterator over (dir, filename) for all files in this directory.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.zip.ZIPFile.getfiles">
<code class="descname">getfiles</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.zip.ZIPFile.getfiles" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a list of (dir, filename) tuples for all the file names in
this directory.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.zip.ZIPFile.getunits">
<code class="descname">getunits</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.zip.ZIPFile.getunits" title="Permalink to this definition">¶</a></dt>
<dd><p>List of all the units in all the files in this directory.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.zip.ZIPFile.scanfiles">
<code class="descname">scanfiles</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.zip.ZIPFile.scanfiles" title="Permalink to this definition">¶</a></dt>
<dd><p>Populate the internal file data.</p>
</dd></dl>

<dl class="method">
<dt id="translate.storage.zip.ZIPFile.unit_iter">
<code class="descname">unit_iter</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#translate.storage.zip.ZIPFile.unit_iter" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterator over all the units in all the files in this zip file.</p>
</dd></dl>

</dd></dl>

</div>
</div>


</div>
<hr>

<footer class="footer">
  <div class="container">
    <p class="pull-right"><a href="#">Back to top ↑</a></p>
    <ul class="unstyled muted">
      <li><small>
        &copy; 2002-2020, Translate.<br/>
      </small></li>
      <li><small>
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.8.5.
      </small></li>
    </ul>
  </div>
</footer>
  </body>
</html>